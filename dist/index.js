"use strict";(()=>{var gr=Object.defineProperty;var yr=(n,e,t)=>e in n?gr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var f=(n,e,t)=>(yr(n,typeof e!="symbol"?e+"":e,t),t);var T=(n,e=document)=>{let t=e.querySelectorAll(n);return t.length?[...t]:[]};var yn=()=>{let n={prod:"https://www.landc.co.uk/api/",test:"https://test.landc.co.uk/api/"},e=[{host:"www.landc.co.uk",api:n.prod},{host:"test.landc.co.uk",api:n.test},{host:"dev.landc.co.uk",api:n.test}];if(typeof window>"u")return n.test;let{hostname:t,search:a}=window.location,s=new URLSearchParams(a).get("api");return s?n[s]||n.prod:e.find(o=>o.host===t)?.api||n.prod};var bn=yn(),xe={productsTrigger:`${bn}productshttptrigger`,calculatorTrigger:`${bn}calculatorhttptrigger`,svrForLenders:`${bn}SVRForLendersTrigger`,costOfDoingNothing:`${bn}CODNTrigger`};var se=!window.location.host.includes("www.landc.co.uk");var ze=n=>{let e={style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:n<100?2:0},t=n<100?n:Math.round(n),a=/Â£/;return new Intl.NumberFormat("en-GB",e).format(t).replace(a,"")};var x=(n,e=document)=>e.querySelector(n)??void 0;var vn=(n,e)=>{let t=new URL(n.href),a=new URLSearchParams(t.search);e.forEach(i=>{a.set(i.key,i.value)}),t.search=a.toString(),n.href=t.toString()};var Ma="data-mini",br=xe.productsTrigger,xn=class{constructor(e){f(this,"component");f(this,"values");f(this,"rows");f(this,"loader");f(this,"isLoading");f(this,"result");this.component=e,this.values=this.getValues(),this.rows=T(`[${Ma}-el="row"]`,e),this.loader=x(`[${Ma}-el="loader"]`,e),this.isLoading=!0}init(){this.handleAzureRequest()}toggleLoading(e){this.isLoading=!this.isLoading,this.isLoading?this.loader.style.display="block":e?this.loader.style.display="none":e||(this.loader.style.display="none")}getValues(){let e=this.component.dataset.propertyvalue,t=this.component.dataset.repaymentvalue,a=this.component.dataset.propertytype,i=this.component.dataset.mortgagetype,s=this.component.dataset.interestonlyvalue,o=this.component.dataset.termyears,r=this.component.dataset.schemepurpose,l=this.component.dataset.schemeperiods,u=this.component.dataset.schemetypes,c=this.component.dataset.erc,h=this.component.dataset.offset,d=this.component.dataset.sortcolumn,p=this.component.dataset.usestaticapr;function m(y){let b=y.replace(/'/g,'"');return JSON.parse(b)}return{PropertyValue:e??"250000",RepaymentValue:t??"125000",PropertyType:a??"1",MortgageType:i??"1",InterestOnlyValue:s??"0",TermYears:o??"25",SchemePurpose:r??"1",SchemePeriods:m(l)??["1","2","3","4"],SchemeTypes:m(u)??["1","2"],NumberOfResults:"3",Features:{EarlyRepaymentCharge:c!=="true",Offset:h==="true",NewBuild:!1},SortColumn:d??"1",UseStaticApr:p==="true"}}async handleAzureRequest(){se&&(console.groupCollapsed("API Call"),console.time("API Request"));try{let e=await this.makeAzureRequest();this.result=e.result,se&&console.log(e),!this.result||this.result===null||!this.result.success||this.result.data.length===0?this.toggleLoading(!1):(this.displayResults(),this.toggleLoading(!0))}catch(e){console.error("Error retrieving calculation",e),this.toggleLoading(!1)}se&&(console.timeEnd("API Request"),console.groupEnd())}async makeAzureRequest(){let e=new Headers;e.append("Content-Type","application/json");let t=JSON.stringify({input:this.values});console.log(e),console.log(t);let a=await fetch(br,{method:"POST",headers:e,body:t});if(!a.ok)throw new Error(`API responded with status ${a.status}`);return a.json()}displayResults(){this.result&&this.result.data.forEach((e,t)=>{let a=this.rows[t];T(`[${Ma}-output]`,a).forEach(o=>{let r=o.dataset.miniOutput;if(!r)return;let l=e[r];(l===0||e[r])&&(typeof l=="number"?o.textContent=ze(l):o.nodeName==="IMG"&&o instanceof HTMLImageElement?o.src=l:o.textContent=l)});let s=x("a",a);vn(s,[{key:"productId",value:e.ProductId}])})}};var et=(n,e)=>(Array.isArray(e)||(e=[e]),e.map(a=>n.dispatchEvent(new Event(a,{bubbles:!0}))).every(a=>a));var An=()=>{let n="data-dialog";T(`[${n}="component"]`).forEach(t=>{let a=x(`[${n}="open"]`,t),i=x("dialog",t),s=x(`[${n}="close"]`,t);!a||!i||!s||(a.addEventListener("click",()=>{i.showModal()}),s.addEventListener("click",()=>{i.close()}))})};function mt(n){let e=!0,t;if(n instanceof HTMLInputElement){let{type:a,required:i,value:s}=n;if(i&&!s.trim())return e=!1,t="This field is required.",{isValid:e,error:t};switch(a){case"number":let{min:o,max:r}=n,l=!0;o&&(l=Number(s)>=Number(o));let u=!0;if(r&&(u=Number(s)<=Number(r)),e=l&&u,e)break;t=l?`Input needs to be ${r} or less`:`Input needs to be ${o} or higher`;break;default:e=n.checkValidity(),t=e?void 0:n.validationMessage;break}}else n instanceof HTMLSelectElement&&(e=n.checkValidity(),t=e?void 0:n.validationMessage);return{isValid:e,error:t}}function gt(n){if(n instanceof HTMLInputElement){let{type:e,value:t}=n;if(e!=="number")return;let{step:a}=n;if(Number(a)<1)return;n.value=Math.round(Number(t)).toString()}else n.type==="fieldset"&&T('input[type="radio"]').forEach(t=>{let{parentElement:a,checked:i}=t;a&&(i?a.classList.add("checked"):a.classList.remove("checked"))})}function k(n){let e;return n instanceof HTMLInputElement||n instanceof HTMLSelectElement?e=n.value:n instanceof HTMLFieldSetElement&&(e=x('input[type="radio"]:checked',n).value),n instanceof HTMLInputElement&&n.type==="checkbox"&&(e=n.checked),e==="true"||e==="on"||e==="Y"?e=!0:(e==="false"||e==="off"||e==="N")&&(e=!1),e}function Bi(n){let e=n,t;for(;e;)if(e.parentElement&&e.parentElement.classList&&e.parentElement.classList.contains("custom-field_component")){t=e.parentElement;break}else if(e.parentElement)e=e.parentElement;else break;return t}function Se(n,e){let t=Bi(n);if(!t)return;let a=x('[data-calc-el="message"]',t),i=x('[data-calc-el="error"]',t);i&&(e?(i.textContent=e,i.style.display="block",a&&(a.style.display="none")):(i.style.display="none",a&&a.style.removeProperty("display")))}var oe="data-bb",vr=xe.productsTrigger,Ln=class{constructor(e){f(this,"component");f(this,"template");f(this,"trigger","onload");f(this,"clone");f(this,"inputs");f(this,"conditionals");f(this,"sort");f(this,"buttons");f(this,"resultsList");f(this,"loading");f(this,"noResults");f(this,"isLoading");f(this,"loadMoreWrapper");f(this,"loadMore");f(this,"scaffoldWrapper");f(this,"scaffoldCover");f(this,"scaffoldResult");f(this,"removeScaffold",!0);f(this,"numberOfResultsShown");f(this,"productId");f(this,"formattedValues");f(this,"result");this.component=e,this.trigger=e.dataset.bbTrigger==="onclick"?"onclick":"onload",this.template=x(`[${oe}-el="template"]`,e),this.clone=this.template.cloneNode(!0),this.clone.removeAttribute("data-bb-el"),this.inputs=T("[data-input], input, select",e),this.conditionals=T("[data-conditions]",e),this.buttons=T(`[${oe}-el="button"]`,e),this.sort=x('[data-input="SortColumn"]',e),this.resultsList=x(`[${oe}-el="results-list"]`),this.loading=x(`[${oe}-el="loading"]`,e),this.noResults=x(`[${oe}-el="no-results"]`,e),this.isLoading=!1,this.loadMoreWrapper=x(`[${oe}-el="load-more"]`,e),this.loadMore=x("button",this.loadMoreWrapper),this.scaffoldWrapper=x(`[${oe}-el="scaffold-wrapper"]`,e),this.scaffoldCover=x(`[${oe}-el="scaffold-cover"]`,this.scaffoldWrapper),this.scaffoldResult=x(`[${oe}-el="scaffold-result"]`,this.scaffoldWrapper),this.numberOfResultsShown=0;let t=new URL(window.location.href),a=new URLSearchParams(t.search);this.productId=a.get("productId")??null,this.formattedValues=this.getValues()}hideScaffold(){this.scaffoldWrapper.classList.remove(...this.scaffoldWrapper.classList),this.scaffoldCover.remove(),this.scaffoldResult.remove()}async init(){this.conditionalVisibility(),this.trigger==="onload"?(this.isLoading=!0,this.productId&&this.scrollIntoView(),await this.handleAzureRequest(),this.productId&&this.scrollIntoView(this.productId)):this.trigger==="onclick"&&(this.loading.style.display="none",this.noResults.style.display="none",this.resultsList.style.display="none",this.loadMoreWrapper.style.display="none"),this.bindEvents()}bindEvents(){this.inputs.forEach(e=>{e.addEventListener("change",()=>{gt(e),this.validateInput(e)})}),this.buttons.forEach(e=>{e.addEventListener("click",()=>{this.validateInputs()&&(this.toggleLoading(),this.numberOfResultsShown=0,this.handleAzureRequest())})}),this.sort.addEventListener("change",()=>{this.validateInputs()&&(this.toggleLoading(),this.numberOfResultsShown=0,this.handleAzureRequest())}),this.loadMore.addEventListener("click",()=>{this.displayResults(this.numberOfResultsShown,10)})}validateInput(e){let t=mt(e);return t.error?Se(e,t.error):Se(e),t.isValid}validateInputs(){return this.inputs.every(e=>this.validateInput(e))}conditionalVisibility(){this.conditionals.forEach(e=>{let{conditions:t}=e.dataset;if(!t)return;let a=JSON.parse(t),i=this.inputs.find(r=>r.dataset.input===a.dependsOn);if(!i)return;let s=!1;switch(a.operator){case"equal":s=k(i)===a.value;break;case"notequal":s=k(i)!==a.value;break}let o=x("[data-input]",e);o.dataset.conditionsmet=s.toString(),e.style.display=s?"block":"none",i.addEventListener("change",()=>{switch(a.operator){case"equal":s=k(i)===a.value;break;case"notequal":s=k(i)!==a.value;break}o.dataset.conditionsmet=s.toString(),e.style.display=s?"block":"none"})})}toggleLoading(e){this.removeScaffold&&(this.hideScaffold(),this.removeScaffold=!1),this.isLoading=!this.isLoading,this.isLoading?(this.loading.style.display="block",this.noResults.style.display="none",this.resultsList.style.display="none",this.loadMoreWrapper.style.display="none"):e?(this.loading.style.display="none",this.noResults.style.display="none",this.resultsList.style.display="flex",this.loadMoreWrapper.style.display="flex"):e||(this.loading.style.display="none",this.noResults.style.display="flex",this.resultsList.style.display="none",this.loadMoreWrapper.style.display="none")}getValues(){let e={};this.inputs.forEach(a=>{if(a.dataset.conditionsmet&&a.dataset.conditionsmet==="false")return;let i=a.dataset.input,s=k(a);!i||!s||(e[i]=s)});let t={PropertyValue:e.PropertyValue,RepaymentValue:e.RepaymentValue,PropertyType:e.PropertyType,MortgageType:e.MortgageType==="Residential"?"1":"2",InterestOnlyValue:e.InterestOnlyValue,TermYears:e.TermYears,SchemePurpose:e.SchemePurpose==="Purchase"?"1":"2",SchemePeriods:[],SchemeTypes:[],NumberOfResults:"100",Features:{EarlyRepaymentCharge:e.Erc,Offset:e.Offset,NewBuild:e.NewBuild},SortColumn:e.SortColumn,UseStaticApr:!1};return e.ShowAsTwoYear&&t.SchemePeriods.push("1"),e.ShowAsThreeYear&&t.SchemePeriods.push("2"),e.ShowAsFiveYear&&t.SchemePeriods.push("3"),e.ShowAsLongTerm&&t.SchemePeriods.push("4"),e.ShowAsFix&&t.SchemeTypes.push("1"),e.ShowAsVar&&t.SchemeTypes.push("2"),this.formattedValues=t,t}async handleAzureRequest(){se&&(console.groupCollapsed("API Call"),console.time("API Request"),console.log(this));try{let e=await this.makeAzureRequest();this.result=e.result,se&&console.log(e),!this.result||this.result===null||!this.result.success||this.result.data.length===0?this.toggleLoading(!1):(this.clearResults(),this.displayResults(0,10),this.toggleLoading(!0))}catch(e){console.error("Error retrieving calculation",e),this.toggleLoading(!1)}se&&(console.timeEnd("API Request"),console.groupEnd(),console.log(this))}async makeAzureRequest(){let e=new Headers;e.append("Content-Type","application/json");let t=JSON.stringify({input:this.getValues()}),a=await fetch(vr,{method:"POST",headers:e,body:t});if(!a.ok)throw new Error(`API responded with status ${a.status}`);return a.json()}clearResults(){this.resultsList.innerHTML=""}displayResults(e,t){this.result&&(this.result.data.forEach((a,i)=>{if(i<e||i>e+t-1)return;let s=this.clone.cloneNode(!0);s.style.removeProperty("display"),s.setAttribute("data-productId",a.ProductId),T(`[${oe}-output]`,s).forEach(d=>{let p=d.dataset.bbOutput;if(!p)return;let m=a[p];(m===0||m===""||a[p])&&(typeof m=="number"?d.textContent=ze(m):d.nodeName==="IMG"&&d instanceof HTMLImageElement?d.src=m:d.textContent=m)});let r=x(`[${oe}-el="more-toggle"]`,s),l=x(`[${oe}-el="more-text"]`,s),u=x(`[${oe}-el="more-icon"]`,s),c=x(`[${oe}-el="more-content"]`,s);if(r&&l&&u&&c){let d=!1;r.addEventListener("click",()=>{l.textContent=d?"More info":"Less info",u.style.transform=d?"rotate(0deg)":"rotate(45deg)",c.style.display=d?"none":"block",d=!d})}let h=x(".button",s);h&&vn(h,[{key:"purchaseOrRemortgage",value:this.formattedValues.SchemePurpose==="1"?"p":"r"},{key:"residentialOrBuyToLet",value:this.formattedValues.MortgageType==="1"?"r":"b"}]),this.resultsList.appendChild(s)}),this.numberOfResultsShown+=t,this.numberOfResultsShown<this.result.data.length?this.loadMoreWrapper.style.display="flex":this.loadMoreWrapper.style.removeProperty("display"),An())}scrollIntoView(e){let t;if(!e)t=x(".best-buy_main");else{t=x(`.bb-result_component[data-productId="${e}"]`,this.resultsList);let a=x(`[${oe}-el="more-toggle"]`,t);if(!a)return;et(a,"click")}t&&(t.scrollIntoView({behavior:"instant"}),window.scrollBy(0,-32))}};var Hi=()=>{T("[data-bb]").forEach(t=>{let{bb:a}=t.dataset;if(!a)return;let i=a==="table"?new Ln(t):a==="mini"?new xn(t):null;i!==null&&i.init()})};var zi=(n,e)=>{let t=r=>{o(r)};n.addEventListener("focus",a,!0),n.addEventListener("blur",i,!0),n.addEventListener("input",s,!0);function a(){n.addEventListener("keydown",t)}function i(){n.removeEventListener("keydown",t)}function s(){n.removeEventListener("keydown",t)}function o(r){r.key==="Enter"&&e()}};function Pa(n,e){let t=document.getElementById(n);if(!t)return;let a=document.querySelector(`[fs-rangeslider-calc="${n}"]`),i=document.querySelector(`[fs-rangeslider-handlename="${n}"]`),s=document.querySelector(`[fs-rangeslider-fillname="${n}"]`);if(!a||!i)return;let o=()=>{let r=parseFloat(t.value);if(isNaN(r))return;let l=parseFloat(t.min||i.getAttribute("aria-valuemin")||"0"),u=parseFloat(t.max||i.getAttribute("aria-valuemax")||"100"),h=(Math.min(Math.max(r,l),u)-l)/(u-l)*100,d=a.clientWidth,p=h/100*d;i.style.left=`${p}px`,s.style.width=`${p}px`};o(),t.addEventListener("input",o)}var qi={residentialborrowinglimit:{inputs:{names:["Applicant1Income","Applicant2Income","DepositAmount"]},outputs:{names:["BorrowingAmountLower","BorrowingAmountHigher"]}},buytoletborrowinglimit:{inputs:{names:["RentalIncome"]},outputs:{names:["BorrowingAmountLower","BorrowingAmountHigher"]}},mortgagecost:{inputs:{names:["RepaymentValue","TermYears","Rate","PaymentType"]},outputs:{names:["MonthlyPayment","TotalOverTerm","CapitalRepayment","InterestRepayment","ChartLabels","ChartDate"]}},houseprice:{inputs:{names:["Number","SubBuildingName","BuildingName","Street","Postcode"]},outputs:{names:["PropertyValue","ValuationUpper","ValuationLower","MonthlyRental","MonthlyRentalUpper","MonthlyRentalLower"]}},loantovalue:{inputs:{names:["PropertyValue","Type","DepositAmount","LoanAmount","LoanToValue"]},outputs:{names:["LoanAmount","DepositAmount","LoanToValue"]}},stampduty:{inputs:{names:["PurchasePrice","Location","FirstTimeBuyer","SecondProperty"]},outputs:{names:["BandRate","BandValue","BandCost","TotalCost"],repeats:["StampDutyData"]}},overpayment:{inputs:{names:["LoanAmount","Rate","Term","LoanType","Value","EventDate","RegularPayment","Frequency"],repeats:["OverpaymentEvents"]},outputs:{names:["ChartLabels","ChartData","ChartData2","OverpayingSaving","OverpayingInterest","OverpayingTerm"]}},ratechange:{inputs:{names:["LoanAmount","CurrentRate","Term","ChangeRate","PaymentType"]},outputs:{names:["CurrentPayment","NewPayment"]}},interest:{inputs:{names:["AmountInvested","InterestRate","TaxStatus"]},outputs:{names:["TaxRate","MonthlyInterest"]}},lifeinsurance:{inputs:{names:["Income","Spouse","University","LoanAmount","Rent","TotalLoans","TotalCreditCards","TotalSavings","TotalLifeInsurance","OtherAssets"],repeats:["ChildAge"]},outputs:{names:["IncomeReplacement","ChildrenCover","UniversityCover","HousingCover","Debts","Assets","TotalCoverRequired"]}},savings:{inputs:{names:["RequiredAmount","GrowthRate","DepositAmount","MonthlyInvestmentAmount","Term"]},outputs:{names:["SavingsTermTotal","SavingsTotalPerMonth","ChartLabels","ChartData"]}},offsetmortgage:{inputs:{names:["LoanAmount","Rate","Term","Fee","SavingsAmount","SavingsRate","MonthlySavings","OffsetRate","OffsetFees","CompareTerm","TaxStatus"]},outputs:{names:["OffsetStandardMonthly","OffsetMonthly","OffsetStandardInterestCost","OffsetInterestCost","OffsetInterestEarned","ChartLabels","ChartData","ChartData2"]}},bmi:{inputs:{names:["Height","Weight"]},outputs:{names:["Bmi"]}},comparerates:{inputs:{names:["PropertyValue","LoanAmount","Term","Type","CurrentRate","CurrentFees","CurrentType","CurrentSchemeLength","CurrentFollowOn","CompareRate","CompareFees","CompareType","CompareSchemeLength","CompareFollowOn","ERCAmount","ERCTerm","ERCAdd","ComparisonTerm","InterestRateEnvironment"]},outputs:{names:["CostOfRate1","CostOfRate2","ChartLabels","ChartData","ChartData2"]}},rentprice:{inputs:{names:["Number","SubBuildingName","BuildingName","DependentStreet","Street","Postcode","addressId"]},outputs:{names:["PropertyValue","ValuationUpper","ValuationLower","MonthlyRental","MonthlyRentalUpper","MonthlyRentalLower"]}},costofdoingnothing:{inputs:{names:["PropertyValue","LoanAmount","Term","Type","CurrentRate","CurrentFees","CurrentType","CurrentSchemeLength","CurrentFollowOn","CompareRate","CompareFees","CompareType","CompareSchemeLength","CompareFollowOn","ERCAmount","ERCTerm","ERCAdd","ComparisonTerm","InterestRateEnvironment"]},outputs:{names:["CostOfRate1","CostOfRate2","ChartLabels","ChartData","ChartData2"]}}};function Rn(n,e){let{condition:t}=n.dataset;if(!t)return;let a=JSON.parse(t),i=e.find(r=>r.dataset.input===a.dependsOn);if(!i)return;let s=!1;switch(a.operator){case"equal":s=k(i)===a.value;break;case"notequal":s=k(i)!==a.value;break}n.style.display=s?"block":"none";let o=x("[data-input]",n);o&&(o.dataset.conditionsmet=s.toString())}var $i="data-calc",Fn=class{constructor(e,t){f(this,"calculator");f(this,"name");f(this,"template");f(this,"templateWrapper");f(this,"inputs");f(this,"clone");f(this,"groups");f(this,"max");f(this,"type");f(this,"button");this.calculator=e,this.name=t,this.template=x(`[${$i}-input-repeat=${t}]`,e.component),this.templateWrapper=this.template.parentElement,this.inputs=T("[data-input]",this.template),this.clone=this.template.cloneNode(!0),this.groups=[this.template],this.max=Number(this.template.dataset.calcInputRepeatMax),this.type=this.inputs.length===1?"stringArray":"objectArray",this.button=x(`[${$i}-input-repeat-duplicate="${t}"]`,e.component)}init(){this.button.addEventListener("click",()=>{this.addTemplate()})}addTemplate(){if(this.maxGroupsCheck())return;let t=this.clone.cloneNode(!0),a=x("label",t),i=x("input, select",t);if(a&&i){let s=`${this.name}-${this.groups.length+1}`;a.setAttribute("for",s),i.setAttribute("id",s)}this.templateWrapper.appendChild(t),this.groups.push(t),this.maxGroupsCheck()}maxGroupsCheck(){return this.groups.length===this.max?(this.button.disabled,!0):!1}getValues(){let e=[];return this.groups.forEach(t=>{let a=T("[data-input]",t);if(this.type==="stringArray")a.forEach(i=>{let s=k(i);s&&e.push(s.toString())});else if(this.type==="objectArray"){let i={};a.forEach(s=>{let o=s.dataset.input,r=k(s);!o||!r||(i[o]=r)}),e.push(i)}}),e}};var Mn=class{constructor(e){f(this,"calculator");f(this,"config");f(this,"all");f(this,"repeats");f(this,"inputs");f(this,"conditionals");this.calculator=e,this.config=e.config.inputs,this.all=T("[data-input]",e.component),this.config.repeats?(this.repeats=this.config.repeats.map(t=>new Fn(this.calculator,t)),this.inputs=[],this.all.forEach(t=>{this.repeats?.some(i=>i.inputs.includes(t))||this.inputs.push(t)})):this.inputs=T("[data-input]",e.component),this.conditionals=T(".calculator_inputs [data-condition]",e.component)}init(){this.repeats&&this.repeats.forEach(e=>{e.init()}),this.minMaxValues(),this.handleConditionals(),this.bindEvents()}minMaxValues(){this.all.forEach(e=>{if(e.type==="date"){let o=function(u){let c=u.getFullYear().toString(),h=(u.getMonth()+1).toString().padStart(2,"0"),d=u.getDate().toString().padStart(2,"0");return c+"-"+h+"-"+d};var t=o;let a=new Date,i=new Date(a.getTime());i.setMonth(a.getMonth()+1);let s=new Date(a.getTime());s.setFullYear(a.getFullYear()+5);let r=o(i),l=o(s);e.setAttribute("min",r),e.setAttribute("max",l)}})}check(){let e=[],t=!0;return this.config.names.forEach(a=>{let i=this.all.find(o=>o.dataset.input===a),s=a==="DepositAmount"&&!i;e.push({input:a,present:!!i||s}),!i&&a!=="DepositAmount"&&(t=!1)}),console.table(e),t}validateInput(e){let t=mt(e);return t.error?Se(e,t.error):Se(e),t.isValid}validateInputs(){let e=!1,t=!0;return this.inputs.forEach(a=>{this.validateInput(a)||(t=!1,e||(a.focus(),e=!0))}),t}getValues(){let e={};return this.calculator.name==="comparerates"?(e.PropertyValue=k(x('[data-input="PropertyValue"]',this.calculator.component)),e.LoanAmount=k(x('[data-input="LoanAmount"]',this.calculator.component)),e.Term=k(x('[data-input="Term"]',this.calculator.component)),e.Type=k(x('[data-input="Type"]',this.calculator.component)),e.ComparisonRates=[{Rate:k(x('[data-input="CurrentRate"]',this.calculator.component)),Fees:k(x('[data-input="CurrentFees"]',this.calculator.component)),Type:k(x('[data-input="CurrentType"]',this.calculator.component)),SchemeLength:k(x('[data-input="CurrentSchemeLength"]',this.calculator.component)),ERCAmount:k(x('[data-input="ERCAmount"]',this.calculator.component)),ERCTerm:k(x('[data-input="ERCTerm"]',this.calculator.component)),ERCAdd:k(x('[data-input="ERCAdd"]',this.calculator.component)),FollowOn:k(x('[data-input="CurrentFollowOn"]',this.calculator.component))},{Rate:k(x('[data-input="CompareRate"]',this.calculator.component)),Fees:k(x('[data-input="CompareFees"]',this.calculator.component)),Type:k(x('[data-input="CompareType"]',this.calculator.component)),SchemeLength:k(x('[data-input="CompareSchemeLength"]',this.calculator.component)),FollowOn:k(x('[data-input="CompareFollowOn"]',this.calculator.component))}],e.ComparisonTerm=k(x('[data-input="ComparisonTerm"]',this.calculator.component)),e.InterestRateEnvironment=k(x('[data-input="InterestRateEnvironment"]',this.calculator.component))):(this.inputs.forEach(t=>{let a=t.dataset.input,i=k(t);if(!a||!i)return;let{conditionsmet:s}=t.dataset;s!=="false"&&(e[a]=i)}),this.repeats&&this.repeats.forEach(t=>{e[t.name]=t.getValues()})),e}handleConditionals(){this.conditionals.forEach(e=>{Rn(e,this.inputs)})}bindEvents(){this.all.forEach(e=>{e.addEventListener("input",()=>{gt(e),this.validateInput(e),this.handleConditionals(),this.calculator.name})})}};function Ut(n){return n+.5|0}var qe=(n,e,t)=>Math.max(Math.min(n,t),e);function $t(n){return qe(Ut(n*2.55),0,255)}function $e(n){return qe(Ut(n*255),0,255)}function Oe(n){return qe(Ut(n/2.55)/100,0,1)}function Wi(n){return qe(Ut(n*100),0,100)}var me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ta=[..."0123456789ABCDEF"],xr=n=>Ta[n&15],Ar=n=>Ta[(n&240)>>4]+Ta[n&15],Pn=n=>(n&240)>>4===(n&15),Lr=n=>Pn(n.r)&&Pn(n.g)&&Pn(n.b)&&Pn(n.a);function Rr(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&me[n[1]]*17,g:255&me[n[2]]*17,b:255&me[n[3]]*17,a:e===5?me[n[4]]*17:255}:(e===7||e===9)&&(t={r:me[n[1]]<<4|me[n[2]],g:me[n[3]]<<4|me[n[4]],b:me[n[5]]<<4|me[n[6]],a:e===9?me[n[7]]<<4|me[n[8]]:255})),t}var Fr=(n,e)=>n<255?e(n):"";function Mr(n){var e=Lr(n)?xr:Ar;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Fr(n.a,e):void 0}var Pr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yi(n,e,t){let a=e*Math.min(t,1-t),i=(s,o=(s+n/30)%12)=>t-a*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function wr(n,e,t){let a=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[a(5),a(3),a(1)]}function Tr(n,e,t){let a=Yi(n,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)a[i]*=1-e-t,a[i]+=e;return a}function Cr(n,e,t,a,i){return n===i?(e-t)/a+(e<t?6:0):e===i?(t-n)/a+2:(n-e)/a+4}function Ca(n){let t=n.r/255,a=n.g/255,i=n.b/255,s=Math.max(t,a,i),o=Math.min(t,a,i),r=(s+o)/2,l,u,c;return s!==o&&(c=s-o,u=r>.5?c/(2-s-o):c/(s+o),l=Cr(t,a,i,c,s),l=l*60+.5),[l|0,u||0,r]}function Ea(n,e,t,a){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,a)).map($e)}function Sa(n,e,t){return Ea(Yi,n,e,t)}function Er(n,e,t){return Ea(Tr,n,e,t)}function Sr(n,e,t){return Ea(wr,n,e,t)}function Xi(n){return(n%360+360)%360}function Or(n){let e=Pr.exec(n),t=255,a;if(!e)return;e[5]!==a&&(t=e[6]?$t(+e[5]):$e(+e[5]));let i=Xi(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?a=Er(i,s,o):e[1]==="hsv"?a=Sr(i,s,o):a=Sa(i,s,o),{r:a[0],g:a[1],b:a[2],a:t}}function _r(n,e){var t=Ca(n);t[0]=Xi(t[0]+e),t=Sa(t),n.r=t[0],n.g=t[1],n.b=t[2]}function kr(n){if(!n)return;let e=Ca(n),t=e[0],a=Wi(e[1]),i=Wi(e[2]);return n.a<255?`hsla(${t}, ${a}%, ${i}%, ${Oe(n.a)})`:`hsl(${t}, ${a}%, ${i}%)`}var Ui={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ji={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ir(){let n={},e=Object.keys(ji),t=Object.keys(Ui),a,i,s,o,r;for(a=0;a<e.length;a++){for(o=r=e[a],i=0;i<t.length;i++)s=t[i],r=r.replace(s,Ui[s]);s=parseInt(ji[o],16),n[r]=[s>>16&255,s>>8&255,s&255]}return n}var wn;function Nr(n){wn||(wn=Ir(),wn.transparent=[0,0,0,0]);let e=wn[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var Dr=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vr(n){let e=Dr.exec(n),t=255,a,i,s;if(e){if(e[7]!==a){let o=+e[7];t=e[8]?$t(o):qe(o*255,0,255)}return a=+e[1],i=+e[3],s=+e[5],a=255&(e[2]?$t(a):qe(a,0,255)),i=255&(e[4]?$t(i):qe(i,0,255)),s=255&(e[6]?$t(s):qe(s,0,255)),{r:a,g:i,b:s,a:t}}}function Br(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Oe(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var wa=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,yt=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Hr(n,e,t){let a=yt(Oe(n.r)),i=yt(Oe(n.g)),s=yt(Oe(n.b));return{r:$e(wa(a+t*(yt(Oe(e.r))-a))),g:$e(wa(i+t*(yt(Oe(e.g))-i))),b:$e(wa(s+t*(yt(Oe(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Tn(n,e,t){if(n){let a=Ca(n);a[e]=Math.max(0,Math.min(a[e]+a[e]*t,e===0?360:1)),a=Sa(a),n.r=a[0],n.g=a[1],n.b=a[2]}}function Qi(n,e){return n&&Object.assign(e||{},n)}function Gi(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=$e(n[3]))):(e=Qi(n,{r:0,g:0,b:0,a:1}),e.a=$e(e.a)),e}function zr(n){return n.charAt(0)==="r"?Vr(n):Or(n)}var Wt=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,a;t==="object"?a=Gi(e):t==="string"&&(a=Rr(e)||Nr(e)||zr(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Qi(this._rgb);return e&&(e.a=Oe(e.a)),e}set rgb(e){this._rgb=Gi(e)}rgbString(){return this._valid?Br(this._rgb):void 0}hexString(){return this._valid?Mr(this._rgb):void 0}hslString(){return this._valid?kr(this._rgb):void 0}mix(e,t){if(e){let a=this.rgb,i=e.rgb,s,o=t===s?.5:t,r=2*o-1,l=a.a-i.a,u=((r*l===-1?r:(r+l)/(1+r*l))+1)/2;s=1-u,a.r=255&u*a.r+s*i.r+.5,a.g=255&u*a.g+s*i.g+.5,a.b=255&u*a.b+s*i.b+.5,a.a=o*a.a+(1-o)*i.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=Hr(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=$e(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Ut(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tn(this._rgb,2,e),this}darken(e){return Tn(this._rgb,2,-e),this}saturate(e){return Tn(this._rgb,1,e),this}desaturate(e){return Tn(this._rgb,1,-e),this}rotate(e){return _r(this._rgb,e),this}};function Fe(){}var rs=(()=>{let n=0;return()=>n++})();function O(n){return n==null}function B(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function U(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function le(n,e){return U(n)?n:e}function C(n,e){return typeof n>"u"?e:n}var ls=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,Ia=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function V(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function N(n,e,t,a){let i,s,o;if(B(n))if(s=n.length,a)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(_(n))for(o=Object.keys(n),s=o.length,i=0;i<s;i++)e.call(t,n[o[i]],o[i])}function Yt(n,e){let t,a,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,a=n.length;t<a;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function On(n){if(B(n))return n.map(On);if(_(n)){let e=Object.create(null),t=Object.keys(n),a=t.length,i=0;for(;i<a;++i)e[t[i]]=On(n[t[i]]);return e}return n}function us(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function qr(n,e,t,a){if(!us(n))return;let i=e[n],s=t[n];_(i)&&_(s)?vt(i,s,a):e[n]=On(s)}function vt(n,e,t){let a=B(e)?e:[e],i=a.length;if(!_(n))return n;t=t||{};let s=t.merger||qr,o;for(let r=0;r<i;++r){if(o=a[r],!_(o))continue;let l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],n,o,t)}return n}function At(n,e){return vt(n,e,{merger:$r})}function $r(n,e,t){if(!us(n))return;let a=e[n],i=t[n];_(a)&&_(i)?At(a,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=On(i))}var Ki={"":n=>n,x:n=>n.x,y:n=>n.y};function Wr(n){let e=n.split("."),t=[],a="";for(let i of e)a+=i,a.endsWith("\\")?a=a.slice(0,-1)+".":(t.push(a),a="");return t}function Ur(n){let e=Wr(n);return t=>{for(let a of e){if(a==="")break;t=t&&t[a]}return t}}function Ie(n,e){return(Ki[e]||(Ki[e]=Ur(e)))(n)}function Nn(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Lt=n=>typeof n<"u",_e=n=>typeof n=="function",Na=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function cs(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var H=Math.PI,z=2*H,jr=z+H,_n=Number.POSITIVE_INFINITY,Gr=H/180,j=H/2,tt=H/4,Ji=H*2/3,ke=Math.log10,Ae=Math.sign;function Rt(n,e,t){return Math.abs(n-e)<t}function Da(n){let e=Math.round(n);n=Rt(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(ke(n))),a=n/t;return(a<=1?1:a<=2?2:a<=5?5:10)*t}function hs(n){let e=[],t=Math.sqrt(n),a;for(a=1;a<t;a++)n%a===0&&(e.push(a),e.push(n/a));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function Yr(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function it(n){return!Yr(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ds(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function Va(n,e,t){let a,i,s;for(a=0,i=n.length;a<i;a++)s=n[a][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ge(n){return n*(H/180)}function Dn(n){return n*(180/H)}function Ba(n){if(!U(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Ha(n,e){let t=e.x-n.x,a=e.y-n.y,i=Math.sqrt(t*t+a*a),s=Math.atan2(a,t);return s<-.5*H&&(s+=z),{angle:s,distance:i}}function kn(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Xr(n,e){return(n-e+jr)%z-H}function re(n){return(n%z+z)%z}function Ft(n,e,t,a){let i=re(n),s=re(e),o=re(t),r=re(s-i),l=re(o-i),u=re(i-s),c=re(i-o);return i===s||i===o||a&&s===o||r>l&&u<c}function K(n,e,t){return Math.max(e,Math.min(t,n))}function ps(n){return K(n,-32768,32767)}function Me(n,e,t,a=1e-6){return n>=Math.min(e,t)-a&&n<=Math.max(e,t)+a}function Vn(n,e,t){t=t||(o=>n[o]<e);let a=n.length-1,i=0,s;for(;a-i>1;)s=i+a>>1,t(s)?i=s:a=s;return{lo:i,hi:a}}var Le=(n,e,t,a)=>Vn(n,t,a?i=>{let s=n[i][e];return s<t||s===t&&n[i+1][e]===t}:i=>n[i][e]<t),fs=(n,e,t)=>Vn(n,t,a=>n[a][e]>=t);function ms(n,e,t){let a=0,i=n.length;for(;a<i&&n[a]<e;)a++;for(;i>a&&n[i-1]>t;)i--;return a>0||i<n.length?n.slice(a,i):n}var gs=["push","pop","shift","splice","unshift"];function ys(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),gs.forEach(t=>{let a="_onData"+Nn(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){let o=i.apply(this,s);return n._chartjs.listeners.forEach(r=>{typeof r[a]=="function"&&r[a](...s)}),o}})})}function za(n,e){let t=n._chartjs;if(!t)return;let a=t.listeners,i=a.indexOf(e);i!==-1&&a.splice(i,1),!(a.length>0)&&(gs.forEach(s=>{delete n[s]}),delete n._chartjs)}function qa(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var $a=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Wa(n,e){let t=[],a=!1;return function(...i){t=i,a||(a=!0,$a.call(window,()=>{a=!1,n.apply(e,t)}))}}function bs(n,e){let t;return function(...a){return e?(clearTimeout(t),t=setTimeout(n,e,a)):n.apply(this,a),e}}var Bn=n=>n==="start"?"left":n==="end"?"right":"center",te=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,vs=(n,e,t,a)=>n===(a?"left":"right")?t:n==="center"?(e+t)/2:e;function Ua(n,e,t){let a=e.length,i=0,s=a;if(n._sorted){let{iScale:o,vScale:r,_parsed:l}=n,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,c=o.axis,{min:h,max:d,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(Le(l,c,h).lo,t?a:Le(e,c,o.getPixelForValue(h)).lo),u){let g=l.slice(0,i+1).reverse().findIndex(y=>!O(y[r.axis]));i-=Math.max(0,g)}i=K(i,0,a-1)}if(m){let g=Math.max(Le(l,o.axis,d,!0).hi+1,t?0:Le(e,c,o.getPixelForValue(d),!0).hi+1);if(u){let y=l.slice(g-1).findIndex(b=>!O(b[r.axis]));g+=Math.max(0,y)}s=K(g,i,a)-i}else s=a-i}return{start:i,count:s}}function ja(n){let{xScale:e,yScale:t,_scaleRanges:a}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!a)return n._scaleRanges=i,!0;let s=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==t.min||a.ymax!==t.max;return Object.assign(a,i),s}var Cn=n=>n===0||n===1,Zi=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*z/t)),es=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*z/t)+1,bt={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*j)+1,easeOutSine:n=>Math.sin(n*j),easeInOutSine:n=>-.5*(Math.cos(H*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cn(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cn(n)?n:Zi(n,.075,.3),easeOutElastic:n=>Cn(n)?n:es(n,.075,.3),easeInOutElastic(n){return Cn(n)?n:n<.5?.5*Zi(n*2,.1125,.45):.5+.5*es(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-bt.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bt.easeInBounce(n*2)*.5:bt.easeOutBounce(n*2-1)*.5+.5};function Ga(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ya(n){return Ga(n)?n:new Wt(n)}function Oa(n){return Ga(n)?n:new Wt(n).saturate(.5).darken(.1).hexString()}var Qr=["x","y","borderWidth","radius","tension"],Kr=["color","borderColor","backgroundColor"];function Jr(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Kr},numbers:{type:"number",properties:Qr}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Zr(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var ts=new Map;function el(n,e){e=e||{};let t=n+JSON.stringify(e),a=ts.get(t);return a||(a=new Intl.NumberFormat(n,e),ts.set(t,a)),a}function Mt(n,e,t){return el(e,t).format(n)}var xs={values(n){return B(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let a=this.chart.options.locale,i,s=n;if(t.length>1){let u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=tl(n,t)}let o=ke(Math.abs(s)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),Mt(n,a,l)},logarithmic(n,e,t){if(n===0)return"0";let a=t[e].significand||n/Math.pow(10,Math.floor(ke(n)));return[1,2,3,5,10,15].includes(a)||e>.8*t.length?xs.numeric.call(this,n,e,t):""}};function tl(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Xt={formatters:xs};function nl(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Ue=Object.create(null),Hn=Object.create(null);function jt(n,e){if(!e)return n;let t=e.split(".");for(let a=0,i=t.length;a<i;++a){let s=t[a];n=n[s]||(n[s]=Object.create(null))}return n}function _a(n,e,t){return typeof e=="string"?vt(jt(n,e),t):vt(jt(n,""),e)}var ka=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,i)=>Oa(i.backgroundColor),this.hoverBorderColor=(a,i)=>Oa(i.borderColor),this.hoverColor=(a,i)=>Oa(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return _a(this,e,t)}get(e){return jt(this,e)}describe(e,t){return _a(Hn,e,t)}override(e,t){return _a(Ue,e,t)}route(e,t,a,i){let s=jt(this,e),o=jt(this,a),r="_"+t;Object.defineProperties(s,{[r]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[r],u=o[i];return _(l)?Object.assign({},u,l):C(l,u)},set(l){this[r]=l}}})}apply(e){e.forEach(t=>t(this))}},$=new ka({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Jr,Zr,nl]);function al(n){return!n||O(n.size)||O(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Gt(n,e,t,a,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>a&&(a=s),a}function As(n,e,t,a){a=a||{};let i=a.data=a.data||{},s=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(i=a.data={},s=a.garbageCollect=[],a.font=e),n.save(),n.font=e;let o=0,r=t.length,l,u,c,h,d;for(l=0;l<r;l++)if(h=t[l],h!=null&&!B(h))o=Gt(n,i,s,o,h);else if(B(h))for(u=0,c=h.length;u<c;u++)d=h[u],d!=null&&!B(d)&&(o=Gt(n,i,s,o,d));n.restore();let p=s.length/2;if(p>t.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function je(n,e,t){let a=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*a)/a+i}function Xa(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function zn(n,e,t,a){Qa(n,e,t,a,null)}function Qa(n,e,t,a,i){let s,o,r,l,u,c,h,d,p=e.pointStyle,m=e.rotation,g=e.radius,y=(m||0)*Gr;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,a),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),p){default:i?n.ellipse(t,a,i/2,g,0,0,z):n.arc(t,a,g,0,z),n.closePath();break;case"triangle":c=i?i/2:g,n.moveTo(t+Math.sin(y)*c,a-Math.cos(y)*g),y+=Ji,n.lineTo(t+Math.sin(y)*c,a-Math.cos(y)*g),y+=Ji,n.lineTo(t+Math.sin(y)*c,a-Math.cos(y)*g),n.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(y+tt)*l,h=Math.cos(y+tt)*(i?i/2-u:l),r=Math.sin(y+tt)*l,d=Math.sin(y+tt)*(i?i/2-u:l),n.arc(t-h,a-r,u,y-H,y-j),n.arc(t+d,a-o,u,y-j,y),n.arc(t+h,a+r,u,y,y+j),n.arc(t-d,a+o,u,y+j,y+H),n.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,c=i?i/2:l,n.rect(t-c,a-l,2*c,2*l);break}y+=tt;case"rectRot":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,r=Math.sin(y)*g,d=Math.sin(y)*(i?i/2:g),n.moveTo(t-h,a-r),n.lineTo(t+d,a-o),n.lineTo(t+h,a+r),n.lineTo(t-d,a+o),n.closePath();break;case"crossRot":y+=tt;case"cross":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,r=Math.sin(y)*g,d=Math.sin(y)*(i?i/2:g),n.moveTo(t-h,a-r),n.lineTo(t+h,a+r),n.moveTo(t+d,a-o),n.lineTo(t-d,a+o);break;case"star":h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,r=Math.sin(y)*g,d=Math.sin(y)*(i?i/2:g),n.moveTo(t-h,a-r),n.lineTo(t+h,a+r),n.moveTo(t+d,a-o),n.lineTo(t-d,a+o),y+=tt,h=Math.cos(y)*(i?i/2:g),o=Math.cos(y)*g,r=Math.sin(y)*g,d=Math.sin(y)*(i?i/2:g),n.moveTo(t-h,a-r),n.lineTo(t+h,a+r),n.moveTo(t+d,a-o),n.lineTo(t-d,a+o);break;case"line":o=i?i/2:Math.cos(y)*g,r=Math.sin(y)*g,n.moveTo(t-o,a-r),n.lineTo(t+o,a+r);break;case"dash":n.moveTo(t,a),n.lineTo(t+Math.cos(y)*(i?i/2:g),a+Math.sin(y)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Re(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Qt(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Kt(n){n.restore()}function Ls(n,e,t,a,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){let s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!a?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Rs(n,e,t,a){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?t.cp2x:t.cp1x,a?t.cp2y:t.cp1y,t.x,t.y)}function il(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),O(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function sl(n,e,t,a,i){if(i.strikethrough||i.underline){let s=n.measureText(a),o=e-s.actualBoundingBoxLeft,r=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,u=t+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(o,c),n.lineTo(r,c),n.stroke()}}function ol(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ge(n,e,t,a,i,s={}){let o=B(e)?e:[e],r=s.strokeWidth>0&&s.strokeColor!=="",l,u;for(n.save(),n.font=i.string,il(n,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&ol(n,s.backdrop),r&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),O(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(u,t,a,s.maxWidth)),n.fillText(u,t,a,s.maxWidth),sl(n,t,a,u,s),a+=Number(i.lineHeight);n.restore()}function Pt(n,e){let{x:t,y:a,w:i,h:s,radius:o}=e;n.arc(t+o.topLeft,a+o.topLeft,o.topLeft,1.5*H,H,!0),n.lineTo(t,a+s-o.bottomLeft),n.arc(t+o.bottomLeft,a+s-o.bottomLeft,o.bottomLeft,H,j,!0),n.lineTo(t+i-o.bottomRight,a+s),n.arc(t+i-o.bottomRight,a+s-o.bottomRight,o.bottomRight,j,0,!0),n.lineTo(t+i,a+o.topRight),n.arc(t+i-o.topRight,a+o.topRight,o.topRight,0,-j,!0),n.lineTo(t+o.topLeft,a)}var rl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ll=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ul(n,e){let t=(""+n).match(rl);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var cl=n=>+n||0;function qn(n,e){let t={},a=_(e),i=a?Object.keys(e):e,s=_(n)?a?o=>C(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of i)t[o]=cl(s(o));return t}function Ka(n){return qn(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ye(n){return qn(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ne(n){let e=Ka(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Q(n,e){n=n||{},e=e||$.font;let t=C(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let a=C(n.style,e.style);a&&!(""+a).match(ll)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);let i={family:C(n.family,e.family),lineHeight:ul(C(n.lineHeight,e.lineHeight),t),size:t,style:a,weight:C(n.weight,e.weight),string:""};return i.string=al(i),i}function wt(n,e,t,a){let i=!0,s,o,r;for(s=0,o=n.length;s<o;++s)if(r=n[s],r!==void 0&&(e!==void 0&&typeof r=="function"&&(r=r(e),i=!1),t!==void 0&&B(r)&&(r=r[t%r.length],i=!1),r!==void 0))return a&&!i&&(a.cacheable=!1),r}function Fs(n,e,t){let{min:a,max:i}=n,s=Ia(e,(i-a)/2),o=(r,l)=>t&&r===0?0:r+l;return{min:o(a,-Math.abs(s)),max:o(i,s)}}function Ne(n,e){return Object.assign(Object.create(n),e)}function $n(n,e=[""],t,a,i=()=>n[0]){let s=t||n;typeof a>"u"&&(a=ws("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:a,_getTarget:i,override:r=>$n([r,...n],e,s,a)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete r._keys,delete n[0][l],!0},get(r,l){return Ms(r,l,()=>bl(l,e,n,r))},getOwnPropertyDescriptor(r,l){return Reflect.getOwnPropertyDescriptor(r._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,l){return as(r).includes(l)},ownKeys(r){return as(r)},set(r,l,u){let c=r._storage||(r._storage=i());return r[l]=c[l]=u,delete r._keys,!0}})}function at(n,e,t,a){let i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Ja(n,a),setContext:s=>at(n,s,t,a),override:s=>at(n.override(s),e,t,a)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,r){return Ms(s,o,()=>dl(s,o,r))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,r){return n[o]=r,delete s[o],!0}})}function Ja(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:a=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:a,isScriptable:_e(t)?t:()=>t,isIndexable:_e(a)?a:()=>a}}var hl=(n,e)=>n?n+Nn(e):e,Za=(n,e)=>_(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ms(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let a=t();return n[e]=a,a}function dl(n,e,t){let{_proxy:a,_context:i,_subProxy:s,_descriptors:o}=n,r=a[e];return _e(r)&&o.isScriptable(e)&&(r=pl(e,r,n,t)),B(r)&&r.length&&(r=fl(e,r,n,o.isIndexable)),Za(e,r)&&(r=at(r,i,s&&s[e],o)),r}function pl(n,e,t,a){let{_proxy:i,_context:s,_subProxy:o,_stack:r}=t;if(r.has(n))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+n);r.add(n);let l=e(s,o||a);return r.delete(n),Za(n,l)&&(l=ei(i._scopes,i,n,l)),l}function fl(n,e,t,a){let{_proxy:i,_context:s,_subProxy:o,_descriptors:r}=t;if(typeof s.index<"u"&&a(n))return e[s.index%e.length];if(_(e[0])){let l=e,u=i._scopes.filter(c=>c!==l);e=[];for(let c of l){let h=ei(u,i,n,c);e.push(at(h,s,o&&o[n],r))}}return e}function Ps(n,e,t){return _e(n)?n(e,t):n}var ml=(n,e)=>n===!0?e:typeof n=="string"?Ie(e,n):void 0;function gl(n,e,t,a,i){for(let s of e){let o=ml(t,s);if(o){n.add(o);let r=Ps(o._fallback,t,i);if(typeof r<"u"&&r!==t&&r!==a)return r}else if(o===!1&&typeof a<"u"&&t!==a)return null}return!1}function ei(n,e,t,a){let i=e._rootScopes,s=Ps(e._fallback,t,a),o=[...n,...i],r=new Set;r.add(a);let l=ns(r,o,t,s||t,a);return l===null||typeof s<"u"&&s!==t&&(l=ns(r,o,s,l,a),l===null)?!1:$n(Array.from(r),[""],i,s,()=>yl(e,t,a))}function ns(n,e,t,a,i){for(;t;)t=gl(n,e,t,a,i);return t}function yl(n,e,t){let a=n._getTarget();e in a||(a[e]={});let i=a[e];return B(i)&&_(t)?t:i||{}}function bl(n,e,t,a){let i;for(let s of e)if(i=ws(hl(s,n),t),typeof i<"u")return Za(n,i)?ei(t,a,n,i):i}function ws(n,e){for(let t of e){if(!t)continue;let a=t[n];if(typeof a<"u")return a}}function as(n){let e=n._keys;return e||(e=n._keys=vl(n._scopes)),e}function vl(n){let e=new Set;for(let t of n)for(let a of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(a);return Array.from(e)}function ti(n,e,t,a){let{iScale:i}=n,{key:s="r"}=this._parsing,o=new Array(a),r,l,u,c;for(r=0,l=a;r<l;++r)u=r+t,c=e[u],o[r]={r:i.parse(Ie(c,s),u)};return o}var xl=Number.EPSILON||1e-14,xt=(n,e)=>e<n.length&&!n[e].skip&&n[e],Ts=n=>n==="x"?"y":"x";function Al(n,e,t,a){let i=n.skip?e:n,s=e,o=t.skip?e:t,r=kn(s,i),l=kn(o,s),u=r/(r+l),c=l/(r+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;let h=a*u,d=a*c;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function Ll(n,e,t){let a=n.length,i,s,o,r,l,u=xt(n,0);for(let c=0;c<a-1;++c)if(l=u,u=xt(n,c+1),!(!l||!u)){if(Rt(e[c],0,xl)){t[c]=t[c+1]=0;continue}i=t[c]/e[c],s=t[c+1]/e[c],r=Math.pow(i,2)+Math.pow(s,2),!(r<=9)&&(o=3/Math.sqrt(r),t[c]=i*o*e[c],t[c+1]=s*o*e[c])}}function Rl(n,e,t="x"){let a=Ts(t),i=n.length,s,o,r,l=xt(n,0);for(let u=0;u<i;++u){if(o=r,r=l,l=xt(n,u+1),!r)continue;let c=r[t],h=r[a];o&&(s=(c-o[t])/3,r[`cp1${t}`]=c-s,r[`cp1${a}`]=h-s*e[u]),l&&(s=(l[t]-c)/3,r[`cp2${t}`]=c+s,r[`cp2${a}`]=h+s*e[u])}}function Fl(n,e="x"){let t=Ts(e),a=n.length,i=Array(a).fill(0),s=Array(a),o,r,l,u=xt(n,0);for(o=0;o<a;++o)if(r=l,l=u,u=xt(n,o+1),!!l){if(u){let c=u[e]-l[e];i[o]=c!==0?(u[t]-l[t])/c:0}s[o]=r?u?Ae(i[o-1])!==Ae(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}Ll(n,i,s),Rl(n,s,e)}function En(n,e,t){return Math.max(Math.min(n,t),e)}function Ml(n,e){let t,a,i,s,o,r=Re(n[0],e);for(t=0,a=n.length;t<a;++t)o=s,s=r,r=t<a-1&&Re(n[t+1],e),s&&(i=n[t],o&&(i.cp1x=En(i.cp1x,e.left,e.right),i.cp1y=En(i.cp1y,e.top,e.bottom)),r&&(i.cp2x=En(i.cp2x,e.left,e.right),i.cp2y=En(i.cp2y,e.top,e.bottom)))}function Cs(n,e,t,a,i){let s,o,r,l;if(e.spanGaps&&(n=n.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Fl(n,i);else{let u=a?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)r=n[s],l=Al(u,r,n[Math.min(s+1,o-(a?0:1))%o],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,u=r}e.capBezierPoints&&Ml(n,t)}function Wn(){return typeof window<"u"&&typeof document<"u"}function Un(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function In(n,e,t){let a;return typeof n=="string"?(a=parseInt(n,10),n.indexOf("%")!==-1&&(a=a/100*e.parentNode[t])):a=n,a}var jn=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Pl(n,e){return jn(n).getPropertyValue(e)}var wl=["top","right","bottom","left"];function nt(n,e,t){let a={};t=t?"-"+t:"";for(let i=0;i<4;i++){let s=wl[i];a[s]=parseFloat(n[e+"-"+s+t])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}var Tl=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Cl(n,e){let t=n.touches,a=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=a,o=!1,r,l;if(Tl(i,s,n.target))r=i,l=s;else{let u=e.getBoundingClientRect();r=a.clientX-u.left,l=a.clientY-u.top,o=!0}return{x:r,y:l,box:o}}function Xe(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:a}=e,i=jn(t),s=i.boxSizing==="border-box",o=nt(i,"padding"),r=nt(i,"border","width"),{x:l,y:u,box:c}=Cl(n,t),h=o.left+(c&&r.left),d=o.top+(c&&r.top),{width:p,height:m}=e;return s&&(p-=o.width+r.width,m-=o.height+r.height),{x:Math.round((l-h)/p*t.width/a),y:Math.round((u-d)/m*t.height/a)}}function El(n,e,t){let a,i;if(e===void 0||t===void 0){let s=n&&Un(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{let o=s.getBoundingClientRect(),r=jn(s),l=nt(r,"border","width"),u=nt(r,"padding");e=o.width-u.width-l.width,t=o.height-u.height-l.height,a=In(r.maxWidth,s,"clientWidth"),i=In(r.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:a||_n,maxHeight:i||_n}}var Sn=n=>Math.round(n*10)/10;function Es(n,e,t,a){let i=jn(n),s=nt(i,"margin"),o=In(i.maxWidth,n,"clientWidth")||_n,r=In(i.maxHeight,n,"clientHeight")||_n,l=El(n,e,t),{width:u,height:c}=l;if(i.boxSizing==="content-box"){let d=nt(i,"border","width"),p=nt(i,"padding");u-=p.width+d.width,c-=p.height+d.height}return u=Math.max(0,u-s.width),c=Math.max(0,a?u/a:c-s.height),u=Sn(Math.min(u,o,l.maxWidth)),c=Sn(Math.min(c,r,l.maxHeight)),u&&!c&&(c=Sn(u/2)),(e!==void 0||t!==void 0)&&a&&l.height&&c>l.height&&(c=l.height,u=Sn(Math.floor(c*a))),{width:u,height:c}}function ni(n,e,t){let a=e||1,i=Math.floor(n.height*a),s=Math.floor(n.width*a);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==a||o.height!==i||o.width!==s?(n.currentDevicePixelRatio=a,o.height=i,o.width=s,n.ctx.setTransform(a,0,0,a,0,0),!0):!1}var Ss=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};Wn()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function ai(n,e){let t=Pl(n,e),a=t&&t.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function We(n,e,t,a){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Os(n,e,t,a){return{x:n.x+t*(e.x-n.x),y:a==="middle"?t<.5?n.y:e.y:a==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function _s(n,e,t,a){let i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=We(n,i,t),r=We(i,s,t),l=We(s,e,t),u=We(o,r,t),c=We(r,l,t);return We(u,c,t)}var Sl=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,a){return t-a},leftForLtr(t,a){return t-a}}},Ol=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function st(n,e,t){return n?Sl(e,t):Ol()}function ii(n,e){let t,a;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,a=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=a)}function si(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function ks(n){return n==="angle"?{between:Ft,compare:Xr,normalize:re}:{between:Me,compare:(e,t)=>e-t,normalize:e=>e}}function is({start:n,end:e,count:t,loop:a,style:i}){return{start:n%t,end:e%t,loop:a&&(e-n+1)%t===0,style:i}}function _l(n,e,t){let{property:a,start:i,end:s}=t,{between:o,normalize:r}=ks(a),l=e.length,{start:u,end:c,loop:h}=n,d,p;if(h){for(u+=l,c+=l,d=0,p=l;d<p&&o(r(e[u%l][a]),i,s);++d)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:h,style:n.style}}function oi(n,e,t){if(!t)return[n];let{property:a,start:i,end:s}=t,o=e.length,{compare:r,between:l,normalize:u}=ks(a),{start:c,end:h,loop:d,style:p}=_l(n,e,t),m=[],g=!1,y=null,b,v,R,L=()=>l(i,R,b)&&r(i,R)!==0,A=()=>r(s,b)===0||l(s,R,b),F=()=>g||L(),M=()=>!g||A();for(let P=c,w=c;P<=h;++P)v=e[P%o],!v.skip&&(b=u(v[a]),b!==R&&(g=l(b,i,s),y===null&&F()&&(y=r(b,i)===0?P:w),y!==null&&M()&&(m.push(is({start:y,end:P,loop:d,count:o,style:p})),y=null),w=P,R=b));return y!==null&&m.push(is({start:y,end:h,loop:d,count:o,style:p})),m}function ri(n,e){let t=[],a=n.segments;for(let i=0;i<a.length;i++){let s=oi(a[i],n.points,e);s.length&&t.push(...s)}return t}function kl(n,e,t,a){let i=0,s=e-1;if(t&&!a)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function Il(n,e,t,a){let i=n.length,s=[],o=e,r=n[e],l;for(l=e+1;l<=t;++l){let u=n[l%i];u.skip||u.stop?r.skip||(a=!1,s.push({start:e%i,end:(l-1)%i,loop:a}),e=o=u.stop?l:null):(o=l,r.skip&&(e=l)),r=u}return o!==null&&s.push({start:e%i,end:o%i,loop:a}),s}function Is(n,e){let t=n.points,a=n.options.spanGaps,i=t.length;if(!i)return[];let s=!!n._loop,{start:o,end:r}=kl(t,i,s,a);if(a===!0)return ss(n,[{start:o,end:r,loop:s}],t,e);let l=r<o?r+i:r,u=!!n._fullLoop&&o===0&&r===i-1;return ss(n,Il(t,o,l,u),t,e)}function ss(n,e,t,a){return!a||!a.setContext||!t?e:Nl(n,e,t,a)}function Nl(n,e,t,a){let i=n._chart.getContext(),s=os(n.options),{_datasetIndex:o,options:{spanGaps:r}}=n,l=t.length,u=[],c=s,h=e[0].start,d=h;function p(m,g,y,b){let v=r?-1:1;if(m!==g){for(m+=l;t[m%l].skip;)m-=v;for(;t[g%l].skip;)g+=v;m%l!==g%l&&(u.push({start:m%l,end:g%l,loop:y,style:b}),c=b,h=g%l)}}for(let m of e){h=r?h:m.start;let g=t[h%l],y;for(d=h+1;d<=m.end;d++){let b=t[d%l];y=os(a.setContext(Ne(i,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),Dl(y,c)&&p(h,d-1,m.loop,c),g=b,c=y}h<d-1&&p(h,d-1,m.loop,c)}return u}function os(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Dl(n,e){if(!e)return!1;let t=[],a=function(i,s){return Ga(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,a)!==JSON.stringify(e,a)}var bi=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,i){let s=t.listeners[i],o=t.duration;s.forEach(r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(a-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$a.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((a,i)=>{if(!a.running||!a.items.length)return;let s=a.items,o=s.length-1,r=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>a.duration&&(a.duration=l._total),l.tick(e),r=!0):(s[o]=s[s.length-1],s.pop());r&&(i.draw(),this._notify(i,a,e,"progress")),s.length||(a.running=!1,this._notify(i,a,e,"complete"),a.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((a,i)=>Math.max(a,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let a=t.items,i=a.length-1;for(;i>=0;--i)a[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},De=new bi,Ns="transparent",Vl={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let a=Ya(n||Ns),i=a.valid&&Ya(e||Ns);return i&&i.valid?i.mix(a,t).hexString():e},number(n,e,t){return n+(e-n)*t}},vi=class{constructor(e,t,a,i){let s=t[a];i=wt([e.to,i,s,e.from]);let o=wt([e.from,s,i]);this._active=!0,this._fn=e.fn||Vl[e.type||typeof o],this._easing=bt[e.easing]||bt.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);let i=this._target[this._prop],s=a-this._start,o=this._duration-s;this._start=a,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=wt([e.to,t,i,e.from]),this._from=wt([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,a=this._duration,i=this._prop,s=this._from,o=this._loop,r=this._to,l;if(this._active=s!==r&&(o||t<a),!this._active){this._target[i]=r,this._notify(!0);return}if(t<0){this._target[i]=s;return}l=t/a%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,r,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,a)=>{e.push({res:t,rej:a})})}_notify(e){let t=e?"res":"rej",a=this._promises||[];for(let i=0;i<a.length;i++)a[i][t]()}},na=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_(e))return;let t=Object.keys($.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let s=e[i];if(!_(s))return;let o={};for(let r of t)o[r]=s[r];(B(s.properties)&&s.properties||[i]).forEach(r=>{(r===i||!a.has(r))&&a.set(r,o)})})}_animateOptions(e,t){let a=t.options,i=Hl(e,a);if(!i)return[];let s=this._createAnimations(i,a);return a.$shared&&Bl(e.options.$animations,a).then(()=>{e.options=a},()=>{}),s}_createAnimations(e,t){let a=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),r=Date.now(),l;for(l=o.length-1;l>=0;--l){let u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,t));continue}let c=t[u],h=s[u],d=a.get(u);if(h)if(d&&h.active()){h.update(d,c,r);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}s[u]=h=new vi(d,e,u,c),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let a=this._createAnimations(e,t);if(a.length)return De.add(this._chart,a),!0}};function Bl(n,e){let t=[],a=Object.keys(e);for(let i=0;i<a.length;i++){let s=n[a[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function Hl(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Ds(n,e){let t=n&&n.options||{},a=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:a?s:i,end:a?i:s}}function zl(n,e,t){if(t===!1)return!1;let a=Ds(n,t),i=Ds(e,t);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}function ql(n){let e,t,a,i;return _(n)?(e=n.top,t=n.right,a=n.bottom,i=n.left):e=t=a=i=n,{top:e,right:t,bottom:a,left:i,disabled:n===!1}}function No(n,e){let t=[],a=n._getSortedDatasetMetas(e),i,s;for(i=0,s=a.length;i<s;++i)t.push(a[i].index);return t}function Vs(n,e,t,a={}){let i=n.keys,s=a.mode==="single",o,r,l,u;if(e===null)return;let c=!1;for(o=0,r=i.length;o<r;++o){if(l=+i[o],l===t){if(c=!0,a.all)continue;break}u=n.values[l],U(u)&&(s||e===0||Ae(e)===Ae(u))&&(e+=u)}return!c&&!a.all?0:e}function $l(n,e){let{iScale:t,vScale:a}=e,i=t.axis==="x"?"x":"y",s=a.axis==="x"?"x":"y",o=Object.keys(n),r=new Array(o.length),l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],r[l]={[i]:c,[s]:n[c]};return r}function li(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Wl(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Ul(n){let{min:e,max:t,minDefined:a,maxDefined:i}=n.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function jl(n,e,t){let a=n[e]||(n[e]={});return a[t]||(a[t]={})}function Bs(n,e,t,a){for(let i of e.getMatchingVisibleMetas(a).reverse()){let s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function Hs(n,e){let{chart:t,_cachedMeta:a}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:r}=a,l=s.axis,u=o.axis,c=Wl(s,o,a),h=e.length,d;for(let p=0;p<h;++p){let m=e[p],{[l]:g,[u]:y}=m,b=m._stacks||(m._stacks={});d=b[u]=jl(i,c,g),d[r]=y,d._top=Bs(d,o,!0,a.type),d._bottom=Bs(d,o,!1,a.type);let v=d._visualValues||(d._visualValues={});v[r]=y}}function ui(n,e){let t=n.scales;return Object.keys(t).filter(a=>t[a].axis===e).shift()}function Gl(n,e){return Ne(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yl(n,e,t){return Ne(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Jt(n,e){let t=n.controller.index,a=n.vScale&&n.vScale.axis;if(a){e=e||n._parsed;for(let i of e){let s=i._stacks;if(!s||s[a]===void 0||s[a][t]===void 0)return;delete s[a][t],s[a]._visualValues!==void 0&&s[a]._visualValues[t]!==void 0&&delete s[a]._visualValues[t]}}}var ci=n=>n==="reset"||n==="none",zs=(n,e)=>e?n:Object.assign({},n),Xl=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:No(t,!0),values:null},de=class{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=li(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jt(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,a=this.getDataset(),i=(h,d,p,m)=>h==="x"?d:h==="r"?m:p,s=t.xAxisID=C(a.xAxisID,ui(e,"x")),o=t.yAxisID=C(a.yAxisID,ui(e,"y")),r=t.rAxisID=C(a.rAxisID,ui(e,"r")),l=t.indexAxis,u=t.iAxisID=i(l,s,o,r),c=t.vAxisID=i(l,o,s,r);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&za(this._data,this),e._stacked&&Jt(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(_(t)){let i=this._cachedMeta;this._data=$l(t,i)}else if(a!==t){if(a){za(a,this);let i=this._cachedMeta;Jt(i),i._parsed=[]}t&&Object.isExtensible(t)&&ys(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,a=this.getDataset(),i=!1;this._dataCheck();let s=t._stacked;t._stacked=li(t.vScale,t),t.stack!==a.stack&&(i=!0,Jt(t),t.stack=a.stack),this._resyncElements(e),(i||s!==t._stacked)&&(Hs(this,t._parsed),t._stacked=li(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:a,_data:i}=this,{iScale:s,_stacked:o}=a,r=s.axis,l=e===0&&t===i.length?!0:a._sorted,u=e>0&&a._parsed[e-1],c,h,d;if(this._parsing===!1)a._parsed=i,a._sorted=!0,d=i;else{B(i[e])?d=this.parseArrayData(a,i,e,t):_(i[e])?d=this.parseObjectData(a,i,e,t):d=this.parsePrimitiveData(a,i,e,t);let p=()=>h[r]===null||u&&h[r]<u[r];for(c=0;c<t;++c)a._parsed[c+e]=h=d[c],l&&(p()&&(l=!1),u=h);a._sorted=l}o&&Hs(this,d)}parsePrimitiveData(e,t,a,i){let{iScale:s,vScale:o}=e,r=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(i),d,p,m;for(d=0,p=i;d<p;++d)m=d+a,h[d]={[r]:c||s.parse(u[m],m),[l]:o.parse(t[m],m)};return h}parseArrayData(e,t,a,i){let{xScale:s,yScale:o}=e,r=new Array(i),l,u,c,h;for(l=0,u=i;l<u;++l)c=l+a,h=t[c],r[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return r}parseObjectData(e,t,a,i){let{xScale:s,yScale:o}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,u=new Array(i),c,h,d,p;for(c=0,h=i;c<h;++c)d=c+a,p=t[d],u[c]={x:s.parse(Ie(p,r),d),y:o.parse(Ie(p,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){let i=this.chart,s=this._cachedMeta,o=t[e.axis],r={keys:No(i,!0),values:t._stacks[e.axis]._visualValues};return Vs(r,o,s.index,{mode:a})}updateRangeFromParsed(e,t,a,i){let s=a[t.axis],o=s===null?NaN:s,r=i&&a._stacks[t.axis];i&&r&&(i.values=r,o=Vs(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){let a=this._cachedMeta,i=a._parsed,s=a._sorted&&e===a.iScale,o=i.length,r=this._getOtherScale(e),l=Xl(t,a,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=Ul(r),d,p;function m(){p=i[d];let g=p[r.axis];return!U(p[e.axis])||c>g||h<g}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(u,e,p,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){let t=this._cachedMeta._parsed,a=[],i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i][e.axis],U(o)&&a.push(o);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,a=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:a?""+a.getLabelForValue(s[a.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=ql(C(this.options.clip,zl(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,a=this._cachedMeta,i=a.data||[],s=t.chartArea,o=[],r=this._drawStart||0,l=this._drawCount||i.length-r,u=this.options.drawActiveElementsOnTop,c;for(a.dataset&&a.dataset.draw(e,s,r,l),c=r;c<r+l;++c){let h=i[c];h.hidden||(h.active&&u?o.push(h):h.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,t){let a=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){let i=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let o=this._cachedMeta.data[e];s=o.$context||(o.$context=Yl(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Gl(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=a,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){let i=t==="active",s=this._cachedDataOpts,o=e+"-"+t,r=s[o],l=this.enableOptionSharing&&Lt(a);if(r)return zs(r,l);let u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),p=Object.keys($.elements[e]),m=()=>this.getContext(a,i,t),g=u.resolveNamedOptions(d,p,m,h);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(zs(g,l))),g}_resolveAnimations(e,t,a){let i=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,r=s[o];if(r)return r;let l;if(i.options.animation!==!1){let c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,t),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,a,t))}let u=new na(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ci(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let a=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(a),o=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,a),{sharedOptions:s,includeOptions:o}}updateElement(e,t,a,i){ci(i)?Object.assign(e,a):this._resolveAnimations(t,i).update(e,a)}updateSharedOptions(e,t,a){e&&!ci(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,i){e.active=i;let s=this.getStyle(t,i);this._resolveAnimations(t,a,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,a=this._cachedMeta.data;for(let[r,l,u]of this._syncList)this[r](l,u);this._syncList=[];let i=a.length,s=t.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,a=!0){let i=this._cachedMeta,s=i.data,o=e+t,r,l=u=>{for(u.length+=t,r=u.length-1;r>=o;r--)u[r]=u[r-t]};for(l(s),r=e;r<o;++r)s[r]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,t),a&&this.updateElements(s,e,t,"reset")}updateElements(e,t,a,i){}_removeElements(e,t){let a=this._cachedMeta;if(this._parsing){let i=a._parsed.splice(e,t);a._stacked&&Jt(a,i)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,a,i]=e;this[t](a,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};f(de,"defaults",{}),f(de,"datasetElementType",null),f(de,"dataElementType",null);function Ql(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),a=[];for(let i=0,s=t.length;i<s;i++)a=a.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=qa(a.sort((i,s)=>i-s))}return n._cache.$bar}function Kl(n){let e=n.iScale,t=Ql(e,n.type),a=e._length,i,s,o,r,l=()=>{o===32767||o===-32768||(Lt(r)&&(a=Math.min(a,Math.abs(o-r)||a)),r=o)};for(i=0,s=t.length;i<s;++i)o=e.getPixelForValue(t[i]),l();for(r=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return a}function Jl(n,e,t,a){let i=t.barThickness,s,o;return O(i)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=i*a,o=1),{chunk:s/a,ratio:o,start:e.pixels[n]-s/2}}function Zl(n,e,t,a){let i=e.pixels,s=i[n],o=n>0?i[n-1]:null,r=n<i.length-1?i[n+1]:null,l=t.categoryPercentage;o===null&&(o=s-(r===null?e.end-e.start:r-s)),r===null&&(r=s+s-o);let u=s-(s-Math.min(o,r))/2*l;return{chunk:Math.abs(r-o)/2*l/a,ratio:t.barPercentage,start:u}}function eu(n,e,t,a){let i=t.parse(n[0],a),s=t.parse(n[1],a),o=Math.min(i,s),r=Math.max(i,s),l=o,u=r;Math.abs(o)>Math.abs(r)&&(l=r,u=o),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:s,min:o,max:r}}function Do(n,e,t,a){return B(n)?eu(n,e,t,a):e[t.axis]=t.parse(n,a),e}function qs(n,e,t,a){let i=n.iScale,s=n.vScale,o=i.getLabels(),r=i===s,l=[],u,c,h,d;for(u=t,c=t+a;u<c;++u)d=e[u],h={},h[i.axis]=r||i.parse(o[u],u),l.push(Do(d,h,s,u));return l}function hi(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tu(n,e,t){return n!==0?Ae(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nu(n){let e,t,a,i,s;return n.horizontal?(e=n.base>n.x,t="left",a="right"):(e=n.base<n.y,t="bottom",a="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:a,reverse:e,top:i,bottom:s}}function au(n,e,t,a){let i=e.borderSkipped,s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:r,reverse:l,top:u,bottom:c}=nu(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===a?i=u:(t._bottom||0)===a?i=c:(s[$s(c,o,r,l)]=!0,i=u)),s[$s(i,o,r,l)]=!0,n.borderSkipped=s}function $s(n,e,t,a){return a?(n=iu(n,e,t),n=Ws(n,t,e)):n=Ws(n,e,t),n}function iu(n,e,t){return n===e?t:n===t?e:n}function Ws(n,e,t){return n==="start"?e:n==="end"?t:n}function su(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var Ct=class extends de{parsePrimitiveData(e,t,a,i){return qs(e,t,a,i)}parseArrayData(e,t,a,i){return qs(e,t,a,i)}parseObjectData(e,t,a,i){let{iScale:s,vScale:o}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?r:l,c=o.axis==="x"?r:l,h=[],d,p,m,g;for(d=a,p=a+i;d<p;++d)g=t[d],m={},m[s.axis]=s.parse(Ie(g,u),d),h.push(Do(Ie(g,c),m,o,d));return h}updateRangeFromParsed(e,t,a,i){super.updateRangeFromParsed(e,t,a,i);let s=a._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:a,vScale:i}=t,s=this.getParsed(e),o=s._custom,r=hi(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+a.getLabelForValue(s[a.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,i){let s=i==="reset",{index:o,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),u=r.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,i);for(let p=t;p<t+a;p++){let m=this.getParsed(p),g=s||O(m[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,c),b=(m._stacks||{})[r.axis],v={horizontal:u,base:g.base,enableBorderRadius:!b||hi(m._custom)||o===b._top||o===b._bottom,x:u?g.head:y.center,y:u?y.center:g.head,height:u?y.size:Math.abs(g.size),width:u?Math.abs(g.size):y.size};d&&(v.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));let R=v.options||e[p].options;au(v,R,b,o),su(v,R,c.ratio),this.updateElement(e[p],p,v,i)}}_getStacks(e,t){let{iScale:a}=this._cachedMeta,i=a.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=a.options.stacked,o=[],r=this._cachedMeta.controller.getParsed(t),l=r&&r[a.axis],u=c=>{let h=c._parsed.find(p=>p[a.axis]===l),d=h&&h[c.vScale.axis];if(O(d)||isNaN(d))return!0};for(let c of i)if(!(t!==void 0&&u(c))&&((s===!1||o.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&o.push(c.stack),c.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,a){let i=this._getStacks(e,a),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){let e=this.options,t=this._cachedMeta,a=t.iScale,i=[],s,o;for(s=0,o=t.data.length;s<o;++s)i.push(a.getPixelForValue(this.getParsed(s)[a.axis],s));let r=e.barThickness;return{min:r||Kl(t),pixels:i,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:a,index:i},options:{base:s,minBarLength:o}}=this,r=s||0,l=this.getParsed(e),u=l._custom,c=hi(u),h=l[t.axis],d=0,p=a?this.applyStack(t,l,a):h,m,g;p!==h&&(d=p-h,p=h),c&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Ae(h)!==Ae(u.barEnd)&&(d=0),d+=h);let y=!O(s)&&!c?s:d,b=t.getPixelForValue(y);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(d+p):m=b,g=m-b,Math.abs(g)<o){g=tu(g,t,r)*o,h===r&&(b-=g/2);let v=t.getPixelForDecimal(0),R=t.getPixelForDecimal(1),L=Math.min(v,R),A=Math.max(v,R);b=Math.max(Math.min(b,A),L),m=b+g,a&&!c&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(m)-t.getValueForPixel(b))}if(b===t.getPixelForValue(r)){let v=Ae(g)*t.getLineWidthForValue(r)/2;b+=v,g-=v}return{size:g,base:b,head:m,center:m+g/2}}_calculateBarIndexPixels(e,t){let a=t.scale,i=this.options,s=i.skipNull,o=C(i.maxBarThickness,1/0),r,l;if(t.grouped){let u=s?this._getStackCount(e):t.stackCount,c=i.barThickness==="flex"?Zl(e,t,i,u):Jl(e,t,i,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);r=c.start+c.chunk*h+c.chunk/2,l=Math.min(o,c.chunk*c.ratio)}else r=a.getPixelForValue(this.getParsed(e)[a.axis],e),l=Math.min(o,t.min*t.ratio);return{base:r-l/2,head:r+l/2,center:r,size:l}}draw(){let e=this._cachedMeta,t=e.vScale,a=e.data,i=a.length,s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&!a[s].hidden&&a[s].draw(this._ctx)}};f(Ct,"id","bar"),f(Ct,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),f(Ct,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var Et=class extends de{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,a,i){let s=super.parsePrimitiveData(e,t,a,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+a).radius;return s}parseArrayData(e,t,a,i){let s=super.parseArrayData(e,t,a,i);for(let o=0;o<s.length;o++){let r=t[a+o];s[o]._custom=C(r[2],this.resolveDataElementOptions(o+a).radius)}return s}parseObjectData(e,t,a,i){let s=super.parseObjectData(e,t,a,i);for(let o=0;o<s.length;o++){let r=t[a+o];s[o]._custom=C(r&&r.r&&+r.r,this.resolveDataElementOptions(o+a).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let a=e.length-1;a>=0;--a)t=Math.max(t,e[a].size(this.resolveDataElementOptions(a))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),r=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:a[e]||"",value:"("+r+", "+l+(u?", "+u:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,a,i){let s=i==="reset",{iScale:o,vScale:r}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,i),c=o.axis,h=r.axis;for(let d=t;d<t+a;d++){let p=e[d],m=!s&&this.getParsed(d),g={},y=g[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[c]),b=g[h]=s?r.getBasePixel():r.getPixelForValue(m[h]);g.skip=isNaN(y)||isNaN(b),u&&(g.options=l||this.resolveDataElementOptions(d,p.active?"active":i),s&&(g.options.radius=0)),this.updateElement(p,d,g,i)}}resolveDataElementOptions(e,t){let a=this.getParsed(e),i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=C(a&&a._custom,s),i}};f(Et,"id","bubble"),f(Et,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),f(Et,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function ou(n,e,t){let a=1,i=1,s=0,o=0;if(e<z){let r=n,l=r+e,u=Math.cos(r),c=Math.sin(r),h=Math.cos(l),d=Math.sin(l),p=(R,L,A)=>Ft(R,r,l,!0)?1:Math.max(L,L*t,A,A*t),m=(R,L,A)=>Ft(R,r,l,!0)?-1:Math.min(L,L*t,A,A*t),g=p(0,u,h),y=p(j,c,d),b=m(H,u,h),v=m(H+j,c,d);a=(g-b)/2,i=(y-v)/2,s=-(g+b)/2,o=-(y+v)/2}return{ratioX:a,ratioY:i,offsetX:s,offsetY:o}}var Be=class extends de{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let a=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=a;else{let s=l=>+a[l];if(_(a[e])){let{key:l="value"}=this._parsing;s=u=>+Ie(a[u],l)}let o,r;for(o=e,r=e+t;o<r;++o)i._parsed[o]=s(o)}}_getRotation(){return ge(this.options.rotation-90)}_getCircumference(){return ge(this.options.circumference)}_getRotationExtents(){let e=z,t=-z;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){let i=this.chart.getDatasetMeta(a).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:a}=t,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,r=Math.max((Math.min(a.width,a.height)-o)/2,0),l=Math.min(ls(this.options.cutout,r),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:m,offsetY:g}=ou(h,c,l),y=(a.width-o)/d,b=(a.height-o)/p,v=Math.max(Math.min(y,b)/2,0),R=Ia(this.options.radius,v),L=Math.max(R*l,0),A=(R-L)/this._getVisibleDatasetWeightTotal();this.offsetX=m*R,this.offsetY=g*R,i.total=this.calculateTotal(),this.outerRadius=R-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){let a=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/z)}updateElements(e,t,a,i){let s=i==="reset",o=this.chart,r=o.chartArea,u=o.options.animation,c=(r.left+r.right)/2,h=(r.top+r.bottom)/2,d=s&&u.animateScale,p=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,i),b=this._getRotation(),v;for(v=0;v<t;++v)b+=this._circumference(v,s);for(v=t;v<t+a;++v){let R=this._circumference(v,s),L=e[v],A={x:c+this.offsetX,y:h+this.offsetY,startAngle:b,endAngle:b+R,circumference:R,outerRadius:m,innerRadius:p};y&&(A.options=g||this.resolveDataElementOptions(v,L.active?"active":i)),b+=R,this.updateElement(L,v,A,i)}}calculateTotal(){let e=this._cachedMeta,t=e.data,a=0,i;for(i=0;i<t.length;i++){let s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(a+=Math.abs(s))}return a}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?z*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,a=this.chart,i=a.data.labels||[],s=Mt(t._parsed[e],a.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0,a=this.chart,i,s,o,r,l;if(!e){for(i=0,s=a.data.datasets.length;i<s;++i)if(a.isDatasetVisible(i)){o=a.getDatasetMeta(i),e=o.data,r=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=r.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,i=e.length;a<i;++a){let s=this.resolveDataElementOptions(a);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(C(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};f(Be,"id","doughnut"),f(Be,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),f(Be,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),f(Be,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:a,color:i}}=e.legend.options;return t.labels.map((s,o)=>{let l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}});var St=class extends de{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:a,data:i=[],_dataset:s}=t,o=this.chart._animationsDisabled,{start:r,count:l}=Ua(t,i,o);this._drawStart=r,this._drawCount=l,ja(t)&&(r=0,l=i.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!s._decimated,a.points=i;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!o,options:u},e),this.updateElements(i,r,l,e)}updateElements(e,t,a,i){let s=i==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(t,i),d=o.axis,p=r.axis,{spanGaps:m,segment:g}=this.options,y=it(m)?m:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none",v=t+a,R=e.length,L=t>0&&this.getParsed(t-1);for(let A=0;A<R;++A){let F=e[A],M=b?F:{};if(A<t||A>=v){M.skip=!0;continue}let P=this.getParsed(A),w=O(P[p]),E=M[d]=o.getPixelForValue(P[d],A),S=M[p]=s||w?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,P,l):P[p],A);M.skip=isNaN(E)||isNaN(S)||w,M.stop=A>0&&Math.abs(P[d]-L[d])>y,g&&(M.parsed=P,M.raw=u.data[A]),h&&(M.options=c||this.resolveDataElementOptions(A,F.active?"active":i)),b||this.updateElement(F,A,M,i),L=P}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return a;let s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,s,o)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}};f(St,"id","line"),f(St,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),f(St,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var ct=class extends de{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,a=this.chart,i=a.data.labels||[],s=Mt(t._parsed[e].r,a.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,a,i){return ti.bind(this)(e,t,a,i)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((a,i)=>{let s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,a=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),o=Math.max(a.cutoutPercentage?s/100*a.cutoutPercentage:1,0),r=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,a,i){let s=i==="reset",o=this.chart,l=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,h=u.yCenter,d=u.getIndexAngle(0)-.5*H,p=d,m,g=360/this.countVisibleElements();for(m=0;m<t;++m)p+=this._computeAngle(m,i,g);for(m=t;m<t+a;m++){let y=e[m],b=p,v=p+this._computeAngle(m,i,g),R=o.getDataVisibility(m)?u.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=v,s&&(l.animateScale&&(R=0),l.animateRotate&&(b=v=d));let L={x:c,y:h,innerRadius:0,outerRadius:R,startAngle:b,endAngle:v,options:this.resolveDataElementOptions(m,y.active?"active":i)};this.updateElement(y,m,L,i)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((a,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,a){return this.chart.getDataVisibility(e)?ge(this.resolveDataElementOptions(e,t).angle||a):0}};f(ct,"id","polarArea"),f(ct,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),f(ct,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:a,color:i}}=e.legend.options;return t.labels.map((s,o)=>{let l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var an=class extends Be{};f(an,"id","pie"),f(an,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var Ot=class extends de{getLabelAndValue(e){let t=this._cachedMeta.vScale,a=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(a[t.axis])}}parseObjectData(e,t,a,i){return ti.bind(this)(e,t,a,i)}update(e){let t=this._cachedMeta,a=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(a.points=i,e!=="resize"){let o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);let r={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(a,void 0,r,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,a,i){let s=this._cachedMeta.rScale,o=i==="reset";for(let r=t;r<t+a;r++){let l=e[r],u=this.resolveDataElementOptions(r,l.active?"active":i),c=s.getPointPositionForValue(r,this.getParsed(r).r),h=o?s.xCenter:c.x,d=o?s.yCenter:c.y,p={x:h,y:d,angle:c.angle,skip:isNaN(h)||isNaN(d),options:u};this.updateElement(l,r,p,i)}}};f(Ot,"id","radar"),f(Ot,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),f(Ot,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var _t=class extends de{getLabelAndValue(e){let t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:i,yScale:s}=t,o=this.getParsed(e),r=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:a[e]||"",value:"("+r+", "+l+")"}}update(e){let t=this._cachedMeta,{data:a=[]}=t,i=this.chart._animationsDisabled,{start:s,count:o}=Ua(t,a,i);if(this._drawStart=s,this._drawCount=o,ja(t)&&(s=0,o=a.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:r,_dataset:l}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=a;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:u},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(a,s,o,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,a,i){let s=i==="reset",{iScale:o,vScale:r,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(c),d=this.includeOptions(i,h),p=o.axis,m=r.axis,{spanGaps:g,segment:y}=this.options,b=it(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",R=t>0&&this.getParsed(t-1);for(let L=t;L<t+a;++L){let A=e[L],F=this.getParsed(L),M=v?A:{},P=O(F[m]),w=M[p]=o.getPixelForValue(F[p],L),E=M[m]=s||P?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,F,l):F[m],L);M.skip=isNaN(w)||isNaN(E)||P,M.stop=L>0&&Math.abs(F[p]-R[p])>b,y&&(M.parsed=F,M.raw=u.data[L]),d&&(M.options=h||this.resolveDataElementOptions(L,A.active?"active":i)),v||this.updateElement(A,L,M,i),R=F}this.updateSharedOptions(h,i,c)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let r=0;for(let l=t.length-1;l>=0;--l)r=Math.max(r,t[l].size(this.resolveDataElementOptions(l))/2);return r>0&&r}let a=e.dataset,i=a.options&&a.options.borderWidth||0;if(!t.length)return i;let s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,o)/2}};f(_t,"id","scatter"),f(_t,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),f(_t,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ru=Object.freeze({__proto__:null,BarController:Ct,BubbleController:Et,DoughnutController:Be,LineController:St,PieController:an,PolarAreaController:ct,RadarController:Ot,ScatterController:_t});function ot(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var xi=class n{constructor(e){f(this,"options");this.options=e||{}}static override(e){Object.assign(n.prototype,e)}init(){}formats(){return ot()}parse(){return ot()}format(){return ot()}add(){return ot()}diff(){return ot()}startOf(){return ot()}endOf(){return ot()}},lu={_date:xi};function uu(n,e,t,a){let{controller:i,data:s,_sorted:o}=n,r=i._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(r&&e===r.axis&&e!=="r"&&o&&s.length){let u=r._reversePixels?fs:Le;if(a){if(i._sharedOptions){let c=s[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){let d=u(s,e,t-h),p=u(s,e,t+h);return{lo:d.lo,hi:p.hi}}}}else{let c=u(s,e,t);if(l){let{vScale:h}=i._cachedMeta,{_parsed:d}=n,p=d.slice(0,c.lo+1).reverse().findIndex(g=>!O(g[h.axis]));c.lo-=Math.max(0,p);let m=d.slice(c.hi).findIndex(g=>!O(g[h.axis]));c.hi+=Math.max(0,m)}return c}}return{lo:0,hi:s.length-1}}function mn(n,e,t,a,i){let s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let r=0,l=s.length;r<l;++r){let{index:u,data:c}=s[r],{lo:h,hi:d}=uu(s[r],e,o,i);for(let p=h;p<=d;++p){let m=c[p];m.skip||a(m,u,p)}}}function cu(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(a,i){let s=e?Math.abs(a.x-i.x):0,o=t?Math.abs(a.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function di(n,e,t,a,i){let s=[];return!i&&!n.isPointInArea(e)||mn(n,t,e,function(r,l,u){!i&&!Re(r,n.chartArea,0)||r.inRange(e.x,e.y,a)&&s.push({element:r,datasetIndex:l,index:u})},!0),s}function hu(n,e,t,a){let i=[];function s(o,r,l){let{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],a),{angle:h}=Ha(o,{x:e.x,y:e.y});Ft(h,u,c)&&i.push({element:o,datasetIndex:r,index:l})}return mn(n,t,e,s),i}function du(n,e,t,a,i,s){let o=[],r=cu(t),l=Number.POSITIVE_INFINITY;function u(c,h,d){let p=c.inRange(e.x,e.y,i);if(a&&!p)return;let m=c.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!p)return;let y=r(e,m);y<l?(o=[{element:c,datasetIndex:h,index:d}],l=y):y===l&&o.push({element:c,datasetIndex:h,index:d})}return mn(n,t,e,u),o}function pi(n,e,t,a,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!a?hu(n,e,t,i):du(n,e,t,a,i,s)}function Us(n,e,t,a,i){let s=[],o=t==="x"?"inXRange":"inYRange",r=!1;return mn(n,t,e,(l,u,c)=>{l[o]&&l[o](e[t],i)&&(s.push({element:l,datasetIndex:u,index:c}),r=r||l.inRange(e.x,e.y,i))}),a&&!r?[]:s}var pu={evaluateInteractionItems:mn,modes:{index(n,e,t,a){let i=Xe(e,n),s=t.axis||"x",o=t.includeInvisible||!1,r=t.intersect?di(n,i,s,a,o):pi(n,i,s,!1,a,o),l=[];return r.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{let c=r[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(n,e,t,a){let i=Xe(e,n),s=t.axis||"xy",o=t.includeInvisible||!1,r=t.intersect?di(n,i,s,a,o):pi(n,i,s,!1,a,o);if(r.length>0){let l=r[0].datasetIndex,u=n.getDatasetMeta(l).data;r=[];for(let c=0;c<u.length;++c)r.push({element:u[c],datasetIndex:l,index:c})}return r},point(n,e,t,a){let i=Xe(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return di(n,i,s,a,o)},nearest(n,e,t,a){let i=Xe(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return pi(n,i,s,t.intersect,a,o)},x(n,e,t,a){let i=Xe(e,n);return Us(n,i,"x",t.intersect,a)},y(n,e,t,a){let i=Xe(e,n);return Us(n,i,"y",t.intersect,a)}}},Vo=["left","top","right","bottom"];function Zt(n,e){return n.filter(t=>t.pos===e)}function js(n,e){return n.filter(t=>Vo.indexOf(t.pos)===-1&&t.box.axis===e)}function en(n,e){return n.sort((t,a)=>{let i=e?a:t,s=e?t:a;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function fu(n){let e=[],t,a,i,s,o,r;for(t=0,a=(n||[]).length;t<a;++t)i=n[t],{position:s,options:{stack:o,stackWeight:r=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:r});return e}function mu(n){let e={};for(let t of n){let{stack:a,pos:i,stackWeight:s}=t;if(!a||!Vo.includes(i))continue;let o=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function gu(n,e){let t=mu(n),{vBoxMaxWidth:a,hBoxMaxHeight:i}=e,s,o,r;for(s=0,o=n.length;s<o;++s){r=n[s];let{fullSize:l}=r.box,u=t[r.stack],c=u&&r.stackWeight/u.weight;r.horizontal?(r.width=c?c*a:l&&e.availableWidth,r.height=i):(r.width=a,r.height=c?c*i:l&&e.availableHeight)}return t}function yu(n){let e=fu(n),t=en(e.filter(u=>u.box.fullSize),!0),a=en(Zt(e,"left"),!0),i=en(Zt(e,"right")),s=en(Zt(e,"top"),!0),o=en(Zt(e,"bottom")),r=js(e,"x"),l=js(e,"y");return{fullSize:t,leftAndTop:a.concat(s),rightAndBottom:i.concat(l).concat(o).concat(r),chartArea:Zt(e,"chartArea"),vertical:a.concat(i).concat(l),horizontal:s.concat(o).concat(r)}}function Gs(n,e,t,a){return Math.max(n[t],e[t])+Math.max(n[a],e[a])}function Bo(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function bu(n,e,t,a){let{pos:i,box:s}=t,o=n.maxPadding;if(!_(i)){t.size&&(n[i]-=t.size);let h=a[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[i]+=t.size}s.getPadding&&Bo(o,s.getPadding());let r=Math.max(0,e.outerWidth-Gs(o,n,"left","right")),l=Math.max(0,e.outerHeight-Gs(o,n,"top","bottom")),u=r!==n.w,c=l!==n.h;return n.w=r,n.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function vu(n){let e=n.maxPadding;function t(a){let i=Math.max(e[a]-n[a],0);return n[a]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function xu(n,e){let t=e.maxPadding;function a(i){let s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return a(n?["left","right"]:["top","bottom"])}function sn(n,e,t,a){let i=[],s,o,r,l,u,c;for(s=0,o=n.length,u=0;s<o;++s){r=n[s],l=r.box,l.update(r.width||e.w,r.height||e.h,xu(r.horizontal,e));let{same:h,other:d}=bu(e,t,r,a);u|=h&&i.length,c=c||d,l.fullSize||i.push(r)}return u&&sn(i,e,t,a)||c}function Gn(n,e,t,a,i){n.top=t,n.left=e,n.right=e+a,n.bottom=t+i,n.width=a,n.height=i}function Ys(n,e,t,a){let i=t.padding,{x:s,y:o}=e;for(let r of n){let l=r.box,u=a[r.stack]||{count:1,placed:0,weight:1},c=r.stackWeight/u.weight||1;if(r.horizontal){let h=e.w*c,d=u.size||l.height;Lt(u.start)&&(o=u.start),l.fullSize?Gn(l,i.left,o,t.outerWidth-i.right-i.left,d):Gn(l,e.left+u.placed,o,h,d),u.start=o,u.placed+=h,o=l.bottom}else{let h=e.h*c,d=u.size||l.width;Lt(u.start)&&(s=u.start),l.fullSize?Gn(l,s,i.top,d,t.outerHeight-i.bottom-i.top):Gn(l,s,e.top+u.placed,d,h),u.start=s,u.placed+=h,s=l.right}}e.x=s,e.y=o}var ie={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,a){if(!n)return;let i=ne(n.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(t-i.height,0),r=yu(n.boxes),l=r.vertical,u=r.horizontal;N(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let c=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);Bo(d,ne(a));let p=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),m=gu(l.concat(u),h);sn(r.fullSize,p,h,m),sn(l,p,h,m),sn(u,p,h,m)&&sn(l,p,h,m),vu(p),Ys(r.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,Ys(r.rightAndBottom,p,h,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},N(r.chartArea,g=>{let y=g.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},aa=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,i){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):a)}}isAttached(e){return!0}updateConfig(e){}},Ai=class extends aa{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},ea="$chartjs",Au={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xs=n=>n===null||n==="";function Lu(n,e){let t=n.style,a=n.getAttribute("height"),i=n.getAttribute("width");if(n[ea]={initial:{height:a,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Xs(i)){let s=ai(n,"width");s!==void 0&&(n.width=s)}if(Xs(a))if(n.style.height==="")n.height=n.width/(e||2);else{let s=ai(n,"height");s!==void 0&&(n.height=s)}return n}var Ho=Ss?{passive:!0}:!1;function Ru(n,e,t){n&&n.addEventListener(e,t,Ho)}function Fu(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Ho)}function Mu(n,e){let t=Au[n.type]||n.type,{x:a,y:i}=Xe(n,e);return{type:t,chart:e,native:n,x:a!==void 0?a:null,y:i!==void 0?i:null}}function ia(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function Pu(n,e,t){let a=n.canvas,i=new MutationObserver(s=>{let o=!1;for(let r of s)o=o||ia(r.addedNodes,a),o=o&&!ia(r.removedNodes,a);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function wu(n,e,t){let a=n.canvas,i=new MutationObserver(s=>{let o=!1;for(let r of s)o=o||ia(r.removedNodes,a),o=o&&!ia(r.addedNodes,a);o&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var dn=new Map,Qs=0;function zo(){let n=window.devicePixelRatio;n!==Qs&&(Qs=n,dn.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Tu(n,e){dn.size||window.addEventListener("resize",zo),dn.set(n,e)}function Cu(n){dn.delete(n),dn.size||window.removeEventListener("resize",zo)}function Eu(n,e,t){let a=n.canvas,i=a&&Un(a);if(!i)return;let s=Wa((r,l)=>{let u=i.clientWidth;t(r,l),u<i.clientWidth&&t()},window),o=new ResizeObserver(r=>{let l=r[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),Tu(n,s),o}function fi(n,e,t){t&&t.disconnect(),e==="resize"&&Cu(n)}function Su(n,e,t){let a=n.canvas,i=Wa(s=>{n.ctx!==null&&t(Mu(s,n))},n);return Ru(a,e,i),i}var Li=class extends aa{acquireContext(e,t){let a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(Lu(e,t),a):null}releaseContext(e){let t=e.canvas;if(!t[ea])return!1;let a=t[ea].initial;["height","width"].forEach(s=>{let o=a[s];O(o)?t.removeAttribute(s):t.setAttribute(s,o)});let i=a.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[ea],!0}addEventListener(e,t,a){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),o={attach:Pu,detach:wu,resize:Eu}[t]||Su;i[t]=o(e,t,a)}removeEventListener(e,t){let a=e.$proxies||(e.$proxies={}),i=a[t];if(!i)return;({attach:fi,detach:fi,resize:fi}[t]||Fu)(e,t,i),a[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,i){return Es(e,t,a,i)}isAttached(e){let t=e&&Un(e);return!!(t&&t.isConnected)}};function Ou(n){return!Wn()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Ai:Li}var pe=class{constructor(){f(this,"x");f(this,"y");f(this,"active",!1);f(this,"options");f(this,"$animations")}tooltipPosition(e){let{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return it(this.x)&&it(this.y)}getProps(e,t){let a=this.$animations;if(!t||!a)return this;let i={};return e.forEach(s=>{i[s]=a[s]&&a[s].active()?a[s]._to:this[s]}),i}};f(pe,"defaults",{}),f(pe,"defaultRoutes");function _u(n,e){let t=n.options.ticks,a=ku(n),i=Math.min(t.maxTicksLimit||a,a),s=t.major.enabled?Nu(e):[],o=s.length,r=s[0],l=s[o-1],u=[];if(o>i)return Du(e,u,s,o/i),u;let c=Iu(s,e,i);if(o>0){let h,d,p=o>1?Math.round((l-r)/(o-1)):null;for(Yn(e,u,c,O(p)?0:r-p,r),h=0,d=o-1;h<d;h++)Yn(e,u,c,s[h],s[h+1]);return Yn(e,u,c,l,O(p)?e.length:l+p),u}return Yn(e,u,c),u}function ku(n){let e=n.options.offset,t=n._tickSize(),a=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(a,i))}function Iu(n,e,t){let a=Vu(n),i=e.length/t;if(!a)return Math.max(i,1);let s=hs(a);for(let o=0,r=s.length-1;o<r;o++){let l=s[o];if(l>i)return l}return Math.max(i,1)}function Nu(n){let e=[],t,a;for(t=0,a=n.length;t<a;t++)n[t].major&&e.push(t);return e}function Du(n,e,t,a){let i=0,s=t[0],o;for(a=Math.ceil(a),o=0;o<n.length;o++)o===s&&(e.push(n[o]),i++,s=t[i*a])}function Yn(n,e,t,a,i){let s=C(a,0),o=Math.min(C(i,n.length),n.length),r=0,l,u,c;for(t=Math.ceil(t),i&&(l=i-a,t=l/Math.floor(l/t)),c=s;c<0;)r++,c=Math.round(s+r*t);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(n[u]),r++,c=Math.round(s+r*t))}function Vu(n){let e=n.length,t,a;if(e<2)return!1;for(a=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==a)return!1;return a}var Bu=n=>n==="left"?"right":n==="right"?"left":n,Ks=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Js=(n,e)=>Math.min(e||n,n);function Zs(n,e){let t=[],a=n.length/e,i=n.length,s=0;for(;s<i;s+=a)t.push(n[Math.floor(s)]);return t}function Hu(n,e,t){let a=n.ticks.length,i=Math.min(e,a-1),s=n._startPixel,o=n._endPixel,r=1e-6,l=n.getPixelForTick(i),u;if(!(t&&(a===1?u=Math.max(l-s,o-l):e===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-r||l>o+r)))return l}function zu(n,e){N(n,t=>{let a=t.gc,i=a.length/2,s;if(i>e){for(s=0;s<i;++s)delete t.data[a[s]];a.splice(0,i)}})}function tn(n){return n.drawTicks?n.tickLength:0}function eo(n,e){if(!n.display)return 0;let t=Q(n.font,e),a=ne(n.padding);return(B(n.text)?n.text.length:1)*t.lineHeight+a.height}function qu(n,e){return Ne(n,{scale:e,type:"scale"})}function $u(n,e,t){return Ne(n,{tick:t,index:e,type:"tick"})}function Wu(n,e,t){let a=Bn(n);return(t&&e!=="right"||!t&&e==="right")&&(a=Bu(a)),a}function Uu(n,e,t,a){let{top:i,left:s,bottom:o,right:r,chart:l}=n,{chartArea:u,scales:c}=l,h=0,d,p,m,g=o-i,y=r-s;if(n.isHorizontal()){if(p=te(a,s,r),_(t)){let b=Object.keys(t)[0],v=t[b];m=c[b].getPixelForValue(v)+g-e}else t==="center"?m=(u.bottom+u.top)/2+g-e:m=Ks(n,t,e);d=r-s}else{if(_(t)){let b=Object.keys(t)[0],v=t[b];p=c[b].getPixelForValue(v)-y+e}else t==="center"?p=(u.left+u.right)/2-y+e:p=Ks(n,t,e);m=te(a,o,i),h=t==="left"?-j:j}return{titleX:p,titleY:m,maxWidth:d,rotation:h}}var dt=class n extends pe{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:i}=this;return e=le(e,Number.POSITIVE_INFINITY),t=le(t,Number.NEGATIVE_INFINITY),a=le(a,Number.POSITIVE_INFINITY),i=le(i,Number.NEGATIVE_INFINITY),{min:le(e,a),max:le(t,i),minDefined:U(e),maxDefined:U(t)}}getMinMax(e){let{min:t,max:a,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:t,max:a};let r=this.getMatchingVisibleMetas();for(let l=0,u=r.length;l<u;++l)o=r[l].controller.getMinMax(this,e),i||(t=Math.min(t,o.min)),s||(a=Math.max(a,o.max));return t=s&&t>a?a:t,a=i&&t>a?t:a,{min:le(t,le(a,t)),max:le(a,le(t,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){V(this.options.beforeUpdate,[this])}update(e,t,a){let{beginAtZero:i,grace:s,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Fs(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=r<this.ticks.length;this._convertTicksToLabels(l?Zs(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_u(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,a;this.isHorizontal()?(t=this.left,a=this.right):(t=this.top,a=this.bottom,e=!e),this._startPixel=t,this._endPixel=a,this._reversePixels=e,this._length=a-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){V(this.options.afterUpdate,[this])}beforeSetDimensions(){V(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){V(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),V(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){V(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,a,i,s;for(a=0,i=e.length;a<i;a++)s=e[a],s.label=V(t.callback,[s.value,a,e],this)}afterTickToLabelConversion(){V(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){V(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,a=Js(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,s=t.maxRotation,o=i,r,l,u;if(!this._isVisible()||!t.display||i>=s||a<=1||!this.isHorizontal()){this.labelRotation=i;return}let c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,p=K(this.chart.width-h,0,this.maxWidth);r=e.offset?this.maxWidth/a:p/(a-1),h+6>r&&(r=p/(a-(e.offset?.5:1)),l=this.maxHeight-tn(e.grid)-t.padding-eo(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),o=Dn(Math.min(Math.asin(K((c.highest.height+6)/r,-1,1)),Math.asin(K(l/u,-1,1))-Math.asin(K(d/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){V(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){V(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:a,title:i,grid:s}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){let l=eo(i,t.options.font);if(r?(e.width=this.maxWidth,e.height=tn(s)+l):(e.height=this.maxHeight,e.width=tn(s)+l),a.display&&this.ticks.length){let{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),p=a.padding*2,m=ge(this.labelRotation),g=Math.cos(m),y=Math.sin(m);if(r){let b=a.mirror?0:y*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+b+p)}else{let b=a.mirror?0:g*h.width+y*d.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(u,c,y,g)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,i){let{ticks:{align:s,padding:o},position:r}=this.options,l=this.labelRotation!==0,u=r!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),d=0,p=0;l?u?(d=i*e.width,p=a*t.height):(d=a*e.height,p=i*t.width):s==="start"?p=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,p=t.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let c=t.height/2,h=e.height/2;s==="start"?(c=0,h=e.height):s==="end"&&(c=t.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){V(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,a;for(t=0,a=e.length;t<a;t++)O(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,a=this.ticks;t<a.length&&(a=Zs(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){let{ctx:i,_longestTextCache:s}=this,o=[],r=[],l=Math.floor(t/Js(t,a)),u=0,c=0,h,d,p,m,g,y,b,v,R,L,A;for(h=0;h<t;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),i.font=y=g.string,b=s[y]=s[y]||{data:{},gc:[]},v=g.lineHeight,R=L=0,!O(m)&&!B(m))R=Gt(i,b.data,b.gc,R,m),L=v;else if(B(m))for(d=0,p=m.length;d<p;++d)A=m[d],!O(A)&&!B(A)&&(R=Gt(i,b.data,b.gc,R,A),L+=v);o.push(R),r.push(L),u=Math.max(R,u),c=Math.max(L,c)}zu(s,t);let F=o.indexOf(u),M=r.indexOf(c),P=w=>({width:o[w]||0,height:r[w]||0});return{first:P(0),last:P(t-1),widest:P(F),highest:P(M),widths:o,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return ps(this._alignToPixels?je(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let a=t[e];return a.$context||(a.$context=$u(this.getContext(),e,a))}return this.$context||(this.$context=qu(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=ge(this.labelRotation),a=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,r=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*a>r*i?r/a:l/i:l*i<r*a?l/a:r/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,a=this.chart,i=this.options,{grid:s,position:o,border:r}=i,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=tn(s),p=[],m=r.setContext(this.getContext()),g=m.display?m.width:0,y=g/2,b=function(W){return je(a,W,g)},v,R,L,A,F,M,P,w,E,S,I,ee;if(o==="top")v=b(this.bottom),M=this.bottom-d,w=v-y,S=b(e.top)+y,ee=e.bottom;else if(o==="bottom")v=b(this.top),S=e.top,ee=b(e.bottom)-y,M=v+y,w=this.top+d;else if(o==="left")v=b(this.right),F=this.right-d,P=v-y,E=b(e.left)+y,I=e.right;else if(o==="right")v=b(this.left),E=e.left,I=b(e.right)-y,F=v+y,P=this.left+d;else if(t==="x"){if(o==="center")v=b((e.top+e.bottom)/2+.5);else if(_(o)){let W=Object.keys(o)[0],X=o[W];v=b(this.chart.scales[W].getPixelForValue(X))}S=e.top,ee=e.bottom,M=v+y,w=M+d}else if(t==="y"){if(o==="center")v=b((e.left+e.right)/2);else if(_(o)){let W=Object.keys(o)[0],X=o[W];v=b(this.chart.scales[W].getPixelForValue(X))}F=v-y,P=F-d,E=e.left,I=e.right}let he=C(i.ticks.maxTicksLimit,h),D=Math.max(1,Math.ceil(h/he));for(R=0;R<h;R+=D){let W=this.getContext(R),X=s.setContext(W),ve=r.setContext(W),ae=X.lineWidth,pt=X.color,gn=ve.dash||[],ft=ve.dashOffset,zt=X.tickWidth,Je=X.tickColor,qt=X.tickBorderDash||[],Ze=X.tickBorderDashOffset;L=Hu(this,R,l),L!==void 0&&(A=je(a,L,ae),u?F=P=E=I=A:M=w=S=ee=A,p.push({tx1:F,ty1:M,tx2:P,ty2:w,x1:E,y1:S,x2:I,y2:ee,width:ae,color:pt,borderDash:gn,borderDashOffset:ft,tickWidth:zt,tickColor:Je,tickBorderDash:qt,tickBorderDashOffset:Ze}))}return this._ticksLength=h,this._borderValue=v,p}_computeLabelItems(e){let t=this.axis,a=this.options,{position:i,ticks:s}=a,o=this.isHorizontal(),r=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,d=tn(a.grid),p=d+c,m=h?-c:p,g=-ge(this.labelRotation),y=[],b,v,R,L,A,F,M,P,w,E,S,I,ee="middle";if(i==="top")F=this.bottom-m,M=this._getXAxisLabelAlignment();else if(i==="bottom")F=this.top+m,M=this._getXAxisLabelAlignment();else if(i==="left"){let D=this._getYAxisLabelAlignment(d);M=D.textAlign,A=D.x}else if(i==="right"){let D=this._getYAxisLabelAlignment(d);M=D.textAlign,A=D.x}else if(t==="x"){if(i==="center")F=(e.top+e.bottom)/2+p;else if(_(i)){let D=Object.keys(i)[0],W=i[D];F=this.chart.scales[D].getPixelForValue(W)+p}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")A=(e.left+e.right)/2-p;else if(_(i)){let D=Object.keys(i)[0],W=i[D];A=this.chart.scales[D].getPixelForValue(W)}M=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?ee="top":l==="end"&&(ee="bottom"));let he=this._getLabelSizes();for(b=0,v=r.length;b<v;++b){R=r[b],L=R.label;let D=s.setContext(this.getContext(b));P=this.getPixelForTick(b)+s.labelOffset,w=this._resolveTickFontOptions(b),E=w.lineHeight,S=B(L)?L.length:1;let W=S/2,X=D.color,ve=D.textStrokeColor,ae=D.textStrokeWidth,pt=M;o?(A=P,M==="inner"&&(b===v-1?pt=this.options.reverse?"left":"right":b===0?pt=this.options.reverse?"right":"left":pt="center"),i==="top"?u==="near"||g!==0?I=-S*E+E/2:u==="center"?I=-he.highest.height/2-W*E+E:I=-he.highest.height+E/2:u==="near"||g!==0?I=E/2:u==="center"?I=he.highest.height/2-W*E:I=he.highest.height-S*E,h&&(I*=-1),g!==0&&!D.showLabelBackdrop&&(A+=E/2*Math.sin(g))):(F=P,I=(1-S)*E/2);let gn;if(D.showLabelBackdrop){let ft=ne(D.backdropPadding),zt=he.heights[b],Je=he.widths[b],qt=I-ft.top,Ze=0-ft.left;switch(ee){case"middle":qt-=zt/2;break;case"bottom":qt-=zt;break}switch(M){case"center":Ze-=Je/2;break;case"right":Ze-=Je;break;case"inner":b===v-1?Ze-=Je:b>0&&(Ze-=Je/2);break}gn={left:Ze,top:qt,width:Je+ft.width,height:zt+ft.height,color:D.backdropColor}}y.push({label:L,font:w,textOffset:I,options:{rotation:g,color:X,strokeColor:ve,strokeWidth:ae,textAlign:pt,textBaseline:ee,translation:[A,F],backdrop:gn}})}return y}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-ge(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:a,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),r=e+s,l=o.widest.width,u,c;return t==="left"?i?(c=this.right+s,a==="near"?u="left":a==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-r,a==="near"?u="right":a==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?i?(c=this.left+s,a==="near"?u="right":a==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+r,a==="near"?u="left":a==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:a,top:i,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,i,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,a=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,r=(l,u,c)=>{!c.width||!c.color||(a.save(),a.lineWidth=c.width,a.strokeStyle=c.color,a.setLineDash(c.borderDash||[]),a.lineDashOffset=c.borderDashOffset,a.beginPath(),a.moveTo(l.x,l.y),a.lineTo(u.x,u.y),a.stroke(),a.restore())};if(t.display)for(s=0,o=i.length;s<o;++s){let l=i[s];t.drawOnChartArea&&r({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&r({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:a,grid:i}}=this,s=a.setContext(this.getContext()),o=a.display?s.width:0;if(!o)return;let r=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,u,c,h,d;this.isHorizontal()?(u=je(e,this.left,o)-o/2,c=je(e,this.right,r)+r/2,h=d=l):(h=je(e,this.top,o)-o/2,d=je(e,this.bottom,r)+r/2,u=c=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(u,h),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let a=this.ctx,i=this._computeLabelArea();i&&Qt(a,i);let s=this.getLabelItems(e);for(let o of s){let r=o.options,l=o.font,u=o.label,c=o.textOffset;Ge(a,u,0,c,l,r)}i&&Kt(a)}drawTitle(){let{ctx:e,options:{position:t,title:a,reverse:i}}=this;if(!a.display)return;let s=Q(a.font),o=ne(a.padding),r=a.align,l=s.lineHeight/2;t==="bottom"||t==="center"||_(t)?(l+=o.bottom,B(a.text)&&(l+=s.lineHeight*(a.text.length-1))):l+=o.top;let{titleX:u,titleY:c,maxWidth:h,rotation:d}=Uu(this,l,t,r);Ge(e,a.text,0,0,s,{color:a.color,maxWidth:h,rotation:d,textAlign:Wu(r,t,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,a=C(e.grid&&e.grid.z,-1),i=C(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:a,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",i=[],s,o;for(s=0,o=t.length;s<o;++s){let r=t[s];r[a]===this.id&&(!e||r.type===e)&&i.push(r)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Q(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Nt=class{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),a;Yu(t)&&(a=this.register(t));let i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,ju(e,o,a),this.override&&$.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,a=e.id,i=this.scope;a in t&&delete t[a],i&&a in $[i]&&(delete $[i][a],this.override&&delete Ue[a])}};function ju(n,e,t){let a=vt(Object.create(null),[t?$.get(t):{},$.get(e),n.defaults]);$.set(e,a),n.defaultRoutes&&Gu(e,n.defaultRoutes),n.descriptors&&$.describe(e,n.descriptors)}function Gu(n,e){Object.keys(e).forEach(t=>{let a=t.split("."),i=a.pop(),s=[n].concat(a).join("."),o=e[t].split("."),r=o.pop(),l=o.join(".");$.route(s,i,l,r)})}function Yu(n){return"id"in n&&"defaults"in n}var Ri=class{constructor(){this.controllers=new Nt(de,"datasets",!0),this.elements=new Nt(pe,"elements"),this.plugins=new Nt(Object,"plugins"),this.scales=new Nt(dt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach(i=>{let s=a||this._getRegistryForType(i);a||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):N(i,o=>{let r=a||this._getRegistryForType(o);this._exec(e,r,o)})})}_exec(e,t,a){let i=Nn(e);V(a["before"+i],[],a),t[e](a),V(a["after"+i],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return i}},we=new Ri,Fi=class{constructor(){this._init=[]}notify(e,t,a,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,t,a);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,a,i){i=i||{};for(let s of e){let o=s.plugin,r=o[a],l=[t,i,s.options];if(V(r,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){O(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let a=e&&e.config,i=C(a.options&&a.options.plugins,{}),s=Xu(a);return i===!1&&!t?[]:Ku(e,s,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],a=this._cache,i=(s,o)=>s.filter(r=>!o.some(l=>r.plugin.id===l.plugin.id));this._notify(i(t,a),e,"stop"),this._notify(i(a,t),e,"start")}};function Xu(n){let e={},t=[],a=Object.keys(we.plugins.items);for(let s=0;s<a.length;s++)t.push(we.getPlugin(a[s]));let i=n.plugins||[];for(let s=0;s<i.length;s++){let o=i[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function Qu(n,e){return!e&&n===!1?null:n===!0?{}:n}function Ku(n,{plugins:e,localIds:t},a,i){let s=[],o=n.getContext();for(let r of e){let l=r.id,u=Qu(a[l],i);u!==null&&s.push({plugin:r,options:Ju(n.config,{plugin:r,local:t[l]},u,o)})}return s}function Ju(n,{plugin:e,local:t},a,i){let s=n.pluginScopeKeys(e),o=n.getOptionScopes(a,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mi(n,e){let t=$.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Zu(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function ec(n,e){return n===e?"_index_":"_value_"}function to(n){if(n==="x"||n==="y"||n==="r")return n}function tc(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Pi(n,...e){if(to(n))return n;for(let t of e){let a=t.axis||tc(t.position)||n.length>1&&to(n[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function no(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function nc(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(a=>a.xAxisID===n||a.yAxisID===n);if(t.length)return no(n,"x",t[0])||no(n,"y",t[0])}return{}}function ac(n,e){let t=Ue[n.type]||{scales:{}},a=e.scales||{},i=Mi(n.type,e),s=Object.create(null);return Object.keys(a).forEach(o=>{let r=a[o];if(!_(r))return console.error(`Invalid scale configuration for scale: ${o}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=Pi(o,r,nc(o,n),$.scales[r.type]),u=ec(l,i),c=t.scales||{};s[o]=At(Object.create(null),[{axis:l},r,c[l],c[u]])}),n.data.datasets.forEach(o=>{let r=o.type||n.type,l=o.indexAxis||Mi(r,e),c=(Ue[r]||{}).scales||{};Object.keys(c).forEach(h=>{let d=Zu(h,l),p=o[d+"AxisID"]||d;s[p]=s[p]||Object.create(null),At(s[p],[{axis:d},a[p],c[h]])})}),Object.keys(s).forEach(o=>{let r=s[o];At(r,[$.scales[r.type],$.scale])}),s}function qo(n){let e=n.options||(n.options={});e.plugins=C(e.plugins,{}),e.scales=ac(n,e)}function $o(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function ic(n){return n=n||{},n.data=$o(n.data),qo(n),n}var ao=new Map,Wo=new Set;function Xn(n,e){let t=ao.get(n);return t||(t=e(),ao.set(n,t),Wo.add(t)),t}var nn=(n,e,t)=>{let a=Ie(e,t);a!==void 0&&n.add(a)},wi=class{constructor(e){this._config=ic(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=$o(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),qo(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xn(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Xn(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Xn(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,a=this.type;return Xn(`${a}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let a=this._scopeCache,i=a.get(e);return(!i||t)&&(i=new Map,a.set(e,i)),i}getOptionScopes(e,t,a){let{options:i,type:s}=this,o=this._cachedScopes(e,a),r=o.get(t);if(r)return r;let l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(h=>nn(l,e,h))),c.forEach(h=>nn(l,i,h)),c.forEach(h=>nn(l,Ue[s]||{},h)),c.forEach(h=>nn(l,$,h)),c.forEach(h=>nn(l,Hn,h))});let u=Array.from(l);return u.length===0&&u.push(Object.create(null)),Wo.has(t)&&o.set(t,u),u}chartOptionScopes(){let{options:e,type:t}=this;return[e,Ue[t]||{},$.datasets[t]||{},{type:t},$,Hn]}resolveNamedOptions(e,t,a,i=[""]){let s={$shared:!0},{resolver:o,subPrefixes:r}=io(this._resolverCache,e,i),l=o;if(oc(o,t)){s.$shared=!1,a=_e(a)?a():a;let u=this.createResolver(e,a,r);l=at(o,a,u)}for(let u of t)s[u]=l[u];return s}createResolver(e,t,a=[""],i){let{resolver:s}=io(this._resolverCache,e,a);return _(t)?at(s,t,void 0,i):s}};function io(n,e,t){let a=n.get(e);a||(a=new Map,n.set(e,a));let i=t.join(),s=a.get(i);return s||(s={resolver:$n(e,t),subPrefixes:t.filter(r=>!r.toLowerCase().includes("hover"))},a.set(i,s)),s}var sc=n=>_(n)&&Object.getOwnPropertyNames(n).some(e=>_e(n[e]));function oc(n,e){let{isScriptable:t,isIndexable:a}=Ja(n);for(let i of e){let s=t(i),o=a(i),r=(o||s)&&n[i];if(s&&(_e(r)||sc(r))||o&&B(r))return!0}return!1}var rc="4.4.8",lc=["top","bottom","left","right","chartArea"];function so(n,e){return n==="top"||n==="bottom"||lc.indexOf(n)===-1&&e==="x"}function oo(n,e){return function(t,a){return t[n]===a[n]?t[e]-a[e]:t[n]-a[n]}}function ro(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),V(t&&t.onComplete,[n],e)}function uc(n){let e=n.chart,t=e.options.animation;V(t&&t.onProgress,[n],e)}function Uo(n){return Wn()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var ta={},lo=n=>{let e=Uo(n);return Object.values(ta).filter(t=>t.canvas===e).pop()};function cc(n,e,t){let a=Object.keys(n);for(let i of a){let s=+i;if(s>=e){let o=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=o)}}}function hc(n,e,t,a){return!t||n.type==="mouseout"?null:a?e:n}function Qn(n,e,t){return n.options.clip?n[t]:e[t]}function dc(n,e){let{xScale:t,yScale:a}=n;return t&&a?{left:Qn(t,e,"left"),right:Qn(t,e,"right"),top:Qn(a,e,"top"),bottom:Qn(a,e,"bottom")}:e}var ye=class{static register(...e){we.add(...e),uo()}static unregister(...e){we.remove(...e),uo()}constructor(e,t){let a=this.config=new wi(t),i=Uo(e),s=lo(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let o=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||Ou(i)),this.platform.updateConfig(a);let r=this.platform.acquireContext(i,o.aspectRatio),l=r&&r.canvas,u=l&&l.height,c=l&&l.width;if(this.id=rs(),this.ctx=r,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bs(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ta[this.id]=this,!r||!l){console.error("Failed to create chart: can't acquire context from the given item");return}De.listen(this,"complete",ro),De.listen(this,"progress",uc),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:i,_aspectRatio:s}=this;return O(e)?t&&s?s:i?a/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return we}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ni(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xa(this.canvas,this.ctx),this}stop(){return De.stop(this),this}resize(e,t){De.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let a=this.options,i=this.canvas,s=a.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,s),r=a.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ni(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),V(a.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};N(t,(a,i)=>{a.id=i})}buildOrUpdateScales(){let e=this.options,t=e.scales,a=this.scales,i=Object.keys(a).reduce((o,r)=>(o[r]=!1,o),{}),s=[];t&&(s=s.concat(Object.keys(t).map(o=>{let r=t[o],l=Pi(o,r),u=l==="r",c=l==="x";return{options:r,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),N(s,o=>{let r=o.options,l=r.id,u=Pi(l,r),c=C(r.type,o.dtype);(r.position===void 0||so(r.position,u)!==so(o.dposition))&&(r.position=o.dposition),i[l]=!0;let h=null;if(l in a&&a[l].type===c)h=a[l];else{let d=we.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),a[h.id]=h}h.init(r,e)}),N(i,(o,r)=>{o||delete a[r]}),N(a,o=>{ie.configure(this,o,o.options),ie.addBox(this,o)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((i,s)=>i.index-s.index),a>t){for(let i=t;i<a;++i)this._destroyDatasetMeta(i);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(oo("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((a,i)=>{t.filter(s=>s===a._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,a,i;for(this._removeUnreferencedMetasets(),a=0,i=t.length;a<i;a++){let s=t[a],o=this.getDatasetMeta(a),r=s.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(a),o=this.getDatasetMeta(a)),o.type=r,o.indexAxis=s.indexAxis||Mi(r,this.options),o.order=s.order||0,o.index=a,o.label=""+s.label,o.visible=this.isDatasetVisible(a),o.controller)o.controller.updateIndex(a),o.controller.linkScales();else{let l=we.getController(r),{datasetElementType:u,dataElementType:c}=$.datasets[r];Object.assign(l,{dataElementType:we.getElement(c),datasetElementType:u&&we.getElement(u)}),o.controller=new l(this,a),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){N(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){let{controller:h}=this.getDatasetMeta(u),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=a.layout.autoPadding?o:0,this._updateLayout(o),i||N(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(oo("z","_idx"));let{_active:r,_lastEvent:l}=this;l?this._eventHandler(l,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){N(this.scales,e=>{ie.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!Na(t,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:a,start:i,count:s}of t){let o=a==="_removeElements"?-s:s;cc(e,i,o)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,a=s=>new Set(e.filter(o=>o[0]===s).map((o,r)=>r+","+o.splice(1).join(","))),i=a(0);for(let s=1;s<t;s++)if(!Na(i,a(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ie.update(this,this.width,this.height,e);let t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],N(this.boxes,i=>{a&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,a=this.data.datasets.length;t<a;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,_e(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let a=this.getDatasetMeta(e),i={meta:a,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(a.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(De.has(this)?this.attached&&!De.running(this)&&De.start(this):(this.draw(),ro({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:a,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,a=[],i,s;for(i=0,s=t.length;i<s;++i){let o=t[i];(!e||o.visible)&&a.push(o)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,a=e._clip,i=!a.disabled,s=dc(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Qt(t,{left:a.left===!1?0:s.left-a.left,right:a.right===!1?this.width:s.right+a.right,top:a.top===!1?0:s.top-a.top,bottom:a.bottom===!1?this.height:s.bottom+a.bottom}),e.controller.draw(),i&&Kt(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Re(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,i){let s=pu.modes[t];return typeof s=="function"?s(this,e,a,i):[]}getDatasetMeta(e){let t=this.data.datasets[e],a=this._metasets,i=a.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(i)),i}getContext(){return this.$context||(this.$context=Ne(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!t.hidden}setDatasetVisibility(e,t){let a=this.getDatasetMeta(e);a.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){let i=a?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Lt(t)?(s.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),o.update(s,{visible:a}),this.update(r=>r.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),De.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xa(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ta[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,a=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},i=(s,o,r)=>{s.offsetX=o,s.offsetY=r,this._eventHandler(s)};N(this.options.events,s=>a(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,a=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},o,r=()=>{i("attach",r),this.attached=!0,this.resize(),a("resize",s),a("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),a("attach",r)},t.isAttached(this.canvas)?r():o()}unbindEvents(){N(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},N(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){let i=a?"set":"remove",s,o,r,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),r=0,l=e.length;r<l;++r){o=e[r];let u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],a=e.map(({datasetIndex:s,index:o})=>{let r=this.getDatasetMeta(s);if(!r)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:r.data[o],index:o}});!Yt(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,a){let i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(t,e),r=a?e:s(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),r.length&&i.mode&&this.updateHoverStyle(r,i.mode,!0)}_eventHandler(e,t){let a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,i)===!1)return;let s=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,i),(s||a.changed)&&this.render(),this}_handleEvent(e,t,a){let{_active:i=[],options:s}=this,o=t,r=this._getActiveElements(e,i,a,o),l=cs(e),u=hc(e,this._lastEvent,a,l);a&&(this._lastEvent=null,V(s.onHover,[e,r,this],this),l&&V(s.onClick,[e,r,this],this));let c=!Yt(r,i);return(c||t)&&(this._active=r,this._updateHoverStyles(r,i,t)),this._lastEvent=u,c}_getActiveElements(e,t,a,i){if(e.type==="mouseout")return[];if(!a)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};f(ye,"defaults",$),f(ye,"instances",ta),f(ye,"overrides",Ue),f(ye,"registry",we),f(ye,"version",rc),f(ye,"getChart",lo);function uo(){return N(ye.instances,n=>n._plugins.invalidate())}function pc(n,e,t){let{startAngle:a,pixelMargin:i,x:s,y:o,outerRadius:r,innerRadius:l}=e,u=i/r;n.beginPath(),n.arc(s,o,r,a-u,t+u),l>i?(u=i/l,n.arc(s,o,l,t+u,a-u,!0)):n.arc(s,o,i,t+j,a-j),n.closePath(),n.clip()}function fc(n){return qn(n,["outerStart","outerEnd","innerStart","innerEnd"])}function mc(n,e,t,a){let i=fc(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,a*e/2),r=l=>{let u=(t-Math.min(s,l))*a/2;return K(l,0,Math.min(s,u))};return{outerStart:r(i.outerStart),outerEnd:r(i.outerEnd),innerStart:K(i.innerStart,0,o),innerEnd:K(i.innerEnd,0,o)}}function Tt(n,e,t,a){return{x:t+n*Math.cos(e),y:a+n*Math.sin(e)}}function sa(n,e,t,a,i,s){let{x:o,y:r,startAngle:l,pixelMargin:u,innerRadius:c}=e,h=Math.max(e.outerRadius+a+t-u,0),d=c>0?c+a+t+u:0,p=0,m=i-l;if(a){let D=c>0?c-a:0,W=h>0?h-a:0,X=(D+W)/2,ve=X!==0?m*X/(X+a):m;p=(m-ve)/2}let g=Math.max(.001,m*h-t/H)/h,y=(m-g)/2,b=l+y+p,v=i-y-p,{outerStart:R,outerEnd:L,innerStart:A,innerEnd:F}=mc(e,d,h,v-b),M=h-R,P=h-L,w=b+R/M,E=v-L/P,S=d+A,I=d+F,ee=b+A/S,he=v-F/I;if(n.beginPath(),s){let D=(w+E)/2;if(n.arc(o,r,h,w,D),n.arc(o,r,h,D,E),L>0){let ae=Tt(P,E,o,r);n.arc(ae.x,ae.y,L,E,v+j)}let W=Tt(I,v,o,r);if(n.lineTo(W.x,W.y),F>0){let ae=Tt(I,he,o,r);n.arc(ae.x,ae.y,F,v+j,he+Math.PI)}let X=(v-F/d+(b+A/d))/2;if(n.arc(o,r,d,v-F/d,X,!0),n.arc(o,r,d,X,b+A/d,!0),A>0){let ae=Tt(S,ee,o,r);n.arc(ae.x,ae.y,A,ee+Math.PI,b-j)}let ve=Tt(M,b,o,r);if(n.lineTo(ve.x,ve.y),R>0){let ae=Tt(M,w,o,r);n.arc(ae.x,ae.y,R,b-j,w)}}else{n.moveTo(o,r);let D=Math.cos(w)*h+o,W=Math.sin(w)*h+r;n.lineTo(D,W);let X=Math.cos(E)*h+o,ve=Math.sin(E)*h+r;n.lineTo(X,ve)}n.closePath()}function gc(n,e,t,a,i){let{fullCircles:s,startAngle:o,circumference:r}=e,l=e.endAngle;if(s){sa(n,e,t,a,l,i);for(let u=0;u<s;++u)n.fill();isNaN(r)||(l=o+(r%z||z))}return sa(n,e,t,a,l,i),n.fill(),l}function yc(n,e,t,a,i){let{fullCircles:s,startAngle:o,circumference:r,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:d}=l,p=l.borderAlign==="inner";if(!u)return;n.setLineDash(h||[]),n.lineDashOffset=d,p?(n.lineWidth=u*2,n.lineJoin=c||"round"):(n.lineWidth=u,n.lineJoin=c||"bevel");let m=e.endAngle;if(s){sa(n,e,t,a,m,i);for(let g=0;g<s;++g)n.stroke();isNaN(r)||(m=o+(r%z||z))}p&&pc(n,e,m),s||(sa(n,e,t,a,m,i),n.stroke())}var lt=class extends pe{constructor(t){super();f(this,"circumference");f(this,"endAngle");f(this,"fullCircles");f(this,"innerRadius");f(this,"outerRadius");f(this,"pixelMargin");f(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,i){let s=this.getProps(["x","y"],i),{angle:o,distance:r}=Ha(s,{x:t,y:a}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=C(d,u-l),g=Ft(o,l,u)&&l!==u,y=m>=z||g,b=Me(r,c+p,h+p);return y&&b}getCenterPoint(t){let{x:a,y:i,startAngle:s,endAngle:o,innerRadius:r,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,h=(s+o)/2,d=(r+l+c+u)/2;return{x:a+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:a,circumference:i}=this,s=(a.offset||0)/4,o=(a.spacing||0)/2,r=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=i>z?Math.floor(i/z):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*s,Math.sin(l)*s);let u=1-Math.sin(Math.min(H,i||0)),c=s*u;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,gc(t,this,c,o,r),yc(t,this,c,o,r),t.restore()}};f(lt,"id","arc"),f(lt,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),f(lt,"defaultRoutes",{backgroundColor:"backgroundColor"}),f(lt,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function jo(n,e,t=e){n.lineCap=C(t.borderCapStyle,e.borderCapStyle),n.setLineDash(C(t.borderDash,e.borderDash)),n.lineDashOffset=C(t.borderDashOffset,e.borderDashOffset),n.lineJoin=C(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=C(t.borderWidth,e.borderWidth),n.strokeStyle=C(t.borderColor,e.borderColor)}function bc(n,e,t){n.lineTo(t.x,t.y)}function vc(n){return n.stepped?Ls:n.tension||n.cubicInterpolationMode==="monotone"?Rs:bc}function Go(n,e,t={}){let a=n.length,{start:i=0,end:s=a-1}=t,{start:o,end:r}=e,l=Math.max(i,o),u=Math.min(s,r),c=i<o&&s<o||i>r&&s>r;return{count:a,start:l,loop:e.loop,ilen:u<l&&!c?a+u-l:u-l}}function xc(n,e,t,a){let{points:i,options:s}=e,{count:o,start:r,loop:l,ilen:u}=Go(i,t,a),c=vc(s),{move:h=!0,reverse:d}=a||{},p,m,g;for(p=0;p<=u;++p)m=i[(r+(d?u-p:p))%o],!m.skip&&(h?(n.moveTo(m.x,m.y),h=!1):c(n,g,m,d,s.stepped),g=m);return l&&(m=i[(r+(d?u:0))%o],c(n,g,m,d,s.stepped)),!!l}function Ac(n,e,t,a){let i=e.points,{count:s,start:o,ilen:r}=Go(i,t,a),{move:l=!0,reverse:u}=a||{},c=0,h=0,d,p,m,g,y,b,v=L=>(o+(u?r-L:L))%s,R=()=>{g!==y&&(n.lineTo(c,y),n.lineTo(c,g),n.lineTo(c,b))};for(l&&(p=i[v(0)],n.moveTo(p.x,p.y)),d=0;d<=r;++d){if(p=i[v(d)],p.skip)continue;let L=p.x,A=p.y,F=L|0;F===m?(A<g?g=A:A>y&&(y=A),c=(h*c+L)/++h):(R(),n.lineTo(L,A),m=F,h=0,g=y=A),b=A}R()}function Ti(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Ac:xc}function Lc(n){return n.stepped?Os:n.tension||n.cubicInterpolationMode==="monotone"?_s:We}function Rc(n,e,t,a){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,a)&&i.closePath()),jo(n,e.options),n.stroke(i)}function Fc(n,e,t,a){let{segments:i,options:s}=e,o=Ti(e);for(let r of i)jo(n,s,r.style),n.beginPath(),o(n,e,r,{start:t,end:t+a-1})&&n.closePath(),n.stroke()}var Mc=typeof Path2D=="function";function Pc(n,e,t,a){Mc&&!e.options.segment?Rc(n,e,t,a):Fc(n,e,t,a)}var Te=class extends pe{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){let i=a.spanGaps?this._loop:this._fullLoop;Cs(this._points,a,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Is(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){let a=this.options,i=e[t],s=this.points,o=ri(this,{property:t,start:i,end:i});if(!o.length)return;let r=[],l=Lc(a),u,c;for(u=0,c=o.length;u<c;++u){let{start:h,end:d}=o[u],p=s[h],m=s[d];if(p===m){r.push(p);continue}let g=Math.abs((i-p[t])/(m[t]-p[t])),y=l(p,m,g,a.stepped);y[t]=e[t],r.push(y)}return r.length===1?r[0]:r}pathSegment(e,t,a){return Ti(this)(e,this,t,a)}path(e,t,a){let i=this.segments,s=Ti(this),o=this._loop;t=t||0,a=a||this.points.length-t;for(let r of i)o&=s(e,this,r,{start:t,end:t+a-1});return!!o}draw(e,t,a,i){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Pc(e,this,a,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};f(Te,"id","line"),f(Te,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),f(Te,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),f(Te,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function co(n,e,t,a){let i=n.options,{[t]:s}=n.getProps([t],a);return Math.abs(e-s)<i.radius+i.hitRadius}var kt=class extends pe{constructor(t){super();f(this,"parsed");f(this,"skip");f(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,i){let s=this.options,{x:o,y:r}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(a-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,a){return co(this,t,"x",a)}inYRange(t,a){return co(this,t,"y",a)}getCenterPoint(t){let{x:a,y:i}=this.getProps(["x","y"],t);return{x:a,y:i}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);let i=a&&t.borderWidth||0;return(a+i)*2}draw(t,a){let i=this.options;this.skip||i.radius<.1||!Re(this,a,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,zn(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};f(kt,"id","point"),f(kt,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),f(kt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Yo(n,e){let{x:t,y:a,base:i,width:s,height:o}=n.getProps(["x","y","base","width","height"],e),r,l,u,c,h;return n.horizontal?(h=o/2,r=Math.min(t,i),l=Math.max(t,i),u=a-h,c=a+h):(h=s/2,r=t-h,l=t+h,u=Math.min(a,i),c=Math.max(a,i)),{left:r,top:u,right:l,bottom:c}}function Qe(n,e,t,a){return n?0:K(e,t,a)}function wc(n,e,t){let a=n.options.borderWidth,i=n.borderSkipped,s=Ka(a);return{t:Qe(i.top,s.top,0,t),r:Qe(i.right,s.right,0,e),b:Qe(i.bottom,s.bottom,0,t),l:Qe(i.left,s.left,0,e)}}function Tc(n,e,t){let{enableBorderRadius:a}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Ye(i),o=Math.min(e,t),r=n.borderSkipped,l=a||_(i);return{topLeft:Qe(!l||r.top||r.left,s.topLeft,0,o),topRight:Qe(!l||r.top||r.right,s.topRight,0,o),bottomLeft:Qe(!l||r.bottom||r.left,s.bottomLeft,0,o),bottomRight:Qe(!l||r.bottom||r.right,s.bottomRight,0,o)}}function Cc(n){let e=Yo(n),t=e.right-e.left,a=e.bottom-e.top,i=wc(n,t/2,a/2),s=Tc(n,t/2,a/2);return{outer:{x:e.left,y:e.top,w:t,h:a,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:a-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function mi(n,e,t,a){let i=e===null,s=t===null,r=n&&!(i&&s)&&Yo(n,a);return r&&(i||Me(e,r.left,r.right))&&(s||Me(t,r.top,r.bottom))}function Ec(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Sc(n,e){n.rect(e.x,e.y,e.w,e.h)}function gi(n,e,t={}){let a=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-a,o=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+a,y:n.y+i,w:n.w+s,h:n.h+o,radius:n.radius}}var It=class extends pe{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:a,backgroundColor:i}}=this,{inner:s,outer:o}=Cc(this),r=Ec(o.radius)?Pt:Sc;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),r(e,gi(o,t,s)),e.clip(),r(e,gi(s,-t,o)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),r(e,gi(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,a){return mi(this,e,t,a)}inXRange(e,t){return mi(this,e,null,t)}inYRange(e,t){return mi(this,null,e,t)}getCenterPoint(e){let{x:t,y:a,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?a:(a+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};f(It,"id","bar"),f(It,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),f(It,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Oc=Object.freeze({__proto__:null,ArcElement:lt,BarElement:It,LineElement:Te,PointElement:kt}),Ci=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ho=Ci.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Xo(n){return Ci[n%Ci.length]}function Qo(n){return ho[n%ho.length]}function _c(n,e){return n.borderColor=Xo(e),n.backgroundColor=Qo(e),++e}function kc(n,e){return n.backgroundColor=n.data.map(()=>Xo(e++)),e}function Ic(n,e){return n.backgroundColor=n.data.map(()=>Qo(e++)),e}function Nc(n){let e=0;return(t,a)=>{let i=n.getDatasetMeta(a).controller;i instanceof Be?e=kc(t,e):i instanceof ct?e=Ic(t,e):i&&(e=_c(t,e))}}function po(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function Dc(n){return n&&(n.borderColor||n.backgroundColor)}function Vc(){return $.borderColor!=="rgba(0,0,0,0.1)"||$.backgroundColor!=="rgba(0,0,0,0.1)"}var Bc={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:a},options:i}=n.config,{elements:s}=i,o=po(a)||Dc(i)||s&&po(s)||Vc();if(!t.forceOverride&&o)return;let r=Nc(n);a.forEach(r)}};function Hc(n,e,t,a,i){let s=i.samples||a;if(s>=t)return n.slice(e,e+t);let o=[],r=(t-2)/(s-2),l=0,u=e+t-1,c=e,h,d,p,m,g;for(o[l++]=n[c],h=0;h<s-2;h++){let y=0,b=0,v,R=Math.floor((h+1)*r)+1+e,L=Math.min(Math.floor((h+2)*r)+1,t)+e,A=L-R;for(v=R;v<L;v++)y+=n[v].x,b+=n[v].y;y/=A,b/=A;let F=Math.floor(h*r)+1+e,M=Math.min(Math.floor((h+1)*r)+1,t)+e,{x:P,y:w}=n[c];for(p=m=-1,v=F;v<M;v++)m=.5*Math.abs((P-y)*(n[v].y-w)-(P-n[v].x)*(b-w)),m>p&&(p=m,d=n[v],g=v);o[l++]=d,c=g}return o[l++]=n[u],o}function zc(n,e,t,a){let i=0,s=0,o,r,l,u,c,h,d,p,m,g,y=[],b=e+t-1,v=n[e].x,L=n[b].x-v;for(o=e;o<e+t;++o){r=n[o],l=(r.x-v)/L*a,u=r.y;let A=l|0;if(A===c)u<m?(m=u,h=o):u>g&&(g=u,d=o),i=(s*i+r.x)/++s;else{let F=o-1;if(!O(h)&&!O(d)){let M=Math.min(h,d),P=Math.max(h,d);M!==p&&M!==F&&y.push({...n[M],x:i}),P!==p&&P!==F&&y.push({...n[P],x:i})}o>0&&F!==p&&y.push(n[F]),y.push(r),c=A,s=0,m=g=u,h=d=p=o}}return y}function Ko(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function fo(n){n.data.datasets.forEach(e=>{Ko(e)})}function qc(n,e){let t=e.length,a=0,i,{iScale:s}=n,{min:o,max:r,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(a=K(Le(e,s.axis,o).lo,0,t-1)),u?i=K(Le(e,s.axis,r).hi+1,a,t)-a:i=t-a,{start:a,count:i}}var $c={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){fo(n);return}let a=n.width;n.data.datasets.forEach((i,s)=>{let{_data:o,indexAxis:r}=i,l=n.getDatasetMeta(s),u=o||i.data;if(wt([r,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let c=n.scales[l.xAxisID];if(c.type!=="linear"&&c.type!=="time"||n.options.parsing)return;let{start:h,count:d}=qc(l,u),p=t.threshold||4*a;if(d<=p){Ko(i);return}O(o)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(t.algorithm){case"lttb":m=Hc(u,h,d,a,t);break;case"min-max":m=zc(u,h,d,a);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=m})},destroy(n){fo(n)}};function Wc(n,e,t){let a=n.segments,i=n.points,s=e.points,o=[];for(let r of a){let{start:l,end:u}=r;u=Oi(l,u,i);let c=Ei(t,i[l],i[u],r.loop);if(!e.segments){o.push({source:r,target:c,start:i[l],end:i[u]});continue}let h=ri(e,c);for(let d of h){let p=Ei(t,s[d.start],s[d.end],d.loop),m=oi(r,i,p);for(let g of m)o.push({source:g,target:d,start:{[t]:mo(c,p,"start",Math.max)},end:{[t]:mo(c,p,"end",Math.min)}})}}return o}function Ei(n,e,t,a){if(a)return;let i=e[n],s=t[n];return n==="angle"&&(i=re(i),s=re(s)),{property:n,start:i,end:s}}function Uc(n,e){let{x:t=null,y:a=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:r})=>{r=Oi(o,r,i);let l=i[o],u=i[r];a!==null?(s.push({x:l.x,y:a}),s.push({x:u.x,y:a})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:u.y}))}),s}function Oi(n,e,t){for(;e>n;e--){let a=t[e];if(!isNaN(a.x)&&!isNaN(a.y))break}return e}function mo(n,e,t,a){return n&&e?a(n[t],e[t]):n?n[t]:e?e[t]:0}function Jo(n,e){let t=[],a=!1;return B(n)?(a=!0,t=n):t=Uc(n,e),t.length?new Te({points:t,options:{tension:0},_loop:a,_fullLoop:a}):null}function go(n){return n&&n.fill!==!1}function jc(n,e,t){let i=n[e].fill,s=[e],o;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!U(i))return i;if(o=n[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Gc(n,e,t){let a=Kc(n);if(_(a))return isNaN(a.value)?!1:a;let i=parseFloat(a);return U(i)&&Math.floor(i)===i?Yc(a[0],e,i,t):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function Yc(n,e,t,a){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=a?!1:t}function Xc(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:_(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Qc(n,e,t){let a;return n==="start"?a=t:n==="end"?a=e.options.reverse?e.min:e.max:_(n)?a=n.value:a=e.getBaseValue(),a}function Kc(n){let e=n.options,t=e.fill,a=C(t&&t.target,t);return a===void 0&&(a=!!e.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function Jc(n){let{scale:e,index:t,line:a}=n,i=[],s=a.segments,o=a.points,r=Zc(e,t);r.push(Jo({x:null,y:e.bottom},a));for(let l=0;l<s.length;l++){let u=s[l];for(let c=u.start;c<=u.end;c++)eh(i,o[c],r)}return new Te({points:i,options:{}})}function Zc(n,e){let t=[],a=n.getMatchingVisibleMetas("line");for(let i=0;i<a.length;i++){let s=a[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function eh(n,e,t){let a=[];for(let i=0;i<t.length;i++){let s=t[i],{first:o,last:r,point:l}=th(s,e,"x");if(!(!l||o&&r)){if(o)a.unshift(l);else if(n.push(l),!r)break}}n.push(...a)}function th(n,e,t){let a=n.interpolate(e,t);if(!a)return{};let i=a[t],s=n.segments,o=n.points,r=!1,l=!1;for(let u=0;u<s.length;u++){let c=s[u],h=o[c.start][t],d=o[c.end][t];if(Me(i,h,d)){r=i===h,l=i===d;break}}return{first:r,last:l,point:a}}var oa=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,a){let{x:i,y:s,radius:o}=this;return t=t||{start:0,end:z},e.arc(i,s,o,t.end,t.start,!0),!a.bounds}interpolate(e){let{x:t,y:a,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:a+Math.sin(s)*i,angle:s}}};function nh(n){let{chart:e,fill:t,line:a}=n;if(U(t))return ah(e,t);if(t==="stack")return Jc(n);if(t==="shape")return!0;let i=ih(n);return i instanceof oa?i:Jo(i,a)}function ah(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function ih(n){return(n.scale||{}).getPointPositionForValue?oh(n):sh(n)}function sh(n){let{scale:e={},fill:t}=n,a=Xc(t,e);if(U(a)){let i=e.isHorizontal();return{x:i?a:null,y:i?null:a}}return null}function oh(n){let{scale:e,fill:t}=n,a=e.options,i=e.getLabels().length,s=a.reverse?e.max:e.min,o=Qc(t,e,s),r=[];if(a.grid.circular){let l=e.getPointPositionForValue(0,s);return new oa({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)r.push(e.getPointPositionForValue(l,o));return r}function yi(n,e,t){let a=nh(e),{line:i,scale:s,axis:o}=e,r=i.options,l=r.fill,u=r.backgroundColor,{above:c=u,below:h=u}=l||{};a&&i.points.length&&(Qt(n,t),rh(n,{line:i,target:a,above:c,below:h,area:t,scale:s,axis:o}),Kt(n))}function rh(n,e){let{line:t,target:a,above:i,below:s,area:o,scale:r}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&s!==i&&(yo(n,a,o.top),bo(n,{line:t,target:a,color:i,scale:r,property:l}),n.restore(),n.save(),yo(n,a,o.bottom)),bo(n,{line:t,target:a,color:s,scale:r,property:l}),n.restore()}function yo(n,e,t){let{segments:a,points:i}=e,s=!0,o=!1;n.beginPath();for(let r of a){let{start:l,end:u}=r,c=i[l],h=i[Oi(l,u,i)];s?(n.moveTo(c.x,c.y),s=!1):(n.lineTo(c.x,t),n.lineTo(c.x,c.y)),o=!!e.pathSegment(n,r,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function bo(n,e){let{line:t,target:a,property:i,color:s,scale:o}=e,r=Wc(t,a,i);for(let{source:l,target:u,start:c,end:h}of r){let{style:{backgroundColor:d=s}={}}=l,p=a!==!0;n.save(),n.fillStyle=d,lh(n,o,p&&Ei(i,c,h)),n.beginPath();let m=!!t.pathSegment(n,l),g;if(p){m?n.closePath():vo(n,a,h,i);let y=!!a.pathSegment(n,u,{move:m,reverse:!0});g=m&&y,g||vo(n,a,c,i)}n.closePath(),n.fill(g?"evenodd":"nonzero"),n.restore()}}function lh(n,e,t){let{top:a,bottom:i}=e.chart.chartArea,{property:s,start:o,end:r}=t||{};s==="x"&&(n.beginPath(),n.rect(o,a,r-o,i-a),n.clip())}function vo(n,e,t,a){let i=e.interpolate(t,a);i&&n.lineTo(i.x,i.y)}var uh={id:"filler",afterDatasetsUpdate(n,e,t){let a=(n.data.datasets||[]).length,i=[],s,o,r,l;for(o=0;o<a;++o)s=n.getDatasetMeta(o),r=s.dataset,l=null,r&&r.options&&r instanceof Te&&(l={visible:n.isDatasetVisible(o),index:o,fill:Gc(r,o,a),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:r}),s.$filler=l,i.push(l);for(o=0;o<a;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=jc(i,o,t.propagate))},beforeDraw(n,e,t){let a=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=i.length-1;o>=0;--o){let r=i[o].$filler;r&&(r.line.updateControlPoints(s,r.axis),a&&r.fill&&yi(n.ctx,r,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let a=n.getSortedVisibleDatasetMetas();for(let i=a.length-1;i>=0;--i){let s=a[i].$filler;go(s)&&yi(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){let a=e.meta.$filler;!go(a)||t.drawTime!=="beforeDatasetDraw"||yi(n.ctx,a,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},xo=(n,e)=>{let{boxHeight:t=e,boxWidth:a=e}=n;return n.usePointStyle&&(t=Math.min(t,e),a=n.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:t,itemHeight:Math.max(e,t)}},ch=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,ra=class extends pe{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=V(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(a=>e.filter(a,this.chart.data))),e.sort&&(t=t.sort((a,i)=>e.sort(a,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let a=e.labels,i=Q(a.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:l}=xo(a,s),u,c;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,r,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,r,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,i){let{ctx:s,maxWidth:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+r,h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,p=-c;return this.legendItems.forEach((m,g)=>{let y=a+t/2+s.measureText(m.text).width;(g===0||u[u.length-1]+y+2*r>o)&&(h+=c,u[u.length-(g>0?0:1)]=0,p+=c,d++),l[g]={left:0,top:p,row:d,width:y,height:i},u[u.length-1]+=y+r}),h}_fitCols(e,t,a,i){let{ctx:s,maxHeight:o,options:{labels:{padding:r}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e,h=r,d=0,p=0,m=0,g=0;return this.legendItems.forEach((y,b)=>{let{itemWidth:v,itemHeight:R}=hh(a,t,s,y,i);b>0&&p+R+2*r>c&&(h+=d+r,u.push({width:d,height:p}),m+=d+r,g++,d=p=0),l[b]={left:m,top:p,col:g,width:v,height:R},d=Math.max(d,v),p+=R+r}),h+=d,u.push({width:d,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:i},rtl:s}}=this,o=st(s,this.left,this.width);if(this.isHorizontal()){let r=0,l=te(a,this.left+i,this.right-this.lineWidths[r]);for(let u of t)r!==u.row&&(r=u.row,l=te(a,this.left+i,this.right-this.lineWidths[r])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let r=0,l=te(a,this.top+e+i,this.bottom-this.columnSizes[r].height);for(let u of t)u.col!==r&&(r=u.col,l=te(a,this.top+e+i,this.bottom-this.columnSizes[r].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Qt(e,this),this._draw(),Kt(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:a,ctx:i}=this,{align:s,labels:o}=e,r=$.color,l=st(e.rtl,this.left,this.width),u=Q(o.font),{padding:c}=o,h=u.size,d=h/2,p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;let{boxWidth:m,boxHeight:g,itemHeight:y}=xo(o,h),b=function(F,M,P){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();let w=C(P.lineWidth,1);if(i.fillStyle=C(P.fillStyle,r),i.lineCap=C(P.lineCap,"butt"),i.lineDashOffset=C(P.lineDashOffset,0),i.lineJoin=C(P.lineJoin,"miter"),i.lineWidth=w,i.strokeStyle=C(P.strokeStyle,r),i.setLineDash(C(P.lineDash,[])),o.usePointStyle){let E={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:w},S=l.xPlus(F,m/2),I=M+d;Qa(i,E,S,I,o.pointStyleWidth&&m)}else{let E=M+Math.max((h-g)/2,0),S=l.leftForLtr(F,m),I=Ye(P.borderRadius);i.beginPath(),Object.values(I).some(ee=>ee!==0)?Pt(i,{x:S,y:E,w:m,h:g,radius:I}):i.rect(S,E,m,g),i.fill(),w!==0&&i.stroke()}i.restore()},v=function(F,M,P){Ge(i,P.text,F,M+y/2,u,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},R=this.isHorizontal(),L=this._computeTitleHeight();R?p={x:te(s,this.left+c,this.right-a[0]),y:this.top+c+L,line:0}:p={x:this.left+c,y:te(s,this.top+L+c,this.bottom-t[0].height),line:0},ii(this.ctx,e.textDirection);let A=y+c;this.legendItems.forEach((F,M)=>{i.strokeStyle=F.fontColor,i.fillStyle=F.fontColor;let P=i.measureText(F.text).width,w=l.textAlign(F.textAlign||(F.textAlign=o.textAlign)),E=m+d+P,S=p.x,I=p.y;l.setWidth(this.width),R?M>0&&S+E+c>this.right&&(I=p.y+=A,p.line++,S=p.x=te(s,this.left+c,this.right-a[p.line])):M>0&&I+A>this.bottom&&(S=p.x=S+t[p.line].width+c,p.line++,I=p.y=te(s,this.top+L+c,this.bottom-t[p.line].height));let ee=l.x(S);if(b(ee,I,F),S=vs(w,S+m+d,R?S+E:this.right,e.rtl),v(l.x(S),I,F),R)p.x+=E+c;else if(typeof F.text!="string"){let he=u.lineHeight;p.y+=Zo(F,he)+c}else p.y+=A}),si(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,a=Q(t.font),i=ne(t.padding);if(!t.display)return;let s=st(e.rtl,this.left,this.width),o=this.ctx,r=t.position,l=a.size/2,u=i.top+l,c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=te(e.align,h,this.right-d);else{let m=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);c=u+te(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}let p=te(r,h,h+d);o.textAlign=s.textAlign(Bn(r)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=a.string,Ge(o,t.text,p,c,a)}_computeTitleHeight(){let e=this.options.title,t=Q(e.font),a=ne(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,i,s;if(Me(e,this.left,this.right)&&Me(t,this.top,this.bottom)){for(s=this.legendHitBoxes,a=0;a<s.length;++a)if(i=s[a],Me(e,i.left,i.left+i.width)&&Me(t,i.top,i.top+i.height))return this.legendItems[a]}return null}handleEvent(e){let t=this.options;if(!fh(e.type,t))return;let a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,s=ch(i,a);i&&!s&&V(t.onLeave,[e,i,this],this),this._hoveredItem=a,a&&!s&&V(t.onHover,[e,a,this],this)}else a&&V(t.onClick,[e,a,this],this)}};function hh(n,e,t,a,i){let s=dh(a,n,e,t),o=ph(i,a,e.lineHeight);return{itemWidth:s,itemHeight:o}}function dh(n,e,t,a){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+a.measureText(i).width}function ph(n,e,t){let a=n;return typeof e.text!="string"&&(a=Zo(e,t)),a}function Zo(n,e){let t=n.text?n.text.length:0;return e*t}function fh(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var mh={id:"legend",_element:ra,start(n,e,t){let a=n.legend=new ra({ctx:n.ctx,options:t,chart:n});ie.configure(n,a,t),ie.addBox(n,a)},stop(n){ie.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let a=n.legend;ie.configure(n,a,t),a.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let a=e.datasetIndex,i=t.chart;i.isDatasetVisible(a)?(i.hide(a),e.hidden=!0):(i.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:a,textAlign:i,color:s,useBorderRadius:o,borderRadius:r}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let u=l.controller.getStyle(t?0:void 0),c=ne(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:a||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(r||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},pn=class extends pe{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=B(a.text)?a.text.length:1;this._padding=ne(a.padding);let s=i*Q(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:a,bottom:i,right:s,options:o}=this,r=o.align,l=0,u,c,h;return this.isHorizontal()?(c=te(r,a,s),h=t+e,u=s-a):(o.position==="left"?(c=a+e,h=te(r,i,t),l=H*-.5):(c=s-e,h=te(r,t,i),l=H*.5),u=i-t),{titleX:c,titleY:h,maxWidth:u,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let a=Q(t.font),s=a.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:l,rotation:u}=this._drawArgs(s);Ge(e,t.text,0,0,a,{color:t.color,maxWidth:l,rotation:u,textAlign:Bn(t.align),textBaseline:"middle",translation:[o,r]})}};function gh(n,e){let t=new pn({ctx:n.ctx,options:e,chart:n});ie.configure(n,t,e),ie.addBox(n,t),n.titleBlock=t}var yh={id:"title",_element:pn,start(n,e,t){gh(n,t)},stop(n){let e=n.titleBlock;ie.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let a=n.titleBlock;ie.configure(n,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Kn=new WeakMap,bh={id:"subtitle",start(n,e,t){let a=new pn({ctx:n.ctx,options:t,chart:n});ie.configure(n,a,t),ie.addBox(n,a),Kn.set(n,a)},stop(n){ie.removeBox(n,Kn.get(n)),Kn.delete(n)},beforeUpdate(n,e,t){let a=Kn.get(n);ie.configure(n,a,t),a.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},on={average(n){if(!n.length)return!1;let e,t,a=new Set,i=0,s=0;for(e=0,t=n.length;e<t;++e){let r=n[e].element;if(r&&r.hasValue()){let l=r.tooltipPosition();a.add(l.x),i+=l.y,++s}}return s===0||a.size===0?!1:{x:[...a].reduce((r,l)=>r+l)/a.size,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,a=e.y,i=Number.POSITIVE_INFINITY,s,o,r;for(s=0,o=n.length;s<o;++s){let l=n[s].element;if(l&&l.hasValue()){let u=l.getCenterPoint(),c=kn(e,u);c<i&&(i=c,r=l)}}if(r){let l=r.tooltipPosition();t=l.x,a=l.y}return{x:t,y:a}}};function Pe(n,e){return e&&(B(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ve(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function vh(n,e){let{element:t,datasetIndex:a,index:i}=e,s=n.getDatasetMeta(a).controller,{label:o,value:r}=s.getLabelAndValue(i);return{chart:n,label:o,parsed:s.getParsed(i),raw:n.data.datasets[a].data[i],formattedValue:r,dataset:s.getDataset(),dataIndex:i,datasetIndex:a,element:t}}function Ao(n,e){let t=n.chart.ctx,{body:a,footer:i,title:s}=n,{boxWidth:o,boxHeight:r}=e,l=Q(e.bodyFont),u=Q(e.titleFont),c=Q(e.footerFont),h=s.length,d=i.length,p=a.length,m=ne(e.padding),g=m.height,y=0,b=a.reduce((L,A)=>L+A.before.length+A.lines.length+A.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){let L=e.displayColors?Math.max(r,l.lineHeight):l.lineHeight;g+=p*L+(b-p)*l.lineHeight+(b-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let v=0,R=function(L){y=Math.max(y,t.measureText(L).width+v)};return t.save(),t.font=u.string,N(n.title,R),t.font=l.string,N(n.beforeBody.concat(n.afterBody),R),v=e.displayColors?o+2+e.boxPadding:0,N(a,L=>{N(L.before,R),N(L.lines,R),N(L.after,R)}),v=0,t.font=c.string,N(n.footer,R),t.restore(),y+=m.width,{width:y,height:g}}function xh(n,e){let{y:t,height:a}=e;return t<a/2?"top":t>n.height-a/2?"bottom":"center"}function Ah(n,e,t,a){let{x:i,width:s}=a,o=t.caretSize+t.caretPadding;if(n==="left"&&i+s+o>e.width||n==="right"&&i-s-o<0)return!0}function Lh(n,e,t,a){let{x:i,width:s}=t,{width:o,chartArea:{left:r,right:l}}=n,u="center";return a==="center"?u=i<=(r+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),Ah(u,n,e,t)&&(u="center"),u}function Lo(n,e,t){let a=t.yAlign||e.yAlign||xh(n,t);return{xAlign:t.xAlign||e.xAlign||Lh(n,e,t,a),yAlign:a}}function Rh(n,e){let{x:t,width:a}=n;return e==="right"?t-=a:e==="center"&&(t-=a/2),t}function Fh(n,e,t){let{y:a,height:i}=n;return e==="top"?a+=t:e==="bottom"?a-=i+t:a-=i/2,a}function Ro(n,e,t,a){let{caretSize:i,caretPadding:s,cornerRadius:o}=n,{xAlign:r,yAlign:l}=t,u=i+s,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:p}=Ye(o),m=Rh(e,r),g=Fh(e,l,u);return l==="center"?r==="left"?m+=u:r==="right"&&(m-=u):r==="left"?m-=Math.max(c,d)+i:r==="right"&&(m+=Math.max(h,p)+i),{x:K(m,0,a.width-e.width),y:K(g,0,a.height-e.height)}}function Jn(n,e,t){let a=ne(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-a.right:n.x+a.left}function Fo(n){return Pe([],Ve(n))}function Mh(n,e,t){return Ne(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Mo(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var er={beforeTitle:Fe,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,a=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return t[e.dataIndex]}return""},afterTitle:Fe,beforeBody:Fe,beforeLabel:Fe,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return O(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Fe,afterBody:Fe,beforeFooter:Fe,footer:Fe,afterFooter:Fe};function ue(n,e,t,a){let i=n[e].call(t,a);return typeof i>"u"?er[e].call(t,a):i}var hn=class extends pe{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,a=this.options.setContext(this.getContext()),i=a.enabled&&t.options.animation&&a.animations,s=new na(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Mh(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:a}=t,i=ue(a,"beforeTitle",this,e),s=ue(a,"title",this,e),o=ue(a,"afterTitle",this,e),r=[];return r=Pe(r,Ve(i)),r=Pe(r,Ve(s)),r=Pe(r,Ve(o)),r}getBeforeBody(e,t){return Fo(ue(t.callbacks,"beforeBody",this,e))}getBody(e,t){let{callbacks:a}=t,i=[];return N(e,s=>{let o={before:[],lines:[],after:[]},r=Mo(a,s);Pe(o.before,Ve(ue(r,"beforeLabel",this,s))),Pe(o.lines,ue(r,"label",this,s)),Pe(o.after,Ve(ue(r,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,t){return Fo(ue(t.callbacks,"afterBody",this,e))}getFooter(e,t){let{callbacks:a}=t,i=ue(a,"beforeFooter",this,e),s=ue(a,"footer",this,e),o=ue(a,"afterFooter",this,e),r=[];return r=Pe(r,Ve(i)),r=Pe(r,Ve(s)),r=Pe(r,Ve(o)),r}_createItems(e){let t=this._active,a=this.chart.data,i=[],s=[],o=[],r=[],l,u;for(l=0,u=t.length;l<u;++l)r.push(vh(this.chart,t[l]));return e.filter&&(r=r.filter((c,h,d)=>e.filter(c,h,d,a))),e.itemSort&&(r=r.sort((c,h)=>e.itemSort(c,h,a))),N(r,c=>{let h=Mo(e.callbacks,c);i.push(ue(h,"labelColor",this,c)),s.push(ue(h,"labelPointStyle",this,c)),o.push(ue(h,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=r,r}update(e,t){let a=this.options.setContext(this.getContext()),i=this._active,s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{let r=on[a.position].call(this,i,this._eventPosition);o=this._createItems(a),this.title=this.getTitle(o,a),this.beforeBody=this.getBeforeBody(o,a),this.body=this.getBody(o,a),this.afterBody=this.getAfterBody(o,a),this.footer=this.getFooter(o,a);let l=this._size=Ao(this,a),u=Object.assign({},r,l),c=Lo(this.chart,a,u),h=Ro(a,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:r.x,caretY:r.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,i){let s=this.getCaretPosition(e,a,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,a){let{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:r}=a,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=Ye(r),{x:d,y:p}=e,{width:m,height:g}=t,y,b,v,R,L,A;return s==="center"?(L=p+g/2,i==="left"?(y=d,b=y-o,R=L+o,A=L-o):(y=d+m,b=y+o,R=L-o,A=L+o),v=y):(i==="left"?b=d+Math.max(l,c)+o:i==="right"?b=d+m-Math.max(u,h)-o:b=this.caretX,s==="top"?(R=p,L=R-o,y=b-o,v=b+o):(R=p+g,L=R+o,y=b+o,v=b-o),A=R),{x1:y,x2:b,x3:v,y1:R,y2:L,y3:A}}drawTitle(e,t,a){let i=this.title,s=i.length,o,r,l;if(s){let u=st(a.rtl,this.x,this.width);for(e.x=Jn(this,a.titleAlign,a),t.textAlign=u.textAlign(a.titleAlign),t.textBaseline="middle",o=Q(a.titleFont),r=a.titleSpacing,t.fillStyle=a.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r,l+1===s&&(e.y+=a.titleMarginBottom-r)}}_drawColorBox(e,t,a,i,s){let o=this.labelColors[a],r=this.labelPointStyles[a],{boxHeight:l,boxWidth:u}=s,c=Q(s.bodyFont),h=Jn(this,"left",s),d=i.x(h),p=l<c.lineHeight?(c.lineHeight-l)/2:0,m=t.y+p;if(s.usePointStyle){let g={radius:Math.min(u,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},y=i.leftForLtr(d,u)+u/2,b=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,zn(e,g,y,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,zn(e,g,y,b)}else{e.lineWidth=_(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;let g=i.leftForLtr(d,u),y=i.leftForLtr(i.xPlus(d,1),u-2),b=Ye(o.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Pt(e,{x:g,y:m,w:u,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Pt(e,{x:y,y:m+1,w:u-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,u,l),e.strokeRect(g,m,u,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,u-2,l-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){let{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:r,boxHeight:l,boxWidth:u,boxPadding:c}=a,h=Q(a.bodyFont),d=h.lineHeight,p=0,m=st(a.rtl,this.x,this.width),g=function(P){t.fillText(P,m.x(e.x+p),e.y+d/2),e.y+=d+s},y=m.textAlign(o),b,v,R,L,A,F,M;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=Jn(this,y,a),t.fillStyle=a.bodyColor,N(this.beforeBody,g),p=r&&y!=="right"?o==="center"?u/2+c:u+2+c:0,L=0,F=i.length;L<F;++L){for(b=i[L],v=this.labelTextColors[L],t.fillStyle=v,N(b.before,g),R=b.lines,r&&R.length&&(this._drawColorBox(t,e,L,m,a),d=Math.max(h.lineHeight,l)),A=0,M=R.length;A<M;++A)g(R[A]),d=h.lineHeight;N(b.after,g)}p=0,d=h.lineHeight,N(this.afterBody,g),e.y-=s}drawFooter(e,t,a){let i=this.footer,s=i.length,o,r;if(s){let l=st(a.rtl,this.x,this.width);for(e.x=Jn(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=l.textAlign(a.footerAlign),t.textBaseline="middle",o=Q(a.footerFont),t.fillStyle=a.footerColor,t.font=o.string,r=0;r<s;++r)t.fillText(i[r],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a.footerSpacing}}drawBackground(e,t,a,i){let{xAlign:s,yAlign:o}=this,{x:r,y:l}=e,{width:u,height:c}=a,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:m}=Ye(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(r+h,l),o==="top"&&this.drawCaret(e,t,a,i),t.lineTo(r+u-d,l),t.quadraticCurveTo(r+u,l,r+u,l+d),o==="center"&&s==="right"&&this.drawCaret(e,t,a,i),t.lineTo(r+u,l+c-m),t.quadraticCurveTo(r+u,l+c,r+u-m,l+c),o==="bottom"&&this.drawCaret(e,t,a,i),t.lineTo(r+p,l+c),t.quadraticCurveTo(r,l+c,r,l+c-p),o==="center"&&s==="left"&&this.drawCaret(e,t,a,i),t.lineTo(r,l+h),t.quadraticCurveTo(r,l,r+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,a=this.$animations,i=a&&a.x,s=a&&a.y;if(i||s){let o=on[e.position].call(this,this._active,this._eventPosition);if(!o)return;let r=this._size=Ao(this,e),l=Object.assign({},o,this._size),u=Lo(t,e,l),c=Ro(e,l,u,t);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=r.width,this.height=r.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),a=this.opacity;if(!a)return;this._updateAnimationTarget(t);let i={width:this.width,height:this.height},s={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;let o=ne(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=a,this.drawBackground(s,e,i,t),ii(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),si(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let a=this._active,i=e.map(({datasetIndex:r,index:l})=>{let u=this.chart.getDatasetMeta(r);if(!u)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:u.data[l],index:l}}),s=!Yt(a,i),o=this._positionChanged(i,t);(s||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,a),r=this._positionChanged(o,e),l=t||!Yt(o,s)||r;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,a,i){let s=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(r=>this.chart.data.datasets[r.datasetIndex]&&this.chart.getDatasetMeta(r.datasetIndex).controller.getParsed(r.index)!==void 0);let o=this.chart.getElementsAtEventForMode(e,s.mode,s,a);return s.reverse&&o.reverse(),o}_positionChanged(e,t){let{caretX:a,caretY:i,options:s}=this,o=on[s.position].call(this,e,t);return o!==!1&&(a!==o.x||i!==o.y)}};f(hn,"positioners",on);var Ph={id:"tooltip",_element:hn,positioners:on,afterInit(n,e,t){t&&(n.tooltip=new hn({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:er},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wh=Object.freeze({__proto__:null,Colors:Bc,Decimation:$c,Filler:uh,Legend:mh,SubTitle:bh,Title:yh,Tooltip:Ph}),Th=(n,e,t,a)=>(typeof e=="string"?(t=n.push(e)-1,a.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Ch(n,e,t,a){let i=n.indexOf(e);if(i===-1)return Th(n,e,t,a);let s=n.lastIndexOf(e);return i!==s?t:i}var Eh=(n,e)=>n===null?null:K(Math.round(n),0,e);function Po(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var rn=class extends dt{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let a=this.getLabels();for(let{index:i,label:s}of t)a[i]===s&&a.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(O(e))return null;let a=this.getLabels();return t=isFinite(t)&&a[t]===e?t:Ch(a,e,C(t,e),this._addedLabels),Eh(t,a.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:a,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),t||(i=this.getLabels().length-1)),this.min=a,this.max=i}buildTicks(){let e=this.min,t=this.max,a=this.options.offset,i=[],s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let o=e;o<=t;o++)i.push({value:o});return i}getLabelForValue(e){return Po.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};f(rn,"id","category"),f(rn,"defaults",{ticks:{callback:Po}});function Sh(n,e){let t=[],{bounds:i,step:s,min:o,max:r,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=n,p=s||1,m=c-1,{min:g,max:y}=e,b=!O(o),v=!O(r),R=!O(u),L=(y-g)/(h+1),A=Da((y-g)/m/p)*p,F,M,P,w;if(A<1e-14&&!b&&!v)return[{value:g},{value:y}];w=Math.ceil(y/A)-Math.floor(g/A),w>m&&(A=Da(w*A/m/p)*p),O(l)||(F=Math.pow(10,l),A=Math.ceil(A*F)/F),i==="ticks"?(M=Math.floor(g/A)*A,P=Math.ceil(y/A)*A):(M=g,P=y),b&&v&&s&&ds((r-o)/s,A/1e3)?(w=Math.round(Math.min((r-o)/A,c)),A=(r-o)/w,M=o,P=r):R?(M=b?o:M,P=v?r:P,w=u-1,A=(P-M)/w):(w=(P-M)/A,Rt(w,Math.round(w),A/1e3)?w=Math.round(w):w=Math.ceil(w));let E=Math.max(Ba(A),Ba(M));F=Math.pow(10,O(l)?E:l),M=Math.round(M*F)/F,P=Math.round(P*F)/F;let S=0;for(b&&(d&&M!==o?(t.push({value:o}),M<o&&S++,Rt(Math.round((M+S*A)*F)/F,o,wo(o,L,n))&&S++):M<o&&S++);S<w;++S){let I=Math.round((M+S*A)*F)/F;if(v&&I>r)break;t.push({value:I})}return v&&d&&P!==r?t.length&&Rt(t[t.length-1].value,r,wo(r,L,n))?t[t.length-1].value=r:t.push({value:r}):(!v||P===r)&&t.push({value:P}),t}function wo(n,e,{horizontal:t,minRotation:a}){let i=ge(a),s=(t?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}var Dt=class extends dt{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return O(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds(),{min:i,max:s}=this,o=l=>i=t?i:l,r=l=>s=a?s:l;if(e){let l=Ae(i),u=Ae(s);l<0&&u<0?r(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);r(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:a}=e,i;return a?(i=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,a=this.getTickLimit();a=Math.max(2,a);let i={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=Sh(i,s);return e.bounds==="ticks"&&Va(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){let i=(a-t)/Math.max(e.length-1,1)/2;t-=i,a+=i}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return Mt(e,this.chart.options.locale,this.options.ticks.format)}},ln=class extends Dt{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=U(e)?e:0,this.max=U(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,a=ge(this.options.ticks.minRotation),i=(e?Math.sin(a):Math.cos(a))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};f(ln,"id","linear"),f(ln,"defaults",{ticks:{callback:Xt.formatters.numeric}});var fn=n=>Math.floor(ke(n)),rt=(n,e)=>Math.pow(10,fn(n)+e);function To(n){return n/Math.pow(10,fn(n))===1}function Co(n,e,t){let a=Math.pow(10,t),i=Math.floor(n/a);return Math.ceil(e/a)-i}function Oh(n,e){let t=e-n,a=fn(t);for(;Co(n,e,a)>10;)a++;for(;Co(n,e,a)<10;)a--;return Math.min(a,fn(n))}function _h(n,{min:e,max:t}){e=le(n.min,e);let a=[],i=fn(e),s=Oh(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,r=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,c=Math.floor((e-l)/r/10)*r*10,h=Math.floor((u-c)/Math.pow(10,s)),d=le(n.min,Math.round((l+c+h*Math.pow(10,s))*o)/o);for(;d<t;)a.push({value:d,major:To(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+c+h*Math.pow(10,s))*o)/o;let p=le(n.max,d);return a.push({value:p,major:To(p),significand:h}),a}var un=class extends dt{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let a=Dt.prototype.parse.apply(this,[e,t]);if(a===0){this._zero=!0;return}return U(a)&&a>0?a:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=U(e)?Math.max(0,e):null,this.max=U(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!U(this._userMin)&&(this.min=e===rt(this.min,0)?rt(this.min,-1):rt(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),a=this.min,i=this.max,s=r=>a=e?a:r,o=r=>i=t?i:r;a===i&&(a<=0?(s(1),o(10)):(s(rt(a,-1)),o(rt(i,1)))),a<=0&&s(rt(i,-1)),i<=0&&o(rt(a,1)),this.min=a,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},a=_h(t,this);return e.bounds==="ticks"&&Va(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(e){return e===void 0?"0":Mt(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=ke(e),this._valueRange=ke(this.max)-ke(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ke(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};f(un,"id","logarithmic"),f(un,"defaults",{ticks:{callback:Xt.formatters.logarithmic,major:{enabled:!0}}});function Si(n){let e=n.ticks;if(e.display&&n.display){let t=ne(e.backdropPadding);return C(e.font&&e.font.size,$.font.size)+t.height}return 0}function kh(n,e,t){return t=B(t)?t:[t],{w:As(n,e.string,t),h:t.length*e.lineHeight}}function Eo(n,e,t,a,i){return n===a||n===i?{start:e-t/2,end:e+t/2}:n<a||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function Ih(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),a=[],i=[],s=n._pointLabels.length,o=n.options.pointLabels,r=o.centerPointLabels?H/s:0;for(let l=0;l<s;l++){let u=o.setContext(n.getPointLabelContext(l));i[l]=u.padding;let c=n.getPointPosition(l,n.drawingArea+i[l],r),h=Q(u.font),d=kh(n.ctx,h,n._pointLabels[l]);a[l]=d;let p=re(n.getIndexAngle(l)+r),m=Math.round(Dn(p)),g=Eo(m,c.x,d.w,0,180),y=Eo(m,c.y,d.h,90,270);Nh(t,e,p,g,y)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=Bh(n,a,i)}function Nh(n,e,t,a,i){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),r=0,l=0;a.start<e.l?(r=(e.l-a.start)/s,n.l=Math.min(n.l,e.l-r)):a.end>e.r&&(r=(a.end-e.r)/s,n.r=Math.max(n.r,e.r+r)),i.start<e.t?(l=(e.t-i.start)/o,n.t=Math.min(n.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function Dh(n,e,t){let a=n.drawingArea,{extra:i,additionalAngle:s,padding:o,size:r}=t,l=n.getPointPosition(e,a+i+o,s),u=Math.round(Dn(re(l.angle+j))),c=qh(l.y,r.h,u),h=Hh(u),d=zh(l.x,r.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:d,top:c,right:d+r.w,bottom:c+r.h}}function Vh(n,e){if(!e)return!0;let{left:t,top:a,right:i,bottom:s}=n;return!(Re({x:t,y:a},e)||Re({x:t,y:s},e)||Re({x:i,y:a},e)||Re({x:i,y:s},e))}function Bh(n,e,t){let a=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:r}=s.pointLabels,l={extra:Si(s)/2,additionalAngle:o?H/i:0},u;for(let c=0;c<i;c++){l.padding=t[c],l.size=e[c];let h=Dh(n,c,l);a.push(h),r==="auto"&&(h.visible=Vh(h,u),h.visible&&(u=h))}return a}function Hh(n){return n===0||n===180?"center":n<180?"left":"right"}function zh(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function qh(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function $h(n,e,t){let{left:a,top:i,right:s,bottom:o}=t,{backdropColor:r}=e;if(!O(r)){let l=Ye(e.borderRadius),u=ne(e.backdropPadding);n.fillStyle=r;let c=a-u.left,h=i-u.top,d=s-a+u.width,p=o-i+u.height;Object.values(l).some(m=>m!==0)?(n.beginPath(),Pt(n,{x:c,y:h,w:d,h:p,radius:l}),n.fill()):n.fillRect(c,h,d,p)}}function Wh(n,e){let{ctx:t,options:{pointLabels:a}}=n;for(let i=e-1;i>=0;i--){let s=n._pointLabelItems[i];if(!s.visible)continue;let o=a.setContext(n.getPointLabelContext(i));$h(t,o,s);let r=Q(o.font),{x:l,y:u,textAlign:c}=s;Ge(t,n._pointLabels[i],l,u+r.lineHeight/2,r,{color:o.color,textAlign:c,textBaseline:"middle"})}}function tr(n,e,t,a){let{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,z);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<a;o++)s=n.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Uh(n,e,t,a,i){let s=n.ctx,o=e.circular,{color:r,lineWidth:l}=e;!o&&!a||!r||!l||t<0||(s.save(),s.strokeStyle=r,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),tr(n,t,o,a),s.closePath(),s.stroke(),s.restore())}function jh(n,e,t){return Ne(n,{label:t,index:e,type:"pointLabel"})}var ut=class extends Dt{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=ne(Si(this.options)/2),t=this.width=this.maxWidth-e.width,a=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+a/2+e.top),this.drawingArea=Math.floor(Math.min(t,a)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=U(e)&&!isNaN(e)?e:0,this.max=U(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Si(this.options))}generateTickLabels(e){Dt.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,a)=>{let i=V(this.options.pointLabels.callback,[t,a],this);return i||i===0?i:""}).filter((t,a)=>this.chart.getDataVisibility(a))}fit(){let e=this.options;e.display&&e.pointLabels.display?Ih(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,a,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((a-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,a,i))}getIndexAngle(e){let t=z/(this._pointLabels.length||1),a=this.options.startAngle||0;return re(e*t+ge(a))}getDistanceFromCenterForValue(e){if(O(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(O(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let a=t[e];return jh(this.getContext(),e,a)}}getPointPosition(e,t,a=0){let i=this.getIndexAngle(e)-j+a;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:a,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:a,right:i,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let a=this.ctx;a.save(),a.beginPath(),tr(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),a.closePath(),a.fillStyle=e,a.fill(),a.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:a,grid:i,border:s}=t,o=this._pointLabels.length,r,l,u;if(t.pointLabels.display&&Wh(this,o),i.display&&this.ticks.forEach((c,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);let d=this.getContext(h),p=i.setContext(d),m=s.setContext(d);Uh(this,p,l,o,m)}}),a.display){for(e.save(),r=o-1;r>=0;r--){let c=a.setContext(this.getPointLabelContext(r)),{color:h,lineWidth:d}=c;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(r,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,a=t.ticks;if(!a.display)return;let i=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let u=a.setContext(this.getContext(l)),c=Q(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(r.label).width,e.fillStyle=u.backdropColor;let h=ne(u.backdropPadding);e.fillRect(-o/2-h.left,-s-c.size/2-h.top,o+h.width,c.size+h.height)}Ge(e,r.label,0,-s,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}};f(ut,"id","radialLinear"),f(ut,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xt.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),f(ut,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),f(ut,"descriptors",{angleLines:{_fallback:"grid"}});var la={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ce=Object.keys(la);function So(n,e){return n-e}function Oo(n,e){if(O(e))return null;let t=n._adapter,{parser:a,round:i,isoWeekday:s}=n._parseOpts,o=e;return typeof a=="function"&&(o=a(o)),U(o)||(o=typeof a=="string"?t.parse(o,a):t.parse(o)),o===null?null:(i&&(o=i==="week"&&(it(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,i)),+o)}function _o(n,e,t,a){let i=ce.length;for(let s=ce.indexOf(n);s<i-1;++s){let o=la[ce[s]],r=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(r*o.size))<=a)return ce[s]}return ce[i-1]}function Gh(n,e,t,a,i){for(let s=ce.length-1;s>=ce.indexOf(t);s--){let o=ce[s];if(la[o].common&&n._adapter.diff(i,a,o)>=e-1)return o}return ce[t?ce.indexOf(t):0]}function Yh(n){for(let e=ce.indexOf(n)+1,t=ce.length;e<t;++e)if(la[ce[e]].common)return ce[e]}function ko(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:a,hi:i}=Vn(t,e),s=t[a]>=e?t[a]:t[i];n[s]=!0}}function Xh(n,e,t,a){let i=n._adapter,s=+i.startOf(e[0].value,a),o=e[e.length-1].value,r,l;for(r=s;r<=o;r=+i.add(r,1,a))l=t[r],l>=0&&(e[l].major=!0);return e}function Io(n,e,t){let a=[],i={},s=e.length,o,r;for(o=0;o<s;++o)r=e[o],i[r]=o,a.push({value:r,major:!1});return s===0||!t?a:Xh(n,a,i,t)}var ht=class extends dt{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let a=e.time||(e.time={}),i=this._adapter=new lu._date(e.adapters.date);i.init(t),At(a.displayFormats,i.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Oo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,a=e.time.unit||"day",{min:i,max:s,minDefined:o,maxDefined:r}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!r&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!r)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=U(i)&&!isNaN(i)?i:+t.startOf(Date.now(),a),s=U(s)&&!isNaN(s)?s:+t.endOf(Date.now(),a)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],a=e[e.length-1]),{min:t,max:a}}buildTicks(){let e=this.options,t=e.time,a=e.ticks,i=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let s=this.min,o=this.max,r=ms(i,s,o);return this._unit=t.unit||(a.autoSkip?_o(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):Gh(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:Yh(this._unit),this.initOffsets(i),e.reverse&&r.reverse(),Io(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,a=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?a=s:a=(s-this.getDecimalForValue(e[e.length-2]))/2);let o=e.length<3?.5:.25;t=K(t,0,o),a=K(a,0,o),this._offsets={start:t,end:a,factor:1/(t+1+a)}}_generate(){let e=this._adapter,t=this.min,a=this.max,i=this.options,s=i.time,o=s.unit||_o(s.minUnit,t,a,this._getLabelCapacity(t)),r=C(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=it(l)||l===!0,c={},h=t,d,p;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(a,t,o)>1e5*r)throw new Error(t+" and "+a+" are too far apart with stepSize of "+r+" "+o);let m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,p=0;d<a;d=+e.add(d,r,o),p++)ko(c,d,m);return(d===a||i.bounds==="ticks"||p===1)&&ko(c,d,m),Object.keys(c).sort(So).map(g=>+g)}getLabelForValue(e){let t=this._adapter,a=this.options.time;return a.tooltipFormat?t.format(e,a.tooltipFormat):t.format(e,a.displayFormats.datetime)}format(e,t){let i=this.options.time.displayFormats,s=this._unit,o=t||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,a,i){let s=this.options,o=s.ticks.callback;if(o)return V(o,[e,t,a],this);let r=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&r[l],h=u&&r[u],d=a[t],p=u&&h&&d&&d.major;return this._adapter.format(e,i||(p?h:c))}generateTickLabels(e){let t,a,i;for(t=0,a=e.length;t<a;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+a)*t.factor)}getValueForPixel(e){let t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,a=this.ctx.measureText(e).width,i=ge(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),o=Math.sin(i),r=this._resolveTickFontOptions(0).size;return{w:a*s+r*o,h:a*o+r*s}}_getLabelCapacity(e){let t=this.options.time,a=t.displayFormats,i=a[t.unit]||a.millisecond,s=this._tickFormatFunction(e,0,Io(this,[e],this._majorUnit),i),o=this._getLabelSize(s),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let e=this._cache.data||[],t,a;if(e.length)return e;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,a=i.length;t<a;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,a;if(e.length)return e;let i=this.getLabels();for(t=0,a=i.length;t<a;++t)e.push(Oo(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qa(e.sort(So))}};f(ht,"id","time"),f(ht,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Zn(n,e,t){let a=0,i=n.length-1,s,o,r,l;t?(e>=n[a].pos&&e<=n[i].pos&&({lo:a,hi:i}=Le(n,"pos",e)),{pos:s,time:r}=n[a],{pos:o,time:l}=n[i]):(e>=n[a].time&&e<=n[i].time&&({lo:a,hi:i}=Le(n,"time",e)),{time:s,pos:r}=n[a],{time:o,pos:l}=n[i]);let u=o-s;return u?r+(l-r)*(e-s)/u:r}var cn=class extends ht{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Zn(t,this.min),this._tableRange=Zn(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:a}=this,i=[],s=[],o,r,l,u,c;for(o=0,r=e.length;o<r;++o)u=e[o],u>=t&&u<=a&&i.push(u);if(i.length<2)return[{time:t,pos:0},{time:a,pos:1}];for(o=0,r=i.length;o<r;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(r-1)});return s}_generate(){let e=this.min,t=this.max,a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(t)||a.length===1)&&a.push(t),a.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),a=this.getLabelTimestamps();return t.length&&a.length?e=this.normalize(t.concat(a)):e=t.length?t:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Zn(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return Zn(this._table,a*this._tableRange+this._minPos,!0)}};f(cn,"id","timeseries"),f(cn,"defaults",ht.defaults);var Qh=Object.freeze({__proto__:null,CategoryScale:rn,LinearScale:ln,LogarithmicScale:un,RadialLinearScale:ut,TimeScale:ht,TimeSeriesScale:cn}),nr=[ru,Oc,wh,Qh];ye.register(...nr);var _i=ye;var Ke="data-calc",ua=class{constructor(e){f(this,"calculator");f(this,"config");f(this,"all");f(this,"repeatTemplates");f(this,"repeatOutputs");f(this,"outputs");f(this,"repeatClones");f(this,"conditionals");f(this,"chart");f(this,"chartJS");f(this,"results");f(this,"result");f(this,"calcElement");f(this,"resultsId");this.calculator=e,this.resultsId=e.component.getAttribute("data-results"),this.config=e.config.outputs,this.all=this.resultsId?T(`#${this.resultsId} [${Ke}-output]`,document):T(`[${Ke}-output]`,e.component),this.repeatTemplates=T(`[${Ke}-output-repeat]`,e.component),this.repeatOutputs=T(`[${Ke}-output-repeat] [${Ke}-output]`,e.component),this.outputs=this.all.filter(t=>!this.repeatOutputs.includes(t)),this.repeatClones={},this.chart=x(`[${Ke}-el="chart"]`,e.component),this.results=this.resultsId?x(`#${this.resultsId}`,document):x(`[${Ke}-el="results"]`,e.component),this.conditionals=this.resultsId?T(`#${this.resultsId}`,document):T(".calculator_results-wrapper [data-condition]",e.component)}check(){let e=[],t=!0;return this.config.names.forEach(a=>{let i=this.outputs.find(s=>s.dataset.calcOutput===a);e.push({output:a,present:!!i}),i||(t=!1)}),se&&(console.groupCollapsed(`${t?"all outputs present":"outputs missing"}`),console.table(e),console.groupEnd()),t}handleConditionals(){this.conditionals.forEach(e=>{Rn(e,this.calculator.inputs.inputs)})}displayResults(e){this.result=e,this.repeatTemplates.length>0&&this.repeatTemplates.forEach(t=>{t.style.display="none";let a=document.createDocumentFragment();this.handleTemplateRepeats(t,a),t.parentElement&&t.parentElement.appendChild(a)}),this.populateOutputs(),this.populateChart(),this.handleConditionals(),this.resultsId?this.results.style.display="grid":this.results.style.display="block"}handleTemplateRepeats(e,t){let a=e.dataset.calcOutputRepeat;if(!a||!this.result||!this.result[a])return;let i=this.repeatClones[a];i&&i.forEach(r=>{r.remove()});let s=this.result[a];if(!Array.isArray(s))return;let o=[];s.forEach(r=>{let l=this.prepareClone(e,r);l&&(t.appendChild(l),o.push(l))}),this.repeatClones[a]=o}prepareClone(e,t){let a=e.cloneNode(!0);a.style.removeProperty("display");let i=T(`[${Ke}-output]`,a);return this.populateOutputs(i,t),a}populateOutput(e,t){if(typeof t=="number"){let{calcOutputMod:a}=e.dataset;a&&(t=Number(a)*t),e.textContent=ze(t)}else e.textContent=t}populateOutputs(e,t){(!e||!t)&&(e=this.outputs,t=this.result),e.forEach(a=>{let i=a.dataset.calcOutput;if(!i)return;let s=t[i];(s===0||t[i])&&(a instanceof HTMLInputElement?(a.value=String(s),a.placeholder=String(s)):a.tagName==="IMG"&&a.dataset.calcOutputType==="url"?a.src=String(s):this.populateOutput(a,s))})}populateChart(){if(!this.result||!this.chart)return;let t=this.result.ChartLabels.split(","),i=this.result.ChartData.split(",").map(Number),s=null;this.result.ChartData2&&(s=this.result.ChartData2.split(",").map(Number));let o=[{data:i,borderColor:"#fff",backgroundColor:"#fff",borderWidth:1}];s&&o.push({data:s,borderColor:"#d70206",backgroundColor:"#d70206",borderWidth:1}),this.chartJS?(this.chartJS.data.labels=t,this.chartJS.data.datasets[0].data=i,s&&(this.chartJS.data.datasets[1].data=s),this.chartJS.update()):(this.chartJS=new _i(this.chart,{type:this.chart.dataset.calcChartType,data:{labels:t,datasets:o},options:{responsive:!0,plugins:{legend:{labels:{filter:(r,l)=>!1},title:{display:!0,text:this.chart.dataset.calcChartTitle,font:{family:"Gotham, sans-serif;"},padding:10}}},scales:{x:{ticks:{color:"#fff"}},y:{ticks:{color:"#fff"}}}}}),_i.defaults.color="#fff")}};var ki="data-calc",Kh=xe.calculatorTrigger,Jh=xe.productsTrigger,ca=class n{constructor(e){f(this,"name");f(this,"component");f(this,"config");f(this,"inputs");f(this,"outputs");f(this,"conditionals");f(this,"button");f(this,"buttonText");f(this,"buttonLoader");f(this,"isLoading");f(this,"result");f(this,"isSyncing");this.name=e.dataset.calc,this.component=e,this.config=qi[this.name],this.inputs=new Mn(this),this.outputs=new ua(this),this.conditionals=T("[data-condition]",this.component),this.button=x(`[${ki}-el="button"]`,this.component),this.buttonText=x(`[${ki}-el="button-text"]`,this.button),this.buttonLoader=x(`[${ki}-el="button-loader"]`,this.button),this.isLoading=!1,this.isSyncing=!1}init(){this.inputs.init(),se&&(this.inputs.check(),this.outputs.check(),console.groupEnd()),this.bindEvents()}bindEvents(){this.inputs.all.forEach(e=>{zi(e,()=>{this.submit()})}),this.button.addEventListener("click",()=>{this.submit()})}submit(){this.toggleLoading();let e=this.inputs.validateInputs(),t=this.inputs.check();if(!e||!t){se&&console.log("inputs not valid or not all present"),this.toggleLoading(!1);return}this.handleAzureRequest()}toggleLoading(e){this.isLoading=!this.isLoading,this.isLoading?(this.buttonText.style.opacity="0",this.buttonLoader.style.opacity="1"):e?(this.buttonText.textContent="Recalculate",this.buttonText.style.opacity="1",this.buttonLoader.style.opacity="0"):(this.buttonText.textContent="Try again...",this.buttonText.style.opacity="1",this.buttonLoader.style.opacity="0")}async handleAzureRequest(){se&&(console.groupCollapsed("API Call"),console.time("API Request"));try{let e=await this.makeAzureRequest();this.result=e.result;let t=this.component.getAttribute("data-results"),a=this.component.getAttribute("data-calc");if(t&&a==="residentialborrowinglimit"){let i=document.querySelector('[data-calc="mortgagecost"]');if(i){let s=new n(i);s.submit();let o=s.inputs.getValues(),r=this.inputs.getValues(),l=parseFloat(r.DepositAmount||"0"),u=parseFloat(o.RepaymentValue||"0"),c=u+l;Pa("DepositAmountSlider",l),Pa("RepaymentValue",u);let h=await this.makeAzureRequestProduct({PropertyValue:c,RepaymentValue:u,TermYears:parseFloat(o.TermYears||"0"),PropertyType:1,MortgageType:1});if(h){this.populateProductCard(h.result);let d=document.querySelector("#mortPickTitle"),p=document.querySelector("#mortPickArea");h.result.success?d&&p&&(d.style.display="flex",p.style.display="flex"):d&&p&&(d.style.display="none",p.style.display="none")}}}this.result===null?this.toggleLoading(!1):(this.toggleLoading(!0),this.outputs.displayResults(this.result)),t&&a==="residentialborrowinglimit"&&this.result&&this.scrollToDiv(t)}catch(e){console.error("Error retrieving calculation",e),this.toggleLoading(!1)}se&&(console.timeEnd("API Request"),console.groupEnd())}scrollToDiv(e){let t=document.querySelector("#"+e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}populateProductCard(e){!e.data||!Array.isArray(e.data)||document.querySelectorAll("[data-calc-output]").forEach(t=>{let a=t.getAttribute("data-calc-output");if(!a||!(a in e.data[0]))return;let i=e.data[0][a],s=typeof i=="object"?JSON.stringify(i):String(i);t instanceof HTMLImageElement?(t.src=s,t.alt=a):t.textContent=s})}calculateMonthlyPayment(e,t,a){let i=t*12,s=a/100/12;return s===0?e/i:e*s*Math.pow(1+s,i)/(Math.pow(1+s,i)-1)}async makeAzureRequest(){let e=new Headers;e.append("Content-Type","application/json");let t=this.inputs.getValues(),a=t.DepositAmount,i=parseFloat(typeof a=="string"?a:"0"),s=t.RepaymentValue,o=parseFloat(typeof s=="string"?s:"0"),r=t.DepositAmountSlider,l=parseFloat(typeof r=="string"?r:"0"),u=JSON.stringify({calculator:this.name,input:t}),c=await fetch(Kh,{method:"POST",headers:e,body:u});if(!c.ok)throw new Error(`API responded with status ${c.status}`);let h=await c.json(),d;return i>0&&h&&h.result.BorrowingAmountLower&&(h.result.DepositAmount=i,h.result.PropertyValue=parseFloat(h.result.BorrowingAmountHigher)+i,h.result.RepaymentValue=parseFloat(h.result.BorrowingAmountHigher),h.result.TermYears=25),h.result.TotalOverTerm&&(d=this.calculateMonthlyPayment(o,t.TermYears,t.Rate),h.result.TotalOverTerm=Math.round(h.result.TotalOverTerm),h.result.DepositAmount=l,h.result.PropertyValue=o+l,h.result.RepaymentValue=o,h.result.TermYears=t.TermYears,h.result.FutureMonthlyPayment=Math.round(d||h.result.FutureMonthlyPayment)),h}async makeAzureRequestProduct({PropertyValue:e,PropertyType:t=1,MortgageType:a=1,RepaymentValue:i,TermYears:s,NumberOfResults:o=1}){let r=new Headers;r.append("Content-Type","application/json");let l=JSON.stringify({input:{PropertyValue:e,PropertyType:t,MortgageType:a,RepaymentValue:i,InterestOnlyValue:"0",TermYears:s,SchemePurpose:"1",SchemePeriods:["1"],SchemeTypes:["1"],NumberOfResults:o,Features:{Erc:!1,Offset:!1,NewBuild:!1},SortColumn:"1",UseStaticApr:!1}}),u=await fetch(Jh,{method:"POST",headers:r,body:l});if(!u.ok)throw new Error(`API responded with status ${u.status}`);let c=await u.json();c.result.data[0].FutureMonthlyPayment&&(c.result.data[0].FutureMonthlyPayment=Math.round(c.result.data[0].FutureMonthlyPayment),c.result.data[0].InitialRate=c.result.data[0].Rate,c.result.data[0].TermYears=c.result.data[0].TermYears);let h=document.querySelector('[data-input="Rate"]');return h&&(h.setAttribute("value",c.result.data[0].Rate),h.setAttribute("placeholder",c.result.data[0].Rate)),c}};var ar=()=>{let n="data-calc",e=x('[data-input="RepaymentValue"]'),t=x('[data-input="DepositAmountSlider"]'),a=x('[data-input="Rate"]');e&&e.setAttribute(`${n}-output`,"BorrowingAmountHigher"),t&&t.setAttribute(`${n}-output`,"DepositAmount"),a&&a.setAttribute(`${n}-output`,"InitialRate"),T(`[${n}]`).forEach(s=>{new ca(s).init()})};var ir=()=>{An()};var ha="data-calc",da=class{constructor(e){f(this,"component");f(this,"outputs");f(this,"result");this.component=e,this.outputs=T(`[${ha}-output]`,e)}displayResults(e){this.result=e,this.populateOutputs();let t=x(`[${ha}-el="results"]`,this.component);t.style.display="block"}populateOutput(e,t){if(typeof t=="number"){let{calcOutputMod:a}=e.dataset;a&&(t=Number(a)*t),e.textContent=ze(t)}else e.textContent=t}populateOutputs(e,t){(!e||!t)&&(e=this.outputs,t=this.result?.result);let a=x(`[${ha}-output="SavingBlock"]`,this.component),i=x(`[${ha}-output="NoSavingBlock"]`,this.component);t.CostOfRate1<t.CostOfRate2&&(a.style.display="none",i.style.display="block"),t.CostOfRate1>=t.CostOfRate2&&(i.style.display="none",a.style.display="block",t.AnnualCost=(t.CostOfRate1-t.CostOfRate2)/2,t.MonthlyCost=(t.CostOfRate1-t.CostOfRate2)/12,t.FollowOnPayments=t.CostOfRate1/12,t.PaymentsAfterSwitch=t.CostOfRate2/12,e.forEach(s=>{let o=s.dataset.calcOutput;if(!o)return;let r=t[o];(r===0||t[o])&&this.populateOutput(s,r)}))}};var pa=class{constructor(e){f(this,"component");f(this,"inputs");f(this,"buttons");f(this,"buttonsText");f(this,"buttonsLoader");f(this,"currentLenderDropdown");f(this,"mortgageTypeDropdown");f(this,"followOnField");f(this,"isLoading");f(this,"formattedValues");f(this,"formattedCostOfDoingNothingValues");f(this,"outputHandler");this.component=e,this.inputs=T("[data-input], input, select",e),this.buttons=T('[data-calc-el="button"]',e),this.buttonsText=x('[data-calc-el="button-text"]',e),this.buttonsLoader=x('[data-calc-el="button-loader"]',e),this.currentLenderDropdown=x("#CurrentLender",e),this.mortgageTypeDropdown=x("#MortgageType",e),this.followOnField=x("#FollowOn",e),this.isLoading=!1,this.outputHandler=new da(e),this.bindEvents(),this.init()}bindEvents(){this.inputs.forEach(e=>{e.addEventListener("change",()=>{gt(e),this.validateInput(e)})}),this.buttons.forEach(e=>{e.addEventListener("click",async()=>{if(this.validateInputs()){this.toggleLoading();try{let a=await this.handleBestBuyRequest();a&&(await this.handleCalculationRequest(a),this.toggleLoading(!0))}catch(a){console.error("Error during calculation:",a),this.toggleLoading(!1)}}})}),this.mortgageTypeDropdown.addEventListener("change",()=>{this.updateFollowOnField()}),this.currentLenderDropdown.addEventListener("change",()=>{this.updateFollowOnField()})}validateInput(e){let t=mt(e);return t.error?Se(e,t.error):Se(e),t.isValid}validateInputs(){return this.inputs.every(e=>this.validateInput(e))}toggleLoading(e){this.isLoading=!this.isLoading,this.isLoading?(this.buttonsText.style.opacity="0",this.buttonsLoader.style.opacity="1"):e?(this.buttonsText.textContent="Recalculate",this.buttonsText.style.opacity="1",this.buttonsLoader.style.opacity="0"):(this.buttonsText.textContent="Try again...",this.buttonsText.style.opacity="1",this.buttonsLoader.style.opacity="0")}getValues(){let e={};return this.inputs.forEach(t=>{let a=t.dataset.input,i=k(t);a&&(e[a]=i)}),e}getBestBuyInput(){let e=x('[data-input="PropertyValue"]',this.component),t=x('[data-input="LoanAmount"]',this.component),a=x('[data-input="Type"]',this.component),i=x('[data-input="Term"]',this.component),s=e?e.value:"0",o=t?t.value:"0",r=a?a.value:"",l=i?i.value:"0",u=this.mortgageTypeDropdown.value==="Residential"?"1":"2",c={PropertyValue:s,RepaymentValue:r==="R"?o:"0",InterestOnlyValue:r==="I"?o:"0",PropertyType:"1",MortgageType:u,TermYears:l,SchemePurpose:"2",SchemePeriods:["1"],SchemeTypes:["1"],NumberOfResults:"1",Features:{Erc:!0,Offset:!1,NewBuild:!1},SortColumn:"1",UseStaticApr:!1};return this.formattedValues=c,c}async getCostOfDoingNothingInput(e){let t=x('[data-input="PropertyValue"]',this.component),a=x('[data-input="LoanAmount"]',this.component),i=x('[data-input="Type"]',this.component),s=x('[data-input="Term"]',this.component),o=x('[data-input="FollowOn"]',this.component),r=t?parseInt(t.value):0,l=a?parseInt(a.value):0,u=i?i.value:"R",c=s?parseInt(s.value):0,h=o?parseFloat(o.value):0,d={calculator:"comparerates",input:{PropertyValue:r,LoanAmount:l,Term:c,Type:u,ComparisonRates:[{Rate:h,Fees:0,Type:"V",SchemeLength:24,ERCAmount:0,ERCTerm:0,ERCAdd:!0,FollowOn:h},{Rate:e.Rate,Fees:e.TotalFees,Type:"F",SchemeLength:24,ERCAmount:0,ERCTerm:0,ERCAdd:!0,FollowOn:e.FollowOnRateValue}],ComparisonTerm:12,InterestRateEnvironment:1}};return this.formattedCostOfDoingNothingValues=d,d}async handleCalculationRequest(e){let t=await this.getCostOfDoingNothingInput(e),a=JSON.stringify(t);try{let i=await fetch(xe.costOfDoingNothing,{method:"POST",headers:{"Content-Type":"application/json"},body:a});if(!i.ok)throw new Error(`API responded with status ${i.status}`);let s=await i.json();this.outputHandler.displayResults(s)}catch(i){console.error("Error retrieving calculation",i)}}async handleSVRRequest(){let e=JSON.stringify({});try{let t=await fetch(xe.svrForLenders,{method:"POST",headers:{"Content-Type":"application/json"},body:e});if(!t.ok)throw new Error(`API responded with status ${t.status}`);let a=await t.json();this.populateCurrentLenderDropdown(a.result.data),this.updateFollowOnField()}catch(t){console.error("Error retrieving SVR data",t)}}async handleBestBuyRequest(){let e=JSON.stringify({input:this.getBestBuyInput()});try{let t=await fetch(xe.productsTrigger,{method:"POST",headers:{"Content-Type":"application/json"},body:e});if(!t.ok)throw new Error(`API responded with status ${t.status}`);return(await t.json()).result.data[0]}catch(t){throw console.error("Error retrieving Best Buy data",t),t}}populateCurrentLenderDropdown(e){this.currentLenderDropdown.innerHTML="",e.forEach(t=>{let a=document.createElement("option");a.value=t.MasterLenderId,a.text=t.Lender,a.dataset.buyToLetRate=t.BuyToLetRate,a.dataset.residentialRate=t.ResidentialRate,this.currentLenderDropdown.add(a)})}updateFollowOnField(){let e=this.currentLenderDropdown.selectedOptions[0];if(!e)return;let t=this.mortgageTypeDropdown.value,a="";t==="Residential"?a=e.dataset.residentialRate||"":t==="BuyToLet"&&(a=e.dataset.buyToLetRate||""),this.followOnField.value=a}handleResponse(e){let t=e.data.CostOfRate1,a=e.data.CostOfRate2,i=x('[data-calc-output="CostOfRate1"]',this.component),s=x('[data-calc-output="CostOfRate2"]',this.component);i&&(i.textContent=`\xA3${t}`),s&&(s.textContent=`\xA3${a}`)}async init(){await this.handleSVRRequest(),this.updateFollowOnField()}};var sr=()=>{let n=document.querySelector('[data-calc="costofdoingnothing"]');n&&new pa(n)};var Ii=n=>{let e=document.cookie.split("; ").find(t=>t.startsWith(`${n}=`));return e?e.split("=")[1]:null};var Ni=(n,e)=>{document.cookie=`${n}=${e}; path=/`};var fa={mct:"data-mct",stage:"data-mct-stage"},fe={active:"is-active",highlight:"mct_highlight"},or=[{name:"residential-purchase",display:"Residential Purchase",requirements:{PurchRemo:"P",FTB:"N",ResiBtl:"R"}},{name:"ftb-residential-purchase",display:"First Time Buyer - Purchase",requirements:{PurchRemo:"P",FTB:"Y",ResiBtl:"R"}},{name:"btl-purchase",display:"Buy to Let - Purchase",requirements:{PurchRemo:"P",FTB:"N",ResiBtl:"B"}},{name:"residential-remortgage",display:"Residential - Remortgage",requirements:{PurchRemo:"R",ResiBtl:"R"}},{name:"btl-remortgage",display:"Buy to Let - Remortgage",requirements:{PurchRemo:"R",ResiBtl:"B"}}];var G={components:"data-mct-questions",group:"data-mct-questions-group",question:"data-mct-questions-question",dependsOn:"data-mct-questions-depends-on",dependsOnValue:"data-mct-questions-depends-on-value",element:"data-mct-questions-element",output:"data-mct-questions-output",type:"data-mct-questions-outputs-type"};var Vt=async(n,e)=>{let t=yn(),a=await fetch(`${t}${n}`,e);if(!a.ok)throw new Error("Failed to fetch data");return a.json()};var rr=async()=>(await Vt("LendersHttpTrigger")).result.lenders;var Bt=class{constructor(e,t){f(this,"el");f(this,"onChange");f(this,"inputs",[]);f(this,"type");f(this,"groupName");f(this,"name");this.el=e,this.onChange=t.onChange,this.groupName=t.groupName,this.inputs=T("input, select",this.el),this.type=this.detectType(),this.name=this.inputs.find(a=>!!a.name)?.name,this.baseInit()}baseInit(){this.formatInputNamesAndIDs(),this.bindEventListeners(),this.init()}formatInputNamesAndIDs(){if(this.type==="radio"||this.type==="checkbox")this.inputs.forEach(e=>{let t=x("label",e.parentElement),a=`${this.groupName}-${e.name}-${e.value}`,i=`${this.groupName}-${e.name}`;t.setAttribute("for",a),e.id=a,e.name=i});else{let e=x("label",this.el),t=this.inputs[0],a=`${this.groupName}-${t.name}`;e.setAttribute("for",a),t.id=a,t.name=a}}bindEventListeners(){this.inputs.forEach(e=>{this.type==="text"||this.type==="number"?e.addEventListener("input",()=>this.onChange()):e.addEventListener("change",()=>this.onChange())})}isValid(){if(this.inputs.some(a=>!a.checkValidity()))return!1;let t=this.getValue();return this.type==="radio"?typeof t=="string"&&t!=="":this.type==="checkbox"?typeof t=="boolean"?!0:Array.isArray(t)&&t.length>0:this.type==="text"?typeof t=="string"&&t.trim()!=="":this.type==="number"?typeof t=="number"&&!isNaN(t):!1}detectType(){let e=x("input, select",this.el);if(!e)throw new Error('No "input" element found in question item');if(e.type==="radio")return"radio";if(e.type==="checkbox")return"checkbox";if(e.type==="text")return"text";if(e.type==="number")return"number";if(e.type==="select-one")return"select-one";throw new Error(`Unsupported input type: ${e.type}`)}getRadioValue(){return this.inputs.find(t=>t instanceof HTMLInputElement?t.checked:!1)?.value||null}setRadioValue(e){let t=this.inputs.find(a=>a.value===e);if(!t||!(t instanceof HTMLInputElement))throw new Error(`No radio input found with value: ${e}`);t.checked=!0}resetRadioInput(){this.inputs.forEach(e=>e instanceof HTMLInputElement?e.checked=!1:null)}getCheckboxValues(){if(this.inputs.length===1){let t=this.inputs[0];return t instanceof HTMLInputElement?t.checked:!1}return this.inputs.filter(t=>t instanceof HTMLInputElement?t.checked:!1).map(t=>t.value)}setCheckboxValues(e){if(this.inputs.length===1&&typeof e=="boolean"){let t=this.inputs[0];t instanceof HTMLInputElement&&(t.checked=e);return}Array.isArray(e)&&this.inputs.forEach(t=>t instanceof HTMLInputElement?t.checked=e.includes(t.value):null)}resetCheckboxeInputs(){this.inputs.forEach(e=>e instanceof HTMLInputElement?e.checked=!1:null)}getTextValue(){let e=this.inputs[0];return e?e.value:null}setTextValue(e){let t=this.inputs[0];if(!t)throw new Error("No text input found for text question");t.value=e}resetTextInputs(){let e=this.inputs[0];if(!e)throw new Error("No text input found for text question");e.value=""}getNumberValue(){let e=this.inputs[0];if(!e)return null;let t=e.value.trim();if(!t)return null;let a=parseFloat(t);return isNaN(a)?null:a}setNumberValue(e){let t=this.inputs[0];if(!t)throw new Error("No number input found for number question");t.value=e.toString()}resetNumberInput(){let e=this.inputs[0];if(!e)throw new Error("No number input found for number question");e.value=""}getSelectValue(){let e=this.inputs[0];return e?e.value:null}setSelectValue(e){let t=this.inputs[0];if(!t)throw new Error("No select input found for select question");t.value=e}resetSelectInput(){let e=this.inputs[0];if(!e)throw new Error("No select input found for select question");e.value=""}setSelectOptions(e){let t=this.inputs[0];if(!t)throw new Error("No select input found for select question");if(!(t instanceof HTMLSelectElement))throw new Error("No select input found for select question");t.innerHTML="",e.forEach(a=>{let i=document.createElement("option");i.value=a.value,i.text=a.label,t.appendChild(i)})}getValue(){switch(this.type){case"radio":return this.getRadioValue();case"checkbox":return this.getCheckboxValues();case"text":return this.getTextValue();case"number":return this.getNumberValue();case"select-one":return this.getSelectValue();default:throw new Error(`Unsupported question type: ${this.type}`)}}setValue(e){switch(this.type){case"radio":if(typeof e!="string")throw new Error("Value for radio question must be a string");this.setRadioValue(e);break;case"checkbox":if(!Array.isArray(e))throw new Error("Value for checkbox question must be an array");this.setCheckboxValues(e);break;case"text":if(typeof e!="string")throw new Error("Value for text question must be a string");this.setTextValue(e);break;case"number":if(typeof e!="number")throw new Error("Value for number question must be a number");this.setNumberValue(e);break;case"select-one":if(typeof e!="string")throw new Error("Value for select question must be a string");this.setSelectValue(e);break;default:throw new Error(`Unsupported question type: ${this.type}`)}}getLabels(){return this.inputs.filter(i=>i instanceof HTMLInputElement?i.checked:!1).map(i=>x(`label[for="${i.id}"]`,this.el)).map(i=>i.textContent)}reset(){switch(this.type){case"radio":this.resetRadioInput();break;case"checkbox":this.resetCheckboxeInputs();break;case"text":this.resetTextInputs();break;case"number":this.resetNumberInput();break;case"select-one":this.resetSelectInput();break;default:throw new Error(`Unsupported question type: ${this.type}`)}}};var ma=class extends Bt{constructor(t,a){super(t,a);f(this,"formManager");f(this,"onEnter");f(this,"dependsOn");f(this,"dependsOnValue");f(this,"isVisible",!1);f(this,"indexInGroup");this.formManager=a.formManager,this.onEnter=a.onEnter,this.dependsOn=this.el.getAttribute(G.dependsOn)||null,this.dependsOnValue=this.el.getAttribute(G.dependsOnValue)||null,this.indexInGroup=a.indexInGroup}init(){this.handleLenderSelect()}async handleLenderSelect(){if(this.name==="Lender")try{let a=(await rr()).map(i=>({value:i.MasterLenderId.toString(),label:i.LenderName}));this.setSelectOptions(a)}catch(t){console.error("Failed to fetch lenders:",t)}}bindEventListeners(){this.inputs.forEach(t=>{this.type==="text"||this.type==="number"?t.addEventListener("input",()=>this.onChange()):t.addEventListener("change",()=>this.onChange()),t.addEventListener("keydown",a=>{a.key==="Enter"&&(this.isValid()?this.onEnter():this.onChange())})})}updateVisualState(t){this.el.classList.toggle("has-error",!t)}enable(){this.inputs.forEach(t=>{t.disabled=!1})}focus(){let t=this.inputs[0];if(!t)throw new Error("No input found to focus on");t.focus()}disable(){this.inputs.forEach(t=>{t.disabled=!0})}require(){this.formManager.saveQuestion(this),this.el.style.removeProperty("display"),this.isVisible=!0}unrequire(){this.formManager.removeQuestion(this),this.el.style.display="none",this.isVisible=!1}toggleActive(t){t===void 0?this.el.classList.toggle(fe.active):this.el.classList.toggle(fe.active,t)}shouldBeVisible(t,a){return a?this.dependsOn?this.dependsOnValue?t[this.dependsOn]===this.dependsOnValue:t[this.dependsOn]!==null:!0:!1}};function lr(n,e){return n.map(Number).filter(t=>e.includes(t))}var Zh={numberOfResults:1,sortColumn:1},Ht=(n,e={})=>{let t={...Zh,...e},a=n.PropertyValue,i=n.DepositAmount,s=n.RepaymentValue||null;s||(s=a-i);let o=1,r=n.ResiBtl==="R"?1:2,l=n.MortgageLength,u=n.PurchRemo==="P"?1:2,c=t.numberOfResults??1,h=t.sortColumn??1,d=(()=>{let y=n.SchemeTypes;return typeof y=="boolean"?[]:lr(y,[1,2])})(),p={};n.HelpToBuy&&(p.HelpToBuy=!0),n.Offset&&(p.Offset=!0),n.EarlyRepaymentCharge&&(p.EarlyRepaymentCharge=!0),n.NewBuild&&(p.NewBuild=!0);let m=n.SapValue?n.SapValue:null,g={PropertyValue:a,RepaymentValue:s,PropertyType:o,MortgageType:r,InterestOnlyValue:n.InterestOnlyValue,TermYears:l,SchemePurpose:u,SchemePeriods:Array(n.SchemePeriods),SchemeTypes:d,NumberOfResults:c,SortColumn:h,Features:p};return m&&(g.SapValue=m),g};var ga={lcid:"EnquiryHttpTrigger",products:"ProductsMCTHttpTrigger"};var ya=async n=>Vt(ga.products,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:n})});function ur(n,e={}){if(typeof window<"u"&&typeof window.gtag=="function"){window.gtag("event",n,e);return}if(typeof window<"u"&&typeof window.ga=="function"){window.ga("send","event",e.category||"",n,e.label,e.value);return}}function He(n,e){let{type:t="number",decimals:a,fallback:i=""}=e||{},s=typeof n=="number"?n:parseFloat(n.replace(/,/g,""));if(isNaN(s))return i;if(t==="currency")return`\xA3${s.toLocaleString("en-GB",{maximumFractionDigits:a??0,minimumFractionDigits:a??0})}`;if(t==="percent"){let r=a??2;return`${s.toLocaleString("en-GB",{maximumFractionDigits:r,minimumFractionDigits:r})}%`}return s.toLocaleString("en-GB",{maximumFractionDigits:a??0,minimumFractionDigits:a??0})}var ba=(n,e)=>{let t=Ht(e),{RepaymentValue:a,TermYears:i,SchemePeriods:s,SchemeTypes:o}=t,{RepaymentType:r}=e,l=He(a,{type:"currency"}),u=`${i} years`,c=r==="R"?"repayment":r==="I"?"interest only":"part repayment part interest",h=o.map(L=>L===1?"fixed":"variable"),p=`${s.map(L=>L===1||L==="1"?"2":L===2||L==="2"?"3":L===3||L==="3"?"5":"5+")} years`,m=h.length===1?`${h[0]} rate`:h.length>1?`${h[0]} or ${h[1]} rate`:null,g=`Looks like you want to borrow <span class="${fe.highlight}">${l}</span> over <span class="${fe.highlight}">${u}</span>`,y=`<span class="${fe.highlight}">${p} ${m} ${c}</span> mortgage`,b=`We\u2019ve found <span class="${fe.highlight}">${n.NumberOfProducts}</span> products for you across <span class="${fe.highlight}">${n.NumberOfLenders}</span> lenders.`,v=`We\u2019ve found <span class="${fe.highlight}">${n.NumberOfProducts} deals</span> starting from <span class="${fe.highlight}">${n.LowestRate}%</span>.`,R=`${g} with a ${y}`;return{BorrowOverTerm:g,SchemeAndType:y,ProductsAndLenders:b,DealsAndRates:v,Summary:R}};var Z=(n,e)=>(console.log(n,e||""),!1);var va=class{constructor(e,t){f(this,"component");f(this,"formManager");f(this,"isVisible",!1);f(this,"name",null);this.component=e,this.formManager=t,this.name=e.getAttribute(G.group)}getComponent(){return this.component}},Di=class extends va{constructor(t,a){super(t,a);f(this,"questions",[]);f(this,"activeQuestionIndex",0)}show(){this.component.style.removeProperty("display"),this.isVisible=!0,this.updateActiveQuestions()}hide(){this.component.style.display="none",this.isVisible=!1,this.updateActiveQuestions()}updateActiveQuestions(){this.formManager.saveAnswersToMCT();let t=this.formManager.getAnswers();this.questions.forEach(a=>{a.shouldBeVisible(t,this.isVisible)?a.require():a.unrequire()})}isComplete(){return this.questions.filter(t=>!t.dependsOn).every(t=>t.isValid())}reset(){this.questions.length!==0&&this.questions.forEach(t=>t.reset())}},be=class extends Di{constructor(t,a){super(t,a);f(this,"formManager");this.formManager=a,this.questions=this.initQuestions(),this.formManager.components.scroll=x(`[${G.components}="scroll"]`),this.updateActiveQuestions()}initQuestions(){return T(`[${G.question}]`,this.component).map((a,i)=>{let s=new ma(a,{formManager:this.formManager,onChange:()=>this.handleChange(i),onEnter:()=>this.handleEnter(i),indexInGroup:i,groupName:this.name});return i!==0&&s.disable(),s.dependsOn&&s.unrequire(),s})}handleChange(t){if(t!==this.activeQuestionIndex)throw new Error(`Invalid question index: ${t}. Expected: ${this.activeQuestionIndex}`);let a=this.questions[t];this.updateActiveQuestions(),this.formManager.updateGroupVisibility(),this.formManager.prepareWrapper(),this.handleNextButton(a.isValid()),ur("form_interaction",{event_category:"MCTForm",event_label:`MCT_${a.name}`})}handleEnter(t){if(t!==this.activeQuestionIndex)throw new Error(`Invalid question index: ${t}. Expected: ${this.activeQuestionIndex}`);let a=this.getActiveQuestion();a.isValid()?this.navigate("next"):a.updateVisualState(!1)}handleNextButton(t){this.formManager.updateNavigation({nextEnabled:t})}getActiveQuestion(){return this.questions[this.activeQuestionIndex]}getVisibleQuestions(){return this.questions.filter(t=>t.isVisible)}getNextVisibleIndex(t){let a=t+1;for(;a<this.questions.length&&!this.questions[a].isVisible;)a+=1;return a}getPrevVisibleIndex(t){let a=t-1;for(;a>=0&&!this.questions[a].isVisible;)a-=1;return a}navigate(t){this.formManager.saveAnswersToMCT();let a=this.getActiveQuestion();if(this.deactivateQuestion(a),t==="next"){let i=this.getNextVisibleIndex(this.activeQuestionIndex);if(i<this.questions.length){this.activeQuestionIndex=i;let s=this.getActiveQuestion();this.activateQuestion(s),this.formManager.updateNavigation({prevEnabled:!0})}else this.formManager.navigateToNextGroup()}else{let i=this.getPrevVisibleIndex(this.activeQuestionIndex);if(i>=0){this.activeQuestionIndex=i;let s=this.getActiveQuestion();this.activateQuestion(s),this.formManager.updateNavigation({prevEnabled:!(this.formManager.activeGroupIndex===0&&i===0)})}else this.formManager.getPreviousGroupInSequence()&&this.formManager.navigateToPreviousGroup()}}activateQuestion(t){t.enable(),t.focus(),t.toggleActive(!0),this.scrollToQuestion(t),this.handleNextButton(t.isValid())}deactivateQuestion(t){t.disable(),t.toggleActive(!1)}scrollToQuestion(t){this.formManager.components.scroll.scrollTo({top:t.el.offsetTop-this.formManager.components.scroll.offsetHeight/2+t.el.offsetHeight/2,behavior:"smooth"})}},Ce=class extends va{constructor(t,a){super(t,a);f(this,"formManager");f(this,"card");f(this,"loader");f(this,"response",null);f(this,"summaryInfo",null);f(this,"outputs");f(this,"button");this.formManager=a,this.card=x(`[${G.element}="output-card"]`,this.component),this.loader=x(`[${G.element}="output-loader"]`,this.component),this.outputs=T(`[${G.output}]`,this.component),this.button=x(`[${G.element}="get-results"]`,this.component),this.bindEvents()}bindEvents(){this.button.addEventListener("click",()=>this.navigateToResults())}show(){this.component.style.removeProperty("display"),this.isVisible=!0}hide(){this.component.style.display="none",this.isVisible=!1}scrollToOutput(){this.formManager.components.scroll.scrollTo({top:this.component.offsetTop-this.formManager.components.scroll.offsetHeight/2+this.component.offsetHeight/2,behavior:"smooth"})}showLoader(t){t?this.loader.style.removeProperty("display"):this.loader.style.display="none"}activate(){this.card.classList.add(fe.active),this.scrollToOutput(),this.handleProducts()}async handleProducts(){if(this.showLoader(!0),this.button.disabled=!0,this.response=await this.fetchProducts(),!this.response){Z("No products response");return}this.summaryInfo=this.response.result.SummaryInfo,this.updateOutputs(),this.showLoader(!1),this.button.disabled=!1}async fetchProducts(){let t=Ht(this.formManager.getAnswers());try{return await ya(t)}catch(a){return console.error("Failed to fetch products:",a),null}}updateOutputs(){if(!this.summaryInfo)return;let t=ba(this.summaryInfo,this.formManager.getAnswers());t&&this.outputs.forEach(a=>{let i=a.getAttribute(G.output);a.innerHTML=t[i]})}navigateToResults(){this.formManager.navigateToNextGroup()}};var Vi=class{constructor(e){f(this,"component");f(this,"id");f(this,"profile",null);f(this,"groups",[]);f(this,"questions",new Set);f(this,"isInitialised",!1);this.component=e,this.id="questions"}prefill(e){}saveQuestion(e){this.questions.add(e)}removeQuestion(e){this.questions.delete(e)}getQuestions(){return this.questions}saveAnswersToMCT(){q.clearAnswers(),[...this.questions].forEach(e=>{let t=e.getValue();t&&q.setAnswer(e.name,t)})}getAnswers(){return{...q.getAnswers()}}determineProfile(){let e=this.getAnswers(),t=or.find(a=>Object.entries(a.requirements).every(([i,s])=>e[i]===s));return this.profile=t||null,t||null}reset(){q.clearAnswers(),this.groups.forEach(e=>e instanceof be?e.reset():null)}},xa=class extends Vi{constructor(t){super(t);f(this,"activeGroupIndex",0);f(this,"components");f(this,"optionRemoved",!1);this.components={header:x(`[${G.components}="header"]`,t),stickyHeader:x(`[${G.components}="sticky-header"]`,t),profileSelect:x(`[${G.components}="profile-select"]`,t),wrapper:x(`[${G.components}="wrapper"]`,t),scroll:x(`[${G.components}="scroll"]`,t),nextButton:x(`[${G.components}="next"]`,t),prevButton:x(`[${G.components}="previous"]`,t),groupElements:T(`[${G.group}]`,t)}}init(){if(this.isInitialised)return;this.isInitialised=!0,this.showHeader("static"),this.components.groupElements.forEach((a,i)=>{let s=a.getAttribute(G.group);if(!s)return;let o=s==="output"?new Ce(a,this):new be(a,this);i===0?o.show():o.hide(),this.groups.push(o)}),this.prepareWrapper();let t=this.getActiveGroup();t&&t.show(),this.component.addEventListener("mct:navigation:update",a=>{let{nextEnabled:i,prevEnabled:s}=a.detail;typeof i=="boolean"&&(this.components.nextButton.disabled=!i),typeof s=="boolean"&&(this.components.prevButton.disabled=!s)}),this.components.nextButton.addEventListener("click",()=>{let a=this.getActiveGroup();!a||a instanceof Ce||!a.getActiveQuestion().isValid()||a.navigate("next")}),this.components.prevButton.addEventListener("click",()=>{let a=this.getActiveGroup();if(!a||a instanceof Ce){this.navigateToPreviousGroup();return}a.navigate("prev")})}show(){this.component.style.removeProperty("display")}hide(){this.component.style.display="none"}prepareWrapper(){if(this.groups.length===0)return;let t=this.getFirstEl(),a=this.getLastEl();if(!t||!a)return;let{scroll:i,wrapper:s}=this.components,o=i.offsetHeight/2-t.offsetHeight/2,r=i.offsetHeight/2-a.offsetHeight/2;s.style.paddingTop=`${o}px`,s.style.paddingBottom=`${r}px`}getFirstEl(){let t=this.groups[0];return t instanceof be?t.questions[0].el:t instanceof Ce?t.getComponent():null}getLastEl(){let t=this.groups.at(this.activeGroupIndex);if(t instanceof be){let a=t.getVisibleQuestions();return a.length===0?void 0:a.at(-1)?.el}if(t instanceof Ce)return t.getComponent()}updateNavigation(t={}){this.component.dispatchEvent(new CustomEvent("mct:navigation:update",{detail:t,bubbles:!1}))}handleInputChange(t){this.updateNavigation({nextEnabled:t})}getActiveGroup(){return this.groups[this.activeGroupIndex]}getGroupByName(t){return this.groups.find(a=>a.name===t)}updateGroupVisibility(){let t=this.getGroupByName("customer-identifier");t.show();let a=this.determineProfile();if(!a){this.groups.filter(o=>o!==t).forEach(o=>o.hide());return}let i=this.getGroupByName(a.name);i.show();let s=this.getGroupByName("output");i.isComplete()?s.show():s.hide(),this.groups.filter(o=>o!==t&&o!==i&&o!==s).forEach(o=>o.hide())}getPreviousGroupInSequence(){if(!(this.activeGroupIndex<=0))return this.groups[0]}navigateToNextGroup(){let t=this.getActiveGroup();if(!t)return Z("Next group: No active group found");if(!this.profile)return Z("Next group: No profile found");let{name:a}=t;if(a==="customer-identifier"&&t instanceof be){this.initialiseProfileSelect(this.profile.name);let i=this.getGroupByName(this.profile.name);if(!i)return Z(`Next group: No matching group for profile: ${this.profile.name}`);let s=this.groups.indexOf(i);if(s===-1)return Z(`Next group: No group index for profile: ${this.profile.name}`);this.activeGroupIndex=s,this.showHeader("sticky");let o=i.getNextVisibleIndex(-1);if(o<i.questions.length){i.activeQuestionIndex=o;let r=i.getActiveQuestion();i.activateQuestion(r),i.handleNextButton(r.isValid())}}else if(a!=="output"&&t instanceof be){let i=this.getGroupByName("output");if(!i)return Z("Next group: No output group found");let s=this.groups.indexOf(i);if(s===-1)return Z("Next group: No group index for output");this.activeGroupIndex=s,i.activate()}else a==="output"&&t instanceof Ce&&(console.log("End of form, navigate to results"),console.log(q.getAnswers()),q.goToStage("results"))}navigateToPreviousGroup(){let t=this.getActiveGroup();if(!t)return Z("Previous group: No active group found");if(!this.profile)return Z("Previous group: No profile found");let a,{name:i}=t;if(i==="output"&&t instanceof Ce){let o=this.getGroupByName(this.profile.name);if(!o)return Z(`Previous group: No matching group for profile: ${this.profile.name}`);let r=this.groups.indexOf(o);if(r===-1)return Z(`Previous group: No group index for profile: ${this.profile.name}`);this.activeGroupIndex=r,this.showHeader("sticky"),a=o}else if(i!=="customer-identifier"&&t instanceof be){let o=this.getGroupByName("customer-identifier");if(!o)return Z("Previous group: No identifier group found");let r=this.groups.indexOf(o);if(r===-1)return Z("Previous group: No group index for identifier");this.activeGroupIndex=r,this.showHeader("static"),a=o}else return;if(!a)return Z("Previous group: No previous group found");if(!(a instanceof be))return Z("Previous group: Previous group is not a main group");let s=a.getPrevVisibleIndex(a.questions.length);if(s<0)return Z(`Previous group: No last visible index group for profile: ${this.profile}`);a.activeQuestionIndex=s,a.activateQuestion(a.getActiveQuestion())}initialiseProfileSelect(t){let{profileSelect:a}=this.components;a&&(a.value=t,et(a,"change"),this.optionRemoved||a.remove(0),this.optionRemoved=!0)}showHeader(t){let{header:a,stickyHeader:i}=this.components;!a||!i||(t==="static"?(a.style.removeProperty("display"),i.style.display="none"):t==="sticky"&&(a.style.display="none",i.style.removeProperty("display")),this.prepareWrapper())}reset(){q.clearAnswers(),this.groups.forEach(t=>t instanceof be?t.reset():null)}};var cr=(n,e)=>{let t=e.mode==="main"?new xa(n):null;return t||null};var Y={components:"data-mct-results",element:"data-mct-results-element",output:"data-mct-results-output",type:"data-mct-results-output-type"};var Aa=class{constructor(e,t){f(this,"wrapper");f(this,"template");f(this,"product");f(this,"onClick");f(this,"outputs",[]);f(this,"button",null);f(this,"dialogs",[]);this.wrapper=e,this.template=t.template.cloneNode(!0),this.product=t.product,this.onClick=t.onClick,this.outputs=T(`[${Y.output}]`,this.template),this.button=x(`[${Y.element}="template-cta"]`,this.template),this.init()}init(){this.populate(),this.bindEvents(),this.render()}populate(){this.outputs.forEach(e=>{let t=e.getAttribute(Y.output),a=e.getAttribute(Y.type),i=this.product[t]??0;switch(a){case"currency":i=He(i,{type:"currency"});break;case"boolean":i=!!i;break;default:i=i.toString()}e instanceof HTMLImageElement?e.src=i.toString():a==="boolean"?e.style.display=i?"block":"none":e.textContent=i.toString()})}bindEvents(){this.button?.addEventListener("click",()=>{this.onClick(this.product)})}render(){this.wrapper.appendChild(this.template)}remove(){this.template.remove()}};var hr={url:"https://integrationtest.landc.co.uk/productdata/bestbuysMCT",body:'{"PropertyValue":250000,"RepaymentValue":125000,"PropertyType":1,"MortgageType":1,"InterestOnlyValue":0,"TermYears":25,"SchemePurpose":1,"SchemePeriods":[1,2,3,4],"SchemeTypes":[1,2],"NumberOfResults":100,"SortColumn":1}',result:{SummaryInfo:{LowestRate:2.79,LowestPMT:579.2,LowestAnnualCost:7424,NumberOfLenders:67,NumberOfProducts:1504},Products:[{ProductId:635169,LenderId:20,LenderName:"Marsden",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/marsden.gif",ProductSchemeFriendlyName:"3.70% discount to 31/07/27",Rate:2.79,FollowOnRate:"then 6.49% (variable)",PMT:579.2,FutureValue:117885.79,FutureMonthlyPayment:823.37,TotalFees:998,AnnualCost:7449.4,ApplicationFee:0,CompletionFee:998,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"5% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% until 31/07/27",ExitFee:150,Legals:"Payable",MinimumMortgageAmount:3e4,MaximumMortgageAmount:25e5,LTV:70,APR:6.027,FollowOnRateValue:6.49,SchemeLength:24,SchemeTypeRefId:53,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a variable rate for 2 years at 2.79% and then on a variable rate of 6.49% for the remaining 23 years would require 24 payments of \xA3579.20 and 276 payments of \xA3823.37. The total amount payable would be \xA3242,148.92 made up of the loan amount plus interest (\xA3116,150.92) and fees (\xA3998.00). The overall cost for comparison is 6.0% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:597886,LenderId:20,LenderName:"Marsden",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/marsden.gif",ProductSchemeFriendlyName:"3.55% discount to 30/06/27",Rate:2.94,FollowOnRate:"then 6.49% (variable)",PMT:588.87,FutureValue:118022.52,FutureMonthlyPayment:824.33,TotalFees:998,AnnualCost:7565.44,ApplicationFee:0,CompletionFee:998,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"5% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% until 30/06/27",ExitFee:150,Legals:"Payable",MinimumMortgageAmount:3e4,MaximumMortgageAmount:25e5,LTV:80,APR:6.046,FollowOnRateValue:6.49,SchemeLength:24,SchemeTypeRefId:53,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a variable rate for 2 years at 2.94% and then on a variable rate of 6.49% for the remaining 23 years would require 24 payments of \xA3588.87 and 276 payments of \xA3824.33. The total amount payable would be \xA3242,645.96 made up of the loan amount plus interest (\xA3116,647.96) and fees (\xA3998.00). The overall cost for comparison is 6.0% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:636229,LenderId:23,LenderName:"Furness",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/furness.gif",ProductSchemeFriendlyName:"3.81% discount for 2 years",Rate:3,FollowOnRate:"then 6.75% (variable)",PMT:592.76,FutureValue:118076.69,FutureMonthlyPayment:843.55,TotalFees:1054,AnnualCost:7640.12,ApplicationFee:0,CompletionFee:999,ValuationFee:305,OtherFees:0,Cashback:250,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% for 2 years",ExitFee:120,Legals:"Payable",MinimumMortgageAmount:3e4,MaximumMortgageAmount:2e6,LTV:80,APR:6.281,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:53,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a variable rate for 2 years at 3.00% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3592.76 and 276 payments of \xA3843.55. The total amount payable would be \xA3248,100.04 made up of the loan amount plus interest (\xA3122,046.04) and fees (\xA31,054.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:619700,LenderId:23,LenderName:"Furness",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/furness.gif",ProductSchemeFriendlyName:"3.71% discount for 2 years",Rate:3.04,FollowOnRate:"then 6.75% (variable)",PMT:595.37,FutureValue:118112.63,FutureMonthlyPayment:843.81,TotalFees:1054,AnnualCost:7671.44,ApplicationFee:0,CompletionFee:999,ValuationFee:305,OtherFees:0,Cashback:250,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% for 2 years",ExitFee:120,Legals:"Payable",MinimumMortgageAmount:3e4,MaximumMortgageAmount:2e6,LTV:80,APR:6.286,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:53,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a variable rate for 2 years at 3.04% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3595.37 and 276 payments of \xA3843.81. The total amount payable would be \xA3248,234.44 made up of the loan amount plus interest (\xA3122,180.44) and fees (\xA31,054.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:624949,LenderId:23,LenderName:"Furness",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/furness.gif",ProductSchemeFriendlyName:"3.44% discount for 2 years",Rate:3.31,FollowOnRate:"then 6.75% (variable)",PMT:613.11,FutureValue:118351.79,FutureMonthlyPayment:845.52,TotalFees:749,AnnualCost:7731.82,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:250,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% for 2 years",ExitFee:120,Legals:"Payable",MinimumMortgageAmount:3e4,MaximumMortgageAmount:2e6,LTV:90,APR:6.32,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:53,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a variable rate for 2 years at 3.31% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3613.11 and 276 payments of \xA3845.52. The total amount payable would be \xA3248,827.16 made up of the loan amount plus interest (\xA3123,078.16) and fees (\xA3749.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:619702,LenderId:23,LenderName:"Furness",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/furness.gif",ProductSchemeFriendlyName:"3.20% discount for 2 years",Rate:3.55,FollowOnRate:"then 6.75% (variable)",PMT:629.14,FutureValue:118559.3,FutureMonthlyPayment:847,TotalFees:-250,AnnualCost:7424.68,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:250,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% for 2 years",ExitFee:120,Legals:"Payable",MinimumMortgageAmount:3e4,MaximumMortgageAmount:2e6,LTV:95,APR:6.3,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:53,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a variable rate for 2 years at 3.55% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3629.14 and 276 payments of \xA3847.00. The total amount payable would be \xA3248,621.36 made up of the loan amount plus interest (\xA3123,871.36) and fees (-\xA3250.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:648474,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/27",Rate:3.87,FollowOnRate:"then 7.99% (variable)",PMT:650.86,FutureValue:118828.63,FutureMonthlyPayment:942.08,TotalFees:1099,AnnualCost:8359.82,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 30/09/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.475,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.87% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3650.86 and 276 payments of \xA3942.08. The total amount payable would be \xA3276,733.72 made up of the loan amount plus interest (\xA3150,634.72) and fees (\xA31,099.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:643922,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/27",Rate:3.88,FollowOnRate:"then 7.49% (variable)",PMT:651.54,FutureValue:118836.91,FutureMonthlyPayment:904.05,TotalFees:1495,AnnualCost:8565.98,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"1.5% reducing to 0.75% until 31/07/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:60,APR:7.067,FollowOnRateValue:7.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.88% and then on a variable rate of 7.49% for the remaining 23 years would require 24 payments of \xA3651.54 and 276 payments of \xA3904.05. The total amount payable would be \xA3266,649.76 made up of the loan amount plus interest (\xA3140,154.76) and fees (\xA31,495.00). The overall cost for comparison is 7.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:643934,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/30",Rate:3.88,FollowOnRate:"then 7.49% (variable)",PMT:651.54,FutureValue:108649.03,FutureMonthlyPayment:874.6,TotalFees:1495,AnnualCost:8117.48,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"4.5% reducing to 1% until 31/07/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:60,APR:6.39,FollowOnRateValue:7.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.88% and then on a variable rate of 7.49% for the remaining 20 years would require 60 payments of \xA3651.54 and 240 payments of \xA3874.60. The total amount payable would be \xA3250,491.40 made up of the loan amount plus interest (\xA3123,996.40) and fees (\xA31,495.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647197,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/27",Rate:3.89,FollowOnRate:"then 6.75% (variable)",PMT:652.23,FutureValue:118845.18,FutureMonthlyPayment:849.04,TotalFees:999,AnnualCost:8326.26,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 02/08/27",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.392,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.89% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3652.23 and 276 payments of \xA3849.04. The total amount payable would be \xA3250,987.56 made up of the loan amount plus interest (\xA3124,988.56) and fees (\xA3999.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647890,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:3.89,FollowOnRate:"then 7.24% (variable)",PMT:652.23,FutureValue:118845.18,FutureMonthlyPayment:885.34,TotalFees:999,AnnualCost:8326.26,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.821,FollowOnRateValue:7.24,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.89% and then on a variable rate of 7.24% for the remaining 23 years would require 24 payments of \xA3652.23 and 276 payments of \xA3885.34. The total amount payable would be \xA3261,006.36 made up of the loan amount plus interest (\xA3135,007.36) and fees (\xA3999.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647895,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 5 years",Rate:3.89,FollowOnRate:"then 7.24% (variable)",PMT:652.23,FutureValue:108668.42,FutureMonthlyPayment:858.23,TotalFees:999,AnnualCost:8026.56,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% for 5 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.193,FollowOnRateValue:7.24,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.89% and then on a variable rate of 7.24% for the remaining 20 years would require 60 payments of \xA3652.23 and 240 payments of \xA3858.23. The total amount payable would be \xA3246,108.00 made up of the loan amount plus interest (\xA3120,109.00) and fees (\xA3999.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648382,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:3.89,FollowOnRate:"then 7.99% (variable)",PMT:652.23,FutureValue:118845.18,FutureMonthlyPayment:942.21,TotalFees:995,AnnualCost:8324.26,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 30/06/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.478,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.89% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3652.23 and 276 payments of \xA3942.21. The total amount payable would be \xA3276,698.48 made up of the loan amount plus interest (\xA3150,703.48) and fees (\xA3995.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644918,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:3.9,FollowOnRate:"then 7.99% (variable)",PMT:652.91,FutureValue:118853.45,FutureMonthlyPayment:942.27,TotalFees:1099,AnnualCost:8384.42,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e5,MaximumMortgageAmount:75e5,LTV:60,APR:7.479,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.90% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3652.91 and 276 payments of \xA3942.27. The total amount payable would be \xA3276,835.36 made up of the loan amount plus interest (\xA3150,736.36) and fees (\xA31,099.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:642522,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:3.91,FollowOnRate:"then 6.74% (variable)",PMT:653.6,FutureValue:118861.71,FutureMonthlyPayment:848.43,TotalFees:999,AnnualCost:8342.7,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:60,APR:6.408,FollowOnRateValue:6.74,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.91% and then on a variable rate of 6.74% for the remaining 23 years would require 24 payments of \xA3653.60 and 276 payments of \xA3848.43. The total amount payable would be \xA3250,852.08 made up of the loan amount plus interest (\xA3124,853.08) and fees (\xA3999.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644373,LenderId:4,LenderName:"Barclays",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/barclays.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:3.92,FollowOnRate:"then 6.49% (variable)",PMT:654.29,FutureValue:118869.95,FutureMonthlyPayment:830.25,TotalFees:899,AnnualCost:8300.98,ApplicationFee:0,CompletionFee:899,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% until 30/06/27",ExitFee:80,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:1e7,LTV:60,APR:6.169,FollowOnRateValue:6.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.92% and then on a variable rate of 6.49% for the remaining 23 years would require 24 payments of \xA3654.29 and 276 payments of \xA3830.25. The total amount payable would be \xA3245,750.96 made up of the loan amount plus interest (\xA3119,851.96) and fees (\xA3899.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647221,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/30",Rate:3.92,FollowOnRate:"then 6.75% (variable)",PMT:654.29,FutureValue:108726.52,FutureMonthlyPayment:826.71,TotalFees:999,AnnualCost:8051.28,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 02/08/30",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:60,APR:5.866,FollowOnRateValue:6.75,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.92% and then on a variable rate of 6.75% for the remaining 20 years would require 60 payments of \xA3654.29 and 240 payments of \xA3826.71. The total amount payable would be \xA3238,666.80 made up of the loan amount plus interest (\xA3112,667.80) and fees (\xA3999.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:643933,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/30",Rate:3.93,FollowOnRate:"then 7.49% (variable)",PMT:654.97,FutureValue:108745.86,FutureMonthlyPayment:875.38,TotalFees:995,AnnualCost:8058.64,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"4.5% reducing to 1% until 31/07/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:60,APR:6.377,FollowOnRateValue:7.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.93% and then on a variable rate of 7.49% for the remaining 20 years would require 60 payments of \xA3654.97 and 240 payments of \xA3875.38. The total amount payable would be \xA3250,384.40 made up of the loan amount plus interest (\xA3124,389.40) and fees (\xA3995.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644381,LenderId:4,LenderName:"Barclays",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/barclays.gif",ProductSchemeFriendlyName:"Fixed to 30/06/30",Rate:3.93,FollowOnRate:"then 6.49% (variable)",PMT:654.97,FutureValue:108745.86,FutureMonthlyPayment:810.13,TotalFees:899,AnnualCost:8039.44,ApplicationFee:0,CompletionFee:899,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"4% until 30/06/30",ExitFee:80,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:1e7,LTV:60,APR:5.69,FollowOnRateValue:6.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.93% and then on a variable rate of 6.49% for the remaining 20 years would require 60 payments of \xA3654.97 and 240 payments of \xA3810.13. The total amount payable would be \xA3234,628.40 made up of the loan amount plus interest (\xA3108,729.40) and fees (\xA3899.00). The overall cost for comparison is 5.7% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:642535,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:3.93,FollowOnRate:"then 6.74% (variable)",PMT:654.97,FutureValue:108745.86,FutureMonthlyPayment:826.21,TotalFees:999,AnnualCost:8059.44,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:60,APR:5.862,FollowOnRateValue:6.74,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.93% and then on a variable rate of 6.74% for the remaining 20 years would require 60 payments of \xA3654.97 and 240 payments of \xA3826.21. The total amount payable would be \xA3238,587.60 made up of the loan amount plus interest (\xA3112,588.60) and fees (\xA3999.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:643921,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/27",Rate:3.93,FollowOnRate:"then 7.49% (variable)",PMT:654.97,FutureValue:118878.2,FutureMonthlyPayment:904.37,TotalFees:995,AnnualCost:8357.14,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"1.5% reducing to 0.75% until 31/07/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:60,APR:7.045,FollowOnRateValue:7.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.93% and then on a variable rate of 7.49% for the remaining 23 years would require 24 payments of \xA3654.97 and 276 payments of \xA3904.37. The total amount payable would be \xA3266,320.40 made up of the loan amount plus interest (\xA3140,325.40) and fees (\xA3995.00). The overall cost for comparison is 7.0% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648524,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/30",Rate:3.93,FollowOnRate:"then 7.99% (variable)",PMT:654.97,FutureValue:108745.86,FutureMonthlyPayment:908.91,TotalFees:1099,AnnualCost:8079.44,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 30/09/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:6.721,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 3.93% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3654.97 and 240 payments of \xA3908.91. The total amount payable would be \xA3258,535.60 made up of the loan amount plus interest (\xA3132,436.60) and fees (\xA31,099.00). The overall cost for comparison is 6.7% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:648384,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:3.94,FollowOnRate:"then 7.99% (variable)",PMT:655.66,FutureValue:118886.43,FutureMonthlyPayment:942.53,TotalFees:995,AnnualCost:8365.42,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 30/06/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:75,APR:7.484,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.94% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3655.66 and 276 payments of \xA3942.53. The total amount payable would be \xA3276,869.12 made up of the loan amount plus interest (\xA3150,874.12) and fees (\xA3995.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647892,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 3 years",Rate:3.94,FollowOnRate:"then 7.24% (variable)",PMT:655.66,FutureValue:115644.48,FutureMonthlyPayment:876.9,TotalFees:999,AnnualCost:8200.92,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% for 3 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.621,FollowOnRateValue:7.24,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 3.94% and then on a variable rate of 7.24% for the remaining 22 years would require 36 payments of \xA3655.66 and 264 payments of \xA3876.90. The total amount payable would be \xA3256,104.36 made up of the loan amount plus interest (\xA3130,105.36) and fees (\xA3999.00). The overall cost for comparison is 6.6% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647900,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:3.96,FollowOnRate:"then 7.24% (variable)",PMT:657.04,FutureValue:118902.87,FutureMonthlyPayment:885.76,TotalFees:999,AnnualCost:8383.98,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:75,APR:6.83,FollowOnRateValue:7.24,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.96% and then on a variable rate of 7.24% for the remaining 23 years would require 24 payments of \xA3657.04 and 276 payments of \xA3885.76. The total amount payable would be \xA3261,237.72 made up of the loan amount plus interest (\xA3135,238.72) and fees (\xA3999.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:645502,LenderId:2,LenderName:"Coventry",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/coventry.gif",ProductSchemeFriendlyName:"Fixed to 31/10/27",Rate:3.96,FollowOnRate:"then 7.09% (variable)",PMT:657.04,FutureValue:118902.87,FutureMonthlyPayment:874.57,TotalFees:999,AnnualCost:8383.98,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 2% unti 31/10/27",ExitFee:125,Legals:"Payable",MinimumMortgageAmount:1,MaximumMortgageAmount:2e6,LTV:65,APR:6.699,FollowOnRateValue:7.09,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.96% and then on a variable rate of 7.09% for the remaining 23 years would require 24 payments of \xA3657.04 and 276 payments of \xA3874.57. The total amount payable would be \xA3258,149.28 made up of the loan amount plus interest (\xA3132,150.28) and fees (\xA3999.00). The overall cost for comparison is 6.7% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644635,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/28",Rate:3.97,FollowOnRate:"then 7.99% (variable)",PMT:657.73,FutureValue:115680.76,FutureMonthlyPayment:931.85,TotalFees:1099,AnnualCost:8259.09,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% until 30/09/28",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.236,FollowOnRateValue:7.99,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 3.97% and then on a variable rate of 7.99% for the remaining 22 years would require 36 payments of \xA3657.73 and 264 payments of \xA3931.85. The total amount payable would be \xA3270,785.68 made up of the loan amount plus interest (\xA3144,686.68) and fees (\xA31,099.00). The overall cost for comparison is 7.2% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:644376,LenderId:4,LenderName:"Barclays",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/barclays.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:3.99,FollowOnRate:"then 6.49% (variable)",PMT:659.11,FutureValue:118927.47,FutureMonthlyPayment:830.65,TotalFees:899,AnnualCost:8358.82,ApplicationFee:0,CompletionFee:899,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% until 30/06/27",ExitFee:80,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:1e7,LTV:75,APR:6.177,FollowOnRateValue:6.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 3.99% and then on a variable rate of 6.49% for the remaining 23 years would require 24 payments of \xA3659.11 and 276 payments of \xA3830.65. The total amount payable would be \xA3245,977.04 made up of the loan amount plus interest (\xA3120,078.04) and fees (\xA3899.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:638118,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/28",Rate:3.99,FollowOnRate:"then 6.75% (variable)",PMT:659.11,FutureValue:115704.89,FutureMonthlyPayment:842.45,TotalFees:999,AnnualCost:8242.32,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 02/08/28",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.233,FollowOnRateValue:6.75,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 3.99% and then on a variable rate of 6.75% for the remaining 22 years would require 36 payments of \xA3659.11 and 264 payments of \xA3842.45. The total amount payable would be \xA3247,133.76 made up of the loan amount plus interest (\xA3121,134.76) and fees (\xA3999.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:643925,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/27",Rate:4.01,FollowOnRate:"then 7.49% (variable)",PMT:660.49,FutureValue:118943.83,FutureMonthlyPayment:904.86,TotalFees:1495,AnnualCost:8673.38,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"1.5% reducing to 0.75% until 31/07/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:75,APR:7.082,FollowOnRateValue:7.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.01% and then on a variable rate of 7.49% for the remaining 23 years would require 24 payments of \xA3660.49 and 276 payments of \xA3904.86. The total amount payable would be \xA3267,088.12 made up of the loan amount plus interest (\xA3140,593.12) and fees (\xA31,495.00). The overall cost for comparison is 7.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:645523,LenderId:2,LenderName:"Coventry",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/coventry.gif",ProductSchemeFriendlyName:"Fixed to 31/10/28",Rate:4.01,FollowOnRate:"then 7.09% (variable)",PMT:660.49,FutureValue:115728.98,FutureMonthlyPayment:866.77,TotalFees:999,AnnualCost:8258.88,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3.5% reducing to 2% until 31/10/28",ExitFee:125,Legals:"Payable",MinimumMortgageAmount:1,MaximumMortgageAmount:2e6,LTV:65,APR:6.512,FollowOnRateValue:7.09,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.01% and then on a variable rate of 7.09% for the remaining 22 years would require 36 payments of \xA3660.49 and 264 payments of \xA3866.77. The total amount payable would be \xA3253,603.92 made up of the loan amount plus interest (\xA3127,604.92) and fees (\xA3999.00). The overall cost for comparison is 6.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:646159,LenderId:26,LenderName:"Skipton",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/skipton.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.01,FollowOnRate:"then 6.54% (variable)",PMT:660.49,FutureValue:118943.83,FutureMonthlyPayment:834.4,TotalFees:1495,AnnualCost:8673.38,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.25% until 31/08/27",ExitFee:55,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:2e7,LTV:60,APR:6.263,FollowOnRateValue:6.54,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.01% and then on a variable rate of 6.54% for the remaining 23 years would require 24 payments of \xA3660.49 and 276 payments of \xA3834.40. The total amount payable would be \xA3247,641.16 made up of the loan amount plus interest (\xA3121,146.16) and fees (\xA31,495.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:646196,LenderId:26,LenderName:"Skipton",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/skipton.gif",ProductSchemeFriendlyName:"Fixed to 31/08/28",Rate:4.01,FollowOnRate:"then 6.54% (variable)",PMT:660.49,FutureValue:115728.98,FutureMonthlyPayment:827.87,TotalFees:1495,AnnualCost:8424.21,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"4% reducing to 1.5% until 31/08/28",ExitFee:55,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:2e7,LTV:60,APR:6.105,FollowOnRateValue:6.54,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.01% and then on a variable rate of 6.54% for the remaining 22 years would require 36 payments of \xA3660.49 and 264 payments of \xA3827.87. The total amount payable would be \xA3243,830.32 made up of the loan amount plus interest (\xA3117,335.32) and fees (\xA31,495.00). The overall cost for comparison is 6.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648476,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/27",Rate:4.01,FollowOnRate:"then 7.99% (variable)",PMT:660.49,FutureValue:118943.83,FutureMonthlyPayment:942.99,TotalFees:1099,AnnualCost:8475.38,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 30/09/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:75,APR:7.493,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.01% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3660.49 and 276 payments of \xA3942.99. The total amount payable would be \xA3277,216.00 made up of the loan amount plus interest (\xA3151,117.00) and fees (\xA31,099.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:647200,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/27",Rate:4.02,FollowOnRate:"then 6.75% (variable)",PMT:661.18,FutureValue:118951.99,FutureMonthlyPayment:849.8,TotalFees:999,AnnualCost:8433.66,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 02/08/27",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:75,APR:6.43,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.02% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3661.18 and 276 payments of \xA3849.80. The total amount payable would be \xA3251,412.12 made up of the loan amount plus interest (\xA3125,413.12) and fees (\xA3999.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644951,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.03,FollowOnRate:"then 7.99% (variable)",PMT:661.87,FutureValue:108938.36,FutureMonthlyPayment:910.52,TotalFees:1099,AnnualCost:8162.24,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e5,MaximumMortgageAmount:75e5,LTV:60,APR:6.752,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.03% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3661.87 and 240 payments of \xA3910.52. The total amount payable would be \xA3259,336.00 made up of the loan amount plus interest (\xA3133,237.00) and fees (\xA31,099.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:646208,LenderId:26,LenderName:"Skipton",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/skipton.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.04,FollowOnRate:"then 6.54% (variable)",PMT:662.56,FutureValue:108957.52,FutureMonthlyPayment:814.92,TotalFees:2995,AnnualCost:8549.72,ApplicationFee:0,CompletionFee:2995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"6% reducing to 1.75% until 31/08/30",ExitFee:55,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:2e7,LTV:60,APR:5.856,FollowOnRateValue:6.54,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.04% and then on a variable rate of 6.54% for the remaining 20 years would require 60 payments of \xA3662.56 and 240 payments of \xA3814.92. The total amount payable would be \xA3238,329.40 made up of the loan amount plus interest (\xA3110,334.40) and fees (\xA32,995.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:645684,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.04,FollowOnRate:"then 6.74% (variable)",PMT:662.56,FutureValue:118968.3,FutureMonthlyPayment:849.19,TotalFees:999,AnnualCost:8450.22,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:70,APR:6.424,FollowOnRateValue:6.74,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.04% and then on a variable rate of 6.74% for the remaining 23 years would require 24 payments of \xA3662.56 and 276 payments of \xA3849.19. The total amount payable would be \xA3251,276.88 made up of the loan amount plus interest (\xA3125,277.88) and fees (\xA3999.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:645685,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.04,FollowOnRate:"then 6.74% (variable)",PMT:662.56,FutureValue:118968.3,FutureMonthlyPayment:849.19,TotalFees:999,AnnualCost:8450.22,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:75,APR:6.424,FollowOnRateValue:6.74,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.04% and then on a variable rate of 6.74% for the remaining 23 years would require 24 payments of \xA3662.56 and 276 payments of \xA3849.19. The total amount payable would be \xA3251,276.88 made up of the loan amount plus interest (\xA3125,277.88) and fees (\xA3999.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644124,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/30",Rate:4.04,FollowOnRate:"then 7.99% (variable)",PMT:662.56,FutureValue:108957.52,FutureMonthlyPayment:910.68,TotalFees:995,AnnualCost:8149.72,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 2% until 30/06/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:60,APR:6.756,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.04% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3662.56 and 240 payments of \xA3910.68. The total amount payable would be \xA3259,311.80 made up of the loan amount plus interest (\xA3133,316.80) and fees (\xA3995.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648518,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/30",Rate:4.04,FollowOnRate:"then 7.99% (variable)",PMT:662.56,FutureValue:108957.52,FutureMonthlyPayment:910.68,TotalFees:100,AnnualCost:7970.72,ApplicationFee:0,CompletionFee:0,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 30/09/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:6.725,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.04% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3662.56 and 240 payments of \xA3910.68. The total amount payable would be \xA3258,416.80 made up of the loan amount plus interest (\xA3133,316.80) and fees (\xA3100.00). The overall cost for comparison is 6.7% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:644119,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/28",Rate:4.05,FollowOnRate:"then 7.99% (variable)",PMT:663.25,FutureValue:115777.01,FutureMonthlyPayment:932.63,TotalFees:1495,AnnualCost:8457.33,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3.5% reducing to 1.5% until 30/06/28",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.282,FollowOnRateValue:7.99,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.05% and then on a variable rate of 7.99% for the remaining 22 years would require 36 payments of \xA3663.25 and 264 payments of \xA3932.63. The total amount payable would be \xA3271,586.32 made up of the loan amount plus interest (\xA3145,091.32) and fees (\xA31,495.00). The overall cost for comparison is 7.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:646198,LenderId:26,LenderName:"Skipton",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/skipton.gif",ProductSchemeFriendlyName:"Fixed to 31/08/28",Rate:4.05,FollowOnRate:"then 6.54% (variable)",PMT:663.25,FutureValue:115777.01,FutureMonthlyPayment:828.22,TotalFees:1495,AnnualCost:8457.33,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"4% reducing to 1.5% until 31/08/28",ExitFee:55,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:2e7,LTV:75,APR:6.112,FollowOnRateValue:6.54,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.05% and then on a variable rate of 6.54% for the remaining 22 years would require 36 payments of \xA3663.25 and 264 payments of \xA3828.22. The total amount payable would be \xA3244,022.08 made up of the loan amount plus interest (\xA3117,527.08) and fees (\xA31,495.00). The overall cost for comparison is 6.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:643924,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/27",Rate:4.06,FollowOnRate:"then 7.49% (variable)",PMT:663.94,FutureValue:118984.58,FutureMonthlyPayment:905.18,TotalFees:995,AnnualCost:8464.78,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"1.5% reducing to 0.75% until 31/07/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:75,APR:7.061,FollowOnRateValue:7.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.06% and then on a variable rate of 7.49% for the remaining 23 years would require 24 payments of \xA3663.94 and 276 payments of \xA3905.18. The total amount payable would be \xA3266,759.24 made up of the loan amount plus interest (\xA3140,764.24) and fees (\xA3995.00). The overall cost for comparison is 7.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:641901,LenderId:65,LenderName:"Yorkshire BS",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/yorkshire.gif",ProductSchemeFriendlyName:"Fixed to 31/07/27",Rate:4.06,FollowOnRate:"then 7.49% (variable)",PMT:663.94,FutureValue:118984.58,FutureMonthlyPayment:905.18,TotalFees:995,AnnualCost:8464.78,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 2% until 31/07/27",ExitFee:90,Legals:"Payable",MinimumMortgageAmount:25001,MaximumMortgageAmount:5e6,LTV:60,APR:7.061,FollowOnRateValue:7.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.06% and then on a variable rate of 7.49% for the remaining 23 years would require 24 payments of \xA3663.94 and 276 payments of \xA3905.18. The total amount payable would be \xA3266,759.24 made up of the loan amount plus interest (\xA3140,764.24) and fees (\xA3995.00). The overall cost for comparison is 7.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:641911,LenderId:65,LenderName:"Yorkshire BS",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/yorkshire.gif",ProductSchemeFriendlyName:"Fixed to 31/07/27",Rate:4.07,FollowOnRate:"then 7.49% (variable)",PMT:664.64,FutureValue:118992.71,FutureMonthlyPayment:905.24,TotalFees:995,AnnualCost:8473.18,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 2% until 31/07/27",ExitFee:90,Legals:"Payable",MinimumMortgageAmount:25001,MaximumMortgageAmount:5e6,LTV:75,APR:7.063,FollowOnRateValue:7.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.07% and then on a variable rate of 7.49% for the remaining 23 years would require 24 payments of \xA3664.64 and 276 payments of \xA3905.24. The total amount payable would be \xA3266,792.60 made up of the loan amount plus interest (\xA3140,797.60) and fees (\xA3995.00). The overall cost for comparison is 7.1% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:638631,LenderId:24,LenderName:"Co-Op",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/coop.gif",ProductSchemeFriendlyName:"Fixed to 31/08/28",Rate:4.07,FollowOnRate:"then 7.37% (variable)",PMT:664.64,FutureValue:115800.97,FutureMonthlyPayment:887.46,TotalFees:749,AnnualCost:8225.35,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:250,BrokerFee:0,OverpaymentLimit:"10% pa",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% until 31/08/28",ExitFee:100,Legals:"Payable",MinimumMortgageAmount:25001,MaximumMortgageAmount:2e6,LTV:60,APR:6.751,FollowOnRateValue:7.37,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.07% and then on a variable rate of 7.37% for the remaining 22 years would require 36 payments of \xA3664.64 and 264 payments of \xA3887.46. The total amount payable would be \xA3258,965.48 made up of the loan amount plus interest (\xA3133,216.48) and fees (\xA3749.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:647177,LenderId:37,LenderName:"Leeds",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/leeds.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.07,FollowOnRate:"then 7.99% (variable)",PMT:664.64,FutureValue:118992.71,FutureMonthlyPayment:943.38,TotalFees:1499,AnnualCost:8725.18,ApplicationFee:0,CompletionFee:1499,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 31/08/27",ExitFee:199,Legals:"Payable",MinimumMortgageAmount:0,MaximumMortgageAmount:2e6,LTV:65,APR:7.531,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.07% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3664.64 and 276 payments of \xA3943.38. The total amount payable would be \xA3277,823.24 made up of the loan amount plus interest (\xA3151,324.24) and fees (\xA31,499.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:639517,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/30",Rate:4.08,FollowOnRate:"then 7.49% (variable)",PMT:665.33,FutureValue:109034.03,FutureMonthlyPayment:877.7,TotalFees:1495,AnnualCost:8282.96,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"4.5% reducing to 1% until 31/07/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:75,APR:6.451,FollowOnRateValue:7.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.08% and then on a variable rate of 7.49% for the remaining 20 years would require 60 payments of \xA3665.33 and 240 payments of \xA3877.70. The total amount payable would be \xA3252,062.80 made up of the loan amount plus interest (\xA3125,567.80) and fees (\xA31,495.00). The overall cost for comparison is 6.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:640344,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.08,FollowOnRate:"then 7.99% (variable)",PMT:665.33,FutureValue:119000.83,FutureMonthlyPayment:943.44,TotalFees:1099,AnnualCost:8533.46,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e5,MaximumMortgageAmount:75e5,LTV:75,APR:7.517,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.08% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3665.33 and 276 payments of \xA3943.44. The total amount payable would be \xA3277,456.36 made up of the loan amount plus interest (\xA3151,357.36) and fees (\xA31,099.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:617897,LenderId:45,LenderName:"First Direct",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/firstdirect.gif",ProductSchemeFriendlyName:"Fixed for 5 years",Rate:4.09,FollowOnRate:"then 6.74% (variable)",PMT:666.02,FutureValue:109053.12,FutureMonthlyPayment:828.55,TotalFees:490,AnnualCost:8090.24,ApplicationFee:490,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"Unlimited",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% for 5 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:null,MaximumMortgageAmount:1e7,LTV:60,APR:5.912,FollowOnRateValue:6.74,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.09% and then on a variable rate of 6.74% for the remaining 20 years would require 60 payments of \xA3666.02 and 240 payments of \xA3828.55. The total amount payable would be \xA3239,303.20 made up of the loan amount plus interest (\xA3113,813.20) and fees (\xA3490.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:645507,LenderId:2,LenderName:"Coventry",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/coventry.gif",ProductSchemeFriendlyName:"Fixed to 31/10/27",Rate:4.09,FollowOnRate:"then 7.09% (variable)",PMT:666.02,FutureValue:119008.94,FutureMonthlyPayment:875.35,TotalFees:999,AnnualCost:8491.74,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 2% unti 31/10/27",ExitFee:125,Legals:"Payable",MinimumMortgageAmount:1,MaximumMortgageAmount:2e6,LTV:75,APR:6.738,FollowOnRateValue:7.09,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.09% and then on a variable rate of 7.09% for the remaining 23 years would require 24 payments of \xA3666.02 and 276 payments of \xA3875.35. The total amount payable would be \xA3258,580.08 made up of the loan amount plus interest (\xA3132,581.08) and fees (\xA3999.00). The overall cost for comparison is 6.7% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:641955,LenderId:65,LenderName:"Yorkshire BS",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/yorkshire.gif",ProductSchemeFriendlyName:"Fixed to 31/07/28",Rate:4.1,FollowOnRate:"then 7.49% (variable)",PMT:666.72,FutureValue:115836.81,FutureMonthlyPayment:896.44,TotalFees:995,AnnualCost:8332.31,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% until 31/07/28",ExitFee:90,Legals:"Payable",MinimumMortgageAmount:25001,MaximumMortgageAmount:5e6,LTV:60,APR:6.854,FollowOnRateValue:7.49,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.10% and then on a variable rate of 7.49% for the remaining 22 years would require 36 payments of \xA3666.72 and 264 payments of \xA3896.44. The total amount payable would be \xA3261,657.08 made up of the loan amount plus interest (\xA3135,662.08) and fees (\xA3995.00). The overall cost for comparison is 6.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:648525,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/30",Rate:4.11,FollowOnRate:"then 7.99% (variable)",PMT:667.41,FutureValue:109091.25,FutureMonthlyPayment:911.8,TotalFees:1099,AnnualCost:8228.72,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 30/09/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:75,APR:6.778,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.11% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3667.41 and 240 payments of \xA3911.80. The total amount payable would be \xA3259,975.60 made up of the loan amount plus interest (\xA3133,876.60) and fees (\xA31,099.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:647224,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/30",Rate:4.11,FollowOnRate:"then 6.75% (variable)",PMT:667.41,FutureValue:109091.25,FutureMonthlyPayment:829.49,TotalFees:999,AnnualCost:8208.72,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 02/08/30",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:75,APR:5.925,FollowOnRateValue:6.75,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.11% and then on a variable rate of 6.75% for the remaining 20 years would require 60 payments of \xA3667.41 and 240 payments of \xA3829.49. The total amount payable would be \xA3240,121.20 made up of the loan amount plus interest (\xA3114,122.20) and fees (\xA3999.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647905,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 5 years",Rate:4.11,FollowOnRate:"then 7.24% (variable)",PMT:667.41,FutureValue:109091.25,FutureMonthlyPayment:861.57,TotalFees:999,AnnualCost:8208.72,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% for 5 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:75,APR:6.262,FollowOnRateValue:7.24,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.11% and then on a variable rate of 7.24% for the remaining 20 years would require 60 payments of \xA3667.41 and 240 payments of \xA3861.57. The total amount payable would be \xA3247,820.40 made up of the loan amount plus interest (\xA3121,821.40) and fees (\xA3999.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644121,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/28",Rate:4.12,FollowOnRate:"then 7.99% (variable)",PMT:668.11,FutureValue:115860.65,FutureMonthlyPayment:933.3,TotalFees:1495,AnnualCost:8515.65,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3.5% reducing to 1.5% until 30/06/28",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:75,APR:7.295,FollowOnRateValue:7.99,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.12% and then on a variable rate of 7.99% for the remaining 22 years would require 36 payments of \xA3668.11 and 264 payments of \xA3933.30. The total amount payable would be \xA3271,938.16 made up of the loan amount plus interest (\xA3145,443.16) and fees (\xA31,495.00). The overall cost for comparison is 7.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644952,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.12,FollowOnRate:"then 7.99% (variable)",PMT:668.11,FutureValue:109110.29,FutureMonthlyPayment:911.96,TotalFees:1099,AnnualCost:8237.12,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e5,MaximumMortgageAmount:75e5,LTV:75,APR:6.781,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.12% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3668.11 and 240 payments of \xA3911.96. The total amount payable would be \xA3260,056.00 made up of the loan amount plus interest (\xA3133,957.00) and fees (\xA31,099.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:645547,LenderId:2,LenderName:"Coventry",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/coventry.gif",ProductSchemeFriendlyName:"Fixed to 31/10/30",Rate:4.13,FollowOnRate:"then 7.09% (variable)",PMT:668.8,FutureValue:109129.31,FutureMonthlyPayment:851.98,TotalFees:999,AnnualCost:8225.4,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 2% until 31/10/30",ExitFee:125,Legals:"Payable",MinimumMortgageAmount:1,MaximumMortgageAmount:2e6,LTV:65,APR:6.165,FollowOnRateValue:7.09,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.13% and then on a variable rate of 7.09% for the remaining 20 years would require 60 payments of \xA3668.80 and 240 payments of \xA3851.98. The total amount payable would be \xA3245,602.20 made up of the loan amount plus interest (\xA3119,603.20) and fees (\xA3999.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647222,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/30",Rate:4.13,FollowOnRate:"then 6.75% (variable)",PMT:668.8,FutureValue:109129.31,FutureMonthlyPayment:829.78,TotalFees:0,AnnualCost:8025.6,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 02/08/30",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:60,APR:5.89,FollowOnRateValue:6.75,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.13% and then on a variable rate of 6.75% for the remaining 20 years would require 60 payments of \xA3668.80 and 240 payments of \xA3829.78. The total amount payable would be \xA3239,275.20 made up of the loan amount plus interest (\xA3114,275.20) and fees (\xA30.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:645689,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.13,FollowOnRate:"then 6.74% (variable)",PMT:668.8,FutureValue:109129.31,FutureMonthlyPayment:829.13,TotalFees:0,AnnualCost:8025.6,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:60,APR:5.884,FollowOnRateValue:6.74,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.13% and then on a variable rate of 6.74% for the remaining 20 years would require 60 payments of \xA3668.80 and 240 payments of \xA3829.13. The total amount payable would be \xA3239,119.20 made up of the loan amount plus interest (\xA3114,119.20) and fees (\xA30.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:639516,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/30",Rate:4.13,FollowOnRate:"then 7.49% (variable)",PMT:668.8,FutureValue:109129.31,FutureMonthlyPayment:878.47,TotalFees:995,AnnualCost:8224.6,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"4.5% reducing to 1% until 31/07/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:75,APR:6.44,FollowOnRateValue:7.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.13% and then on a variable rate of 7.49% for the remaining 20 years would require 60 payments of \xA3668.80 and 240 payments of \xA3878.47. The total amount payable would be \xA3251,955.80 made up of the loan amount plus interest (\xA3125,960.80) and fees (\xA3995.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648469,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/27",Rate:4.13,FollowOnRate:"then 7.99% (variable)",PMT:668.8,FutureValue:119041.3,FutureMonthlyPayment:943.76,TotalFees:100,AnnualCost:8075.6,ApplicationFee:0,CompletionFee:0,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 30/09/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.477,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.13% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3668.80 and 276 payments of \xA3943.76. The total amount payable would be \xA3276,628.96 made up of the loan amount plus interest (\xA3151,528.96) and fees (\xA3100.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:648587,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/30",Rate:4.13,FollowOnRate:"then 7.99% (variable)",PMT:668.8,FutureValue:109129.31,FutureMonthlyPayment:912.12,TotalFees:1099,AnnualCost:8245.4,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 30/09/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:6.784,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.13% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3668.80 and 240 payments of \xA3912.12. The total amount payable would be \xA3260,135.80 made up of the loan amount plus interest (\xA3134,036.80) and fees (\xA31,099.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:647902,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 3 years",Rate:4.14,FollowOnRate:"then 7.24% (variable)",PMT:669.5,FutureValue:115884.44,FutureMonthlyPayment:878.72,TotalFees:999,AnnualCost:8367,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% for 3 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:75,APR:6.659,FollowOnRateValue:7.24,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.14% and then on a variable rate of 7.24% for the remaining 22 years would require 36 payments of \xA3669.50 and 264 payments of \xA3878.72. The total amount payable would be \xA3257,083.08 made up of the loan amount plus interest (\xA3131,084.08) and fees (\xA3999.00). The overall cost for comparison is 6.7% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647896,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 5 years",Rate:4.14,FollowOnRate:"then 7.24% (variable)",PMT:669.5,FutureValue:109148.32,FutureMonthlyPayment:862.02,TotalFees:0,AnnualCost:8034,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% for 5 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.247,FollowOnRateValue:7.24,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.14% and then on a variable rate of 7.24% for the remaining 20 years would require 60 payments of \xA3669.50 and 240 payments of \xA3862.02. The total amount payable would be \xA3247,054.80 made up of the loan amount plus interest (\xA3122,054.80) and fees (\xA30.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647893,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 3 years",Rate:4.14,FollowOnRate:"then 7.24% (variable)",PMT:669.5,FutureValue:115884.44,FutureMonthlyPayment:878.72,TotalFees:0,AnnualCost:8034,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% for 3 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.61,FollowOnRateValue:7.24,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.14% and then on a variable rate of 7.24% for the remaining 22 years would require 36 payments of \xA3669.50 and 264 payments of \xA3878.72. The total amount payable would be \xA3256,084.08 made up of the loan amount plus interest (\xA3131,084.08) and fees (\xA30.00). The overall cost for comparison is 6.6% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647891,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:4.14,FollowOnRate:"then 7.24% (variable)",PMT:669.5,FutureValue:119049.37,FutureMonthlyPayment:886.85,TotalFees:0,AnnualCost:8034,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.828,FollowOnRateValue:7.24,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.14% and then on a variable rate of 7.24% for the remaining 23 years would require 24 payments of \xA3669.50 and 276 payments of \xA3886.85. The total amount payable would be \xA3260,838.60 made up of the loan amount plus interest (\xA3135,838.60) and fees (\xA30.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:636828,LenderId:4,LenderName:"Barclays",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/barclays.gif",ProductSchemeFriendlyName:"Fixed to 30/06/30",Rate:4.14,FollowOnRate:"then 6.49% (variable)",PMT:669.5,FutureValue:109148.32,FutureMonthlyPayment:813.14,TotalFees:899,AnnualCost:8213.8,ApplicationFee:0,CompletionFee:899,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"4% until 30/06/30",ExitFee:80,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:1e7,LTV:75,APR:5.756,FollowOnRateValue:6.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.14% and then on a variable rate of 6.49% for the remaining 20 years would require 60 payments of \xA3669.50 and 240 payments of \xA3813.14. The total amount payable would be \xA3236,222.60 made up of the loan amount plus interest (\xA3110,323.60) and fees (\xA3899.00). The overall cost for comparison is 5.8% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:639834,LenderId:45,LenderName:"First Direct",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/firstdirect.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:4.14,FollowOnRate:"then 6.74% (variable)",PMT:669.5,FutureValue:119049.37,FutureMonthlyPayment:849.77,TotalFees:490,AnnualCost:8279,ApplicationFee:490,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"Unlimited",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:null,MaximumMortgageAmount:1e7,LTV:60,APR:6.415,FollowOnRateValue:6.74,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.14% and then on a variable rate of 6.74% for the remaining 23 years would require 24 payments of \xA3669.50 and 276 payments of \xA3849.77. The total amount payable would be \xA3251,094.52 made up of the loan amount plus interest (\xA3125,604.52) and fees (\xA3490.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:639845,LenderId:45,LenderName:"First Direct",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/firstdirect.gif",ProductSchemeFriendlyName:"Fixed for 3 years",Rate:4.14,FollowOnRate:"then 6.74% (variable)",PMT:669.5,FutureValue:115884.44,FutureMonthlyPayment:843.05,TotalFees:490,AnnualCost:8197.33,ApplicationFee:490,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"Unlimited",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% for 3 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:null,MaximumMortgageAmount:1e7,LTV:60,APR:6.253,FollowOnRateValue:6.74,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.14% and then on a variable rate of 6.74% for the remaining 22 years would require 36 payments of \xA3669.50 and 264 payments of \xA3843.05. The total amount payable would be \xA3247,157.20 made up of the loan amount plus interest (\xA3121,667.20) and fees (\xA3490.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:645695,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.14,FollowOnRate:"then 6.74% (variable)",PMT:669.5,FutureValue:109148.32,FutureMonthlyPayment:829.27,TotalFees:999,AnnualCost:8233.8,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:70,APR:5.927,FollowOnRateValue:6.74,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.14% and then on a variable rate of 6.74% for the remaining 20 years would require 60 payments of \xA3669.50 and 240 payments of \xA3829.27. The total amount payable would be \xA3240,193.80 made up of the loan amount plus interest (\xA3114,194.80) and fees (\xA3999.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:645696,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.14,FollowOnRate:"then 6.74% (variable)",PMT:669.5,FutureValue:109148.32,FutureMonthlyPayment:829.27,TotalFees:999,AnnualCost:8233.8,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:75,APR:5.927,FollowOnRateValue:6.74,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.14% and then on a variable rate of 6.74% for the remaining 20 years would require 60 payments of \xA3669.50 and 240 payments of \xA3829.27. The total amount payable would be \xA3240,193.80 made up of the loan amount plus interest (\xA3114,194.80) and fees (\xA3999.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644585,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/28",Rate:4.14,FollowOnRate:"then 7.99% (variable)",PMT:669.5,FutureValue:115884.44,FutureMonthlyPayment:933.49,TotalFees:100,AnnualCost:8067.33,ApplicationFee:0,CompletionFee:0,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% until 30/09/28",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.238,FollowOnRateValue:7.99,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.14% and then on a variable rate of 7.99% for the remaining 22 years would require 36 payments of \xA3669.50 and 264 payments of \xA3933.49. The total amount payable would be \xA3270,643.36 made up of the loan amount plus interest (\xA3145,543.36) and fees (\xA3100.00). The overall cost for comparison is 7.2% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:644947,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.14,FollowOnRate:"then 7.99% (variable)",PMT:669.5,FutureValue:109148.32,FutureMonthlyPayment:912.28,TotalFees:100,AnnualCost:8054,ApplicationFee:0,CompletionFee:0,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 31/08/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:6.757,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.14% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3669.50 and 240 payments of \xA3912.28. The total amount payable would be \xA3259,217.20 made up of the loan amount plus interest (\xA3134,117.20) and fees (\xA3100.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:644382,LenderId:4,LenderName:"Barclays",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/barclays.gif",ProductSchemeFriendlyName:"Fixed to 30/06/30",Rate:4.15,FollowOnRate:"then 6.49% (variable)",PMT:670.19,FutureValue:109167.32,FutureMonthlyPayment:813.28,TotalFees:0,AnnualCost:8042.28,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"4% until 30/06/30",ExitFee:80,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:1e7,LTV:60,APR:5.722,FollowOnRateValue:6.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.15% and then on a variable rate of 6.49% for the remaining 20 years would require 60 payments of \xA3670.19 and 240 payments of \xA3813.28. The total amount payable would be \xA3235,398.60 made up of the loan amount plus interest (\xA3110,398.60) and fees (\xA30.00). The overall cost for comparison is 5.7% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644913,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.16,FollowOnRate:"then 7.99% (variable)",PMT:670.89,FutureValue:119065.48,FutureMonthlyPayment:943.95,TotalFees:100,AnnualCost:8100.68,ApplicationFee:0,CompletionFee:0,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.481,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.16% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3670.89 and 276 payments of \xA3943.95. The total amount payable would be \xA3276,731.56 made up of the loan amount plus interest (\xA3151,631.56) and fees (\xA3100.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:648504,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 30/09/28",Rate:4.16,FollowOnRate:"then 7.99% (variable)",PMT:670.89,FutureValue:115908.19,FutureMonthlyPayment:933.68,TotalFees:1099,AnnualCost:8417.01,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% until 30/09/28",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:75e5,LTV:75,APR:7.272,FollowOnRateValue:7.99,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.16% and then on a variable rate of 7.99% for the remaining 22 years would require 36 payments of \xA3670.89 and 264 payments of \xA3933.68. The total amount payable would be \xA3271,742.56 made up of the loan amount plus interest (\xA3145,643.56) and fees (\xA31,099.00). The overall cost for comparison is 7.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:646157,LenderId:26,LenderName:"Skipton",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/skipton.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.17,FollowOnRate:"then 6.54% (variable)",PMT:671.59,FutureValue:119073.53,FutureMonthlyPayment:835.31,TotalFees:495,AnnualCost:8306.58,ApplicationFee:0,CompletionFee:495,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.25% until 31/08/27",ExitFee:55,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:2e7,LTV:60,APR:6.244,FollowOnRateValue:6.54,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.17% and then on a variable rate of 6.54% for the remaining 23 years would require 24 payments of \xA3671.59 and 276 payments of \xA3835.31. The total amount payable would be \xA3247,158.72 made up of the loan amount plus interest (\xA3121,663.72) and fees (\xA3495.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647178,LenderId:37,LenderName:"Leeds",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/leeds.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.17,FollowOnRate:"then 7.99% (variable)",PMT:671.59,FutureValue:119073.53,FutureMonthlyPayment:944.02,TotalFees:999,AnnualCost:8558.58,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 31/08/27",ExitFee:199,Legals:"Payable",MinimumMortgageAmount:0,MaximumMortgageAmount:2e6,LTV:65,APR:7.512,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.17% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3671.59 and 276 payments of \xA3944.02. The total amount payable would be \xA3277,666.68 made up of the loan amount plus interest (\xA3151,667.68) and fees (\xA3999.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:647198,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/27",Rate:4.17,FollowOnRate:"then 6.75% (variable)",PMT:671.59,FutureValue:119073.53,FutureMonthlyPayment:850.67,TotalFees:0,AnnualCost:8059.08,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 02/08/27",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.407,FollowOnRateValue:6.75,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.17% and then on a variable rate of 6.75% for the remaining 23 years would require 24 payments of \xA3671.59 and 276 payments of \xA3850.67. The total amount payable would be \xA3250,903.08 made up of the loan amount plus interest (\xA3125,903.08) and fees (\xA30.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:639512,LenderId:5,LenderName:"Natwest",ApplyDirectLink:"Natwest_Resi_Purchase_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/natwest.gif",ProductSchemeFriendlyName:"Fixed to 31/07/30",Rate:4.17,FollowOnRate:"then 7.49% (variable)",PMT:671.59,FutureValue:109205.26,FutureMonthlyPayment:879.08,TotalFees:0,AnnualCost:8059.08,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"20% p/a",ERC:"Early Repayment Charges apply",ERCText:"4.5% reducing to 1% until 31/07/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:99999999,LTV:60,APR:6.427,FollowOnRateValue:7.49,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.17% and then on a variable rate of 7.49% for the remaining 20 years would require 60 payments of \xA3671.59 and 240 payments of \xA3879.08. The total amount payable would be \xA3251,274.60 made up of the loan amount plus interest (\xA3126,274.60) and fees (\xA30.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:638119,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/28",Rate:4.18,FollowOnRate:"then 6.75% (variable)",PMT:672.28,FutureValue:115931.9,FutureMonthlyPayment:844.1,TotalFees:0,AnnualCost:8067.36,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 02/08/28",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:60,APR:6.228,FollowOnRateValue:6.75,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.18% and then on a variable rate of 6.75% for the remaining 22 years would require 36 payments of \xA3672.28 and 264 payments of \xA3844.10. The total amount payable would be \xA3247,044.48 made up of the loan amount plus interest (\xA3122,044.48) and fees (\xA30.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:638120,LenderId:1,LenderName:"Santander",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/santander.gif",ProductSchemeFriendlyName:"Fixed to 02/08/28",Rate:4.18,FollowOnRate:"then 6.75% (variable)",PMT:672.28,FutureValue:115931.9,FutureMonthlyPayment:844.1,TotalFees:999,AnnualCost:8400.36,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 02/08/28",ExitFee:225,Legals:"Payable",MinimumMortgageAmount:6e3,MaximumMortgageAmount:5e6,LTV:75,APR:6.268,FollowOnRateValue:6.75,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.18% and then on a variable rate of 6.75% for the remaining 22 years would require 36 payments of \xA3672.28 and 264 payments of \xA3844.10. The total amount payable would be \xA3248,043.48 made up of the loan amount plus interest (\xA3122,044.48) and fees (\xA3999.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:642106,LenderId:68,LenderName:"Bank of Ireland",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/bankofireland.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.18,FollowOnRate:"then 7.64% (variable)",PMT:672.28,FutureValue:119081.57,FutureMonthlyPayment:917.29,TotalFees:1195,AnnualCost:8664.86,ApplicationFee:0,CompletionFee:1495,ValuationFee:0,OtherFees:0,Cashback:300,BrokerFee:0,OverpaymentLimit:"10% pa",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% until 31/08/27",ExitFee:195,Legals:"Payable",MinimumMortgageAmount:1e5,MaximumMortgageAmount:25e5,LTV:85,APR:7.235,FollowOnRateValue:7.64,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.18% and then on a variable rate of 7.64% for the remaining 23 years would require 24 payments of \xA3672.28 and 276 payments of \xA3917.29. The total amount payable would be \xA3270,501.76 made up of the loan amount plus interest (\xA3144,306.76) and fees (\xA31,195.00). The overall cost for comparison is 7.2% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Broker",AvailableFor:"Purchase"},{ProductId:645528,LenderId:2,LenderName:"Coventry",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/coventry.gif",ProductSchemeFriendlyName:"Fixed to 31/10/28",Rate:4.18,FollowOnRate:"then 7.09% (variable)",PMT:672.28,FutureValue:115931.9,FutureMonthlyPayment:868.3,TotalFees:999,AnnualCost:8400.36,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3.5% reducing to 2% until 31/10/28",ExitFee:125,Legals:"Payable",MinimumMortgageAmount:1,MaximumMortgageAmount:2e6,LTV:75,APR:6.544,FollowOnRateValue:7.09,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.18% and then on a variable rate of 7.09% for the remaining 22 years would require 36 payments of \xA3672.28 and 264 payments of \xA3868.30. The total amount payable would be \xA3254,432.28 made up of the loan amount plus interest (\xA3128,433.28) and fees (\xA3999.00). The overall cost for comparison is 6.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644374,LenderId:4,LenderName:"Barclays",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/barclays.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:4.18,FollowOnRate:"then 6.49% (variable)",PMT:672.28,FutureValue:119081.57,FutureMonthlyPayment:831.73,TotalFees:0,AnnualCost:8067.36,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% until 30/06/27",ExitFee:80,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:1e7,LTV:60,APR:6.165,FollowOnRateValue:6.49,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.18% and then on a variable rate of 6.49% for the remaining 23 years would require 24 payments of \xA3672.28 and 276 payments of \xA3831.73. The total amount payable would be \xA3245,692.20 made up of the loan amount plus interest (\xA3120,692.20) and fees (\xA30.00). The overall cost for comparison is 6.2% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:644939,LenderId:25,LenderName:"Halifax",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/halifax.gif",ProductSchemeFriendlyName:"Fixed to 31/08/28",Rate:4.19,FollowOnRate:"then 7.99% (variable)",PMT:672.98,FutureValue:115943.73,FutureMonthlyPayment:933.97,TotalFees:1099,AnnualCost:8442.09,ApplicationFee:0,CompletionFee:999,ValuationFee:100,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 1% until 31/08/28",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e5,MaximumMortgageAmount:75e5,LTV:75,APR:7.277,FollowOnRateValue:7.99,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.19% and then on a variable rate of 7.99% for the remaining 22 years would require 36 payments of \xA3672.98 and 264 payments of \xA3933.97. The total amount payable would be \xA3271,894.36 made up of the loan amount plus interest (\xA3145,795.36) and fees (\xA31,099.00). The overall cost for comparison is 7.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:642515,LenderId:28,LenderName:"HSBC",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/hsbc.gif",ProductSchemeFriendlyName:"Fixed to 31/08/27",Rate:4.19,FollowOnRate:"then 6.74% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:850.05,TotalFees:0,AnnualCost:8075.76,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% until 31/08/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:1e4,MaximumMortgageAmount:1e8,LTV:60,APR:6.401,FollowOnRateValue:6.74,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 6.74% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3850.05. The total amount payable would be \xA3250,765.32 made up of the loan amount plus interest (\xA3125,765.32) and fees (\xA30.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:643516,LenderId:37,LenderName:"Leeds",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/leeds.gif",ProductSchemeFriendlyName:"Fixed to 31/08/30",Rate:4.19,FollowOnRate:"then 7.99% (variable)",PMT:672.98,FutureValue:109243.14,FutureMonthlyPayment:913.07,TotalFees:999,AnnualCost:8275.56,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 2% until 31/08/30",ExitFee:199,Legals:"Payable",MinimumMortgageAmount:0,MaximumMortgageAmount:2e6,LTV:75,APR:6.802,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.19% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3672.98 and 240 payments of \xA3913.07. The total amount payable would be \xA3260,514.60 made up of the loan amount plus interest (\xA3134,515.60) and fees (\xA3999.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Both"},{ProductId:644126,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/30",Rate:4.19,FollowOnRate:"then 7.99% (variable)",PMT:672.98,FutureValue:109243.14,FutureMonthlyPayment:913.07,TotalFees:995,AnnualCost:8274.76,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 2% until 30/06/30",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:75,APR:6.802,FollowOnRateValue:7.99,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.19% and then on a variable rate of 7.99% for the remaining 20 years would require 60 payments of \xA3672.98 and 240 payments of \xA3913.07. The total amount payable would be \xA3260,510.60 made up of the loan amount plus interest (\xA3134,515.60) and fees (\xA3995.00). The overall cost for comparison is 6.8% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:639846,LenderId:45,LenderName:"First Direct",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/firstdirect.gif",ProductSchemeFriendlyName:"Fixed for 3 years",Rate:4.19,FollowOnRate:"then 6.74% (variable)",PMT:672.98,FutureValue:115943.73,FutureMonthlyPayment:843.48,TotalFees:490,AnnualCost:8239.09,ApplicationFee:490,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"Unlimited",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% for 3 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:null,MaximumMortgageAmount:1e7,LTV:75,APR:6.262,FollowOnRateValue:6.74,SchemeLength:36,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 3 years at 4.19% and then on a variable rate of 6.74% for the remaining 22 years would require 36 payments of \xA3672.98 and 264 payments of \xA3843.48. The total amount payable would be \xA3247,396.00 made up of the loan amount plus interest (\xA3121,906.00) and fees (\xA3490.00). The overall cost for comparison is 6.3% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:639855,LenderId:45,LenderName:"First Direct",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/firstdirect.gif",ProductSchemeFriendlyName:"Fixed for 5 years",Rate:4.19,FollowOnRate:"then 6.74% (variable)",PMT:672.98,FutureValue:109243.14,FutureMonthlyPayment:830,TotalFees:490,AnnualCost:8173.76,ApplicationFee:490,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"Unlimited",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% for 5 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:null,MaximumMortgageAmount:1e7,LTV:75,APR:5.943,FollowOnRateValue:6.74,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.19% and then on a variable rate of 6.74% for the remaining 20 years would require 60 payments of \xA3672.98 and 240 payments of \xA3830.00. The total amount payable would be \xA3240,068.80 made up of the loan amount plus interest (\xA3114,578.80) and fees (\xA3490.00). The overall cost for comparison is 5.9% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:639835,LenderId:45,LenderName:"First Direct",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/firstdirect.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:4.19,FollowOnRate:"then 6.74% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:850.05,TotalFees:490,AnnualCost:8320.76,ApplicationFee:490,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"Unlimited",ERC:"Early Repayment Charges apply",ERCText:"3% reducing to 2% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:null,MaximumMortgageAmount:1e7,LTV:75,APR:6.421,FollowOnRateValue:6.74,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 6.74% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3850.05. The total amount payable would be \xA3251,255.32 made up of the loan amount plus interest (\xA3125,765.32) and fees (\xA3490.00). The overall cost for comparison is 6.4% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"},{ProductId:648386,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:4.19,FollowOnRate:"then 7.99% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:944.14,TotalFees:995,AnnualCost:8573.26,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 30/06/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:80,APR:7.515,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3944.14. The total amount payable would be \xA3277,729.16 made up of the loan amount plus interest (\xA3151,734.16) and fees (\xA3995.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648388,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:4.19,FollowOnRate:"then 7.99% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:944.14,TotalFees:995,AnnualCost:8573.26,ApplicationFee:0,CompletionFee:995,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 30/06/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:85,APR:7.515,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3944.14. The total amount payable would be \xA3277,729.16 made up of the loan amount plus interest (\xA3151,734.16) and fees (\xA3995.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647910,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:4.19,FollowOnRate:"then 7.24% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:887.15,TotalFees:999,AnnualCost:8575.26,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:80,APR:6.883,FollowOnRateValue:7.24,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 7.24% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3887.15. The total amount payable would be \xA3262,003.92 made up of the loan amount plus interest (\xA3136,004.92) and fees (\xA3999.00). The overall cost for comparison is 6.9% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:647920,LenderId:6,LenderName:"Nationwide",ApplyDirectLink:"Nationwide_ResiBTL_PurRemo_NonFTB",LenderURL:"https://assets.landc.co.uk/lender/nationwide.gif",ProductSchemeFriendlyName:"Fixed for 2 years",Rate:4.19,FollowOnRate:"then 7.24% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:887.15,TotalFees:999,AnnualCost:8575.26,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2% reducing to 1% for 2 years",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:25e3,MaximumMortgageAmount:5e6,LTV:85,APR:6.883,FollowOnRateValue:7.24,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 7.24% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3887.15. The total amount payable would be \xA3262,003.92 made up of the loan amount plus interest (\xA3136,004.92) and fees (\xA3999.00). The overall cost for comparison is 6.9% APRC representative.",SAP:1,SharedOwnership:"Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:648383,LenderId:29,LenderName:"TSB",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/tsb.gif",ProductSchemeFriendlyName:"Fixed to 30/06/27",Rate:4.19,FollowOnRate:"then 7.99% (variable)",PMT:672.98,FutureValue:119089.6,FutureMonthlyPayment:944.14,TotalFees:0,AnnualCost:8075.76,ApplicationFee:0,CompletionFee:0,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"2.5% reducing to 1.5% until 30/06/27",ExitFee:0,Legals:"Payable",MinimumMortgageAmount:5e3,MaximumMortgageAmount:75e5,LTV:60,APR:7.485,FollowOnRateValue:7.99,SchemeLength:24,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 2 years at 4.19% and then on a variable rate of 7.99% for the remaining 23 years would require 24 payments of \xA3672.98 and 276 payments of \xA3944.14. The total amount payable would be \xA3276,734.16 made up of the loan amount plus interest (\xA3151,734.16) and fees (\xA30.00). The overall cost for comparison is 7.5% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Everyone",AvailableFor:"Purchase"},{ProductId:629161,LenderId:12,LenderName:"Cumberland",ApplyDirectLink:null,LenderURL:"https://assets.landc.co.uk/lender/cumberland.gif",ProductSchemeFriendlyName:"Fixed to 01/06/30",Rate:4.21,FollowOnRate:"then 7.64% (variable)",PMT:674.38,FutureValue:109280.96,FutureMonthlyPayment:889.73,TotalFees:999,AnnualCost:8292.36,ApplicationFee:0,CompletionFee:999,ValuationFee:0,OtherFees:0,Cashback:0,BrokerFee:0,OverpaymentLimit:"10% p/a",ERC:"Early Repayment Charges apply",ERCText:"5% reducing to 1% until 01/06/30",ExitFee:125,Legals:"Payable",MinimumMortgageAmount:2e4,MaximumMortgageAmount:2e6,LTV:60,APR:6.568,FollowOnRateValue:7.64,SchemeLength:60,SchemeTypeRefId:51,IsRemortgage:!1,RepresentativeExample:"A mortgage of \xA3125,000.00 payable over 25 years, initially on a fixed rate for 5 years at 4.21% and then on a variable rate of 7.64% for the remaining 20 years would require 60 payments of \xA3674.38 and 240 payments of \xA3889.73. The total amount payable would be \xA3254,997.00 made up of the loan amount plus interest (\xA3128,998.00) and fees (\xA3999.00). The overall cost for comparison is 6.6% APRC representative.",SAP:1,SharedOwnership:"Not Available",NewBuild:"Also Available for New Build",Offset:!1,LtdCompany:"",HMO:!1,Channel:"Direct Only",AvailableFor:"Purchase"}]}};var La=class extends Bt{constructor(e,t){super(e,t)}init(){}};var Ra=class{constructor(e){f(this,"component");f(this,"id");f(this,"isInitialised",!1);f(this,"products");f(this,"summaryInfo");f(this,"header");f(this,"outputs",[]);f(this,"filterGroups",[]);f(this,"appointmentDialogButton");f(this,"appointmentDialog");f(this,"appointmentDialogClose");f(this,"getFreeAdvice");f(this,"getFreeAdviceButton");f(this,"getADecision");f(this,"getADecisionButton");f(this,"applyDirect");f(this,"applyDirectLink");f(this,"results",[]);f(this,"resultsList");f(this,"resultsTemplate");f(this,"loader");f(this,"empty");f(this,"pagination");f(this,"paginationButton");this.component=e,this.id="results";let t=hr;this.products=t.result.Products,this.summaryInfo=t.result.SummaryInfo,this.header=x(`[${Y.components}="header"]`,this.component),this.outputs=T(`[${Y.output}]`,this.header),this.appointmentDialogButton=x(`[${Y.components}="book-an-appointment"]`,this.header),this.appointmentDialog=x(`[${Y.components}="appointment-dialog"]`,this.component),this.appointmentDialogClose=x(`[${Y.components}="close-appointment-dialog"]`,this.appointmentDialog),this.getFreeAdvice=x(`[${Y.components}="get-free-advice"]`,this.appointmentDialog),this.getFreeAdviceButton=x("button",this.getFreeAdvice),this.getADecision=x(`[${Y.components}="get-a-decision"]`,this.appointmentDialog),this.getADecisionButton=x("button",this.getADecision),this.applyDirect=x(`[${Y.components}="apply-direct"]`,this.appointmentDialog),this.applyDirectLink=x("a",this.applyDirect),this.resultsList=x(`[${Y.components}="list"]`,this.component),this.resultsTemplate=x(`[${Y.components}="template"]`,this.component),this.resultsTemplate.remove(),this.loader=x(`[${Y.components}="loader"]`,this.component),this.empty=x(`[${Y.components}="empty"]`,this.component),this.pagination=x(`[${Y.components}="pagination"]`,this.component),this.paginationButton=x("button",this.pagination)}init(){this.isInitialised||(this.isInitialised=!0,this.initFilterGroups(),this.initAppointmentDialog(),this.initListElements(),this.renderOutputs(),this.renderFilters(),this.handleProductsAPI())}show(){this.component.style.removeProperty("display")}hide(){this.component.style.display="none"}initFilterGroups(){let e=T(`[${Y.components}="filter-group"]`,this.component);this.filterGroups=e.map(t=>new La(t,{onChange:()=>this.handleChange(),groupName:"filterGroup"}))}handleChange(){this.filterGroups.forEach(e=>{let t=e.getValue(),a=e.name;a&&t!==null&&t!==void 0&&q.setAnswer(a,t)}),this.handleProductsAPI()}initAppointmentDialog(){let e=q.getAnswers(),{ReadinessToBuy:t}=e,a=t==="C"||t==="D";a?this.getFreeAdvice.style.removeProperty("display"):this.getFreeAdvice.style.display="none",a?this.getADecision.style.display="none":this.getADecision.style.removeProperty("display"),this.applyDirect.style.display="none",this.appointmentDialogButton.addEventListener("click",()=>this.appointmentDialog.showModal()),this.appointmentDialogClose.addEventListener("click",()=>this.appointmentDialog.close()),this.appointmentDialog.addEventListener("close",()=>this.applyDirect.style.display="none")}initListElements(){this.loader.style.display="none",this.empty.style.display="none",this.pagination.style.display="none"}renderOutputs(){let e=ba(this.summaryInfo,q.getAnswers());e&&this.outputs.forEach(t=>{let a=t.getAttribute(Y.output),i=t.getAttribute(Y.type);if(a==="LTV"){let s=q.getAnswer("PropertyValue"),o=q.getAnswer("DepositAmount"),r=(s-o)/s*100;i==="percentage"?r&&(t.textContent=He(r,{type:"percent",decimals:0})):i==="progress-bar"&&r&&(t.style.width=`${r}%`);return}else if(a==="MortgageAmount"){let s=q.getAnswer("PropertyValue"),o=q.getAnswer("DepositAmount"),r=s-o;i==="currency"&&r&&(t.textContent=He(r,{type:"currency"}));return}if(i==="sentence"){let s=e[a];s&&(t.innerHTML=s)}else if(i==="currency"){let s=q.getAnswer(a);console.log(a,i,s),s&&(t.textContent=He(s,{type:"currency"}))}else if(i==="percentage"){let s=q.getAnswer(a);s&&(t.textContent=He(s,{type:"percent"}))}else if(i==="progress-bar"){let s=q.getAnswer(a);s&&(t.style.width=`${s}%`)}})}renderFilters(){let e=q.getAnswers();this.filterGroups.forEach(t=>{let a=e[t.name];a&&t.setValue(a)})}renderResults(){if(this.results.forEach(t=>t.remove()),this.products.length===0){this.showListUI("empty",!0);return}this.showListUI("empty",!1),this.results=this.products.map(t=>new Aa(this.resultsList,{template:this.resultsTemplate,product:t,onClick:a=>this.handleProductCTA(a)}))}handleProductCTA(e){let{ApplyDirectLink:t}=e;t?(this.applyDirect.style.removeProperty("display"),this.applyDirectLink.href=t):this.applyDirect.style.display="none",et(this.appointmentDialogButton,"click")}async fetchProducts(){let e=Ht(q.getAnswers(),{numberOfResults:100,sortColumn:1});try{return await ya(e)}catch(t){return console.error("Failed to fetch products:",t),null}}async handleProductsAPI(){console.log("handleProductsAPI"),this.showListUI("loader",!0);let e=await this.fetchProducts();if(!e){this.showListUI("loader",!1);return}this.products=e.result.Products,this.summaryInfo=e.result.SummaryInfo;let t=this.products.map(a=>a.SAP);console.log(t),console.log(this.products),console.log(this.summaryInfo),this.renderResults(),this.renderOutputs(),this.showListUI("loader",!1)}showListUI(e,t){let a=e==="loader"?this.loader:this.empty;t?a.style.removeProperty("display"):a.style.display="none",t?this.resultsList.style.display="none":this.resultsList.style.removeProperty("display")}};var dr=n=>{let e=new Ra(n);return e||null};var pr=async()=>{let n=await Vt(ga.lcid,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:"NewEnquiry",input:{lcid:q.getLCID(),icid:q.getICID(),partnerId:"",partnerName:""}})});if(!n?.result?.lcid)throw new Error("Failed to generate LCID");return n.result.lcid};var Fa={},Ee={mctComponent:null,stages:{}},J={lcid:null,icid:null,currentStageId:null,answers:{},summary:null,products:null},fr="mct_data",q={start(){this.initDOM(),this.initICID(),this.initLCID(),this.initStages(),this.route()},initDOM(){if(Ee.mctComponent=x(`[${fa.mct}="component"]`),!Ee.mctComponent)throw new Error("MCT component not found");return T(`[${fa.stage}]`,Ee.mctComponent).forEach(e=>{let t=e.getAttribute(fa.stage);t&&(Ee.stages[t]=e)}),Ee},initICID(){let n=Ii("ICID");this.setICID(n??"default")},async initLCID(){let n=Ii("LCID");this.setLCID(n??null);try{let e=await pr();this.setLCID(e)}catch{console.error("Failed to generate LCID")}},initStages(){let n=this.getStageDOM("questions"),e=cr(n,{mode:"main",prefill:!1});e?.hide();let t=this.getStageDOM("results"),a=dr(t);a?.hide(),Fa.questions=e,Fa.results=a},getComponentDOM(){if(!Ee.mctComponent)throw new Error("MCT component not initialised");return Ee.mctComponent},getStageDOM(n){if(!Ee.stages)throw new Error("Stages not initialised");if(!Ee.stages[n])throw new Error(`Stage '${n}' not found`);return Ee.stages[n]},route(){this.goToStage("questions")},goToStage(n){let e=Fa[n]??null;if(!e)return!1;let t=Fa[J.currentStageId]??null;return t&&t.hide(),J.currentStageId=n,e.show(),e.init(),!0},getPersistedData(){let n=localStorage.getItem(fr);return n?JSON.parse(n):{}},setPersistedData(n){localStorage.setItem(fr,JSON.stringify(n))},setICID(n){let e=this.getPersistedData();e.icid=n,this.setPersistedData(e),J.icid=n,Ni("ICID",n)},getICID(){return J.icid},setLCID(n){let e=this.getPersistedData();e.lcid=n,this.setPersistedData(e),J.lcid=n,Ni("LCID",n??"")},getLCID(){return J.lcid},setAnswer(n,e){let t=this.getPersistedData();t.answers||(t.answers={}),t.answers[n]=e,this.setPersistedData(t),J.answers[n]=e},getAnswer(n){return J.answers?.[n]},getAnswers(){return{...J.answers}},clearAnswer(n){let e=this.getPersistedData();delete e.answers?.[n],this.setPersistedData(e),delete J.answers[n]},clearAnswers(){let n=this.getPersistedData();n.answers={},this.setPersistedData(n),J.answers={}},initFromStorage(){let n=this.getPersistedData();J.lcid=n.lcid??null,J.icid=n.icid??null,J.answers=n.answers??{}},setProducts(n){J.products=n},getProducts(){return J.products},setSummary(n){J.summary=n},getSummary(){return J.summary},getState(){return{...J}}};var mr=()=>{q.start()};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{ir(),Hi(),ar(),sr(),mr()});})();
/*! Bundled license information:

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.4
   * https://github.com/kurkle/color#readme
   * (c) 2024 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.8
   * https://www.chartjs.org
   * (c) 2025 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.8
   * https://www.chartjs.org
   * (c) 2025 Chart.js Contributors
   * Released under the MIT License
   *)
*/
